"use strict";(self.webpackChunkmonosushi=self.webpackChunkmonosushi||[]).push([[179],{2313:(bn,ot,B)=>{B.d(ot,{nm:()=>Er});var p=B(2122),Pe=(B(1571),B(3692),B(259),B(5861)),_e=B(9681),Ie=B(4859),Ae=B(2090),Ge=B(1877);const ce=new Map,Se={activated:!1,tokenObservers:[]},Ze={initialized:!1,enabled:!1};function Dt(Fe){return ce.get(Fe)||Object.assign({},Se)}function Lt(){return Ze}const _t="https://content-firebaseappcheck.googleapis.com/v1",gn="exchangeDebugToken",Pn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ce{constructor(He,Xe,Ot,Yt,cn){if(this.operation=He,this.retryPolicy=Xe,this.getWaitDuration=Ot,this.lowerBound=Yt,this.upperBound=cn,this.pending=null,this.nextErrorWaitInterval=Yt,Yt>cn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(He){var Xe=this;return(0,Pe.Z)(function*(){Xe.stop();try{Xe.pending=new Ae.BH,yield function Oe(Fe){return new Promise(He=>{setTimeout(He,Fe)})}(Xe.getNextRun(He)),Xe.pending.resolve(),yield Xe.pending.promise,Xe.pending=new Ae.BH,yield Xe.operation(),Xe.pending.resolve(),yield Xe.pending.promise,Xe.process(!0).catch(()=>{})}catch(Ot){Xe.retryPolicy(Ot)?Xe.process(!1).catch(()=>{}):Xe.stop()}})()}getNextRun(He){if(He)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Xe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Xe}}}const Nt=new Ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wt(Fe,He){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,Pe.Z)(function*({url:Fe,body:He},Xe){const Ot={"Content-Type":"application/json"},Yt=Xe.getImmediate({optional:!0});if(Yt){const Ki=yield Yt.getHeartbeatsHeader();Ki&&(Ot["X-Firebase-Client"]=Ki)}const cn={method:"POST",body:JSON.stringify(He),headers:Ot};let Xn,On;try{Xn=yield fetch(Fe,cn)}catch(Ki){throw Nt.create("fetch-network-error",{originalErrorMessage:Ki?.message})}if(200!==Xn.status)throw Nt.create("fetch-status-error",{httpStatus:Xn.status});try{On=yield Xn.json()}catch(Ki){throw Nt.create("fetch-parse-error",{originalErrorMessage:Ki?.message})}const pi=On.ttl.match(/^([\d.]+)(s)$/);if(!pi||!pi[2]||isNaN(Number(pi[1])))throw Nt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${On.ttl}`});const gr=1e3*Number(pi[1]),Yn=Date.now();return{token:On.token,expireTimeMillis:Yn+gr,issuedAtTimeMillis:Yn}})).apply(this,arguments)}const St="firebase-app-check-database",Wt=1,Vt="firebase-app-check-store";let ht=null;function fi(Fe,He){return an.apply(this,arguments)}function an(){return(an=(0,Pe.Z)(function*(Fe,He){const Ot=(yield function jt(){return ht||(ht=new Promise((Fe,He)=>{try{const Xe=indexedDB.open(St,Wt);Xe.onsuccess=Ot=>{Fe(Ot.target.result)},Xe.onerror=Ot=>{var Yt;He(Nt.create("storage-open",{originalErrorMessage:null===(Yt=Ot.target.error)||void 0===Yt?void 0:Yt.message}))},Xe.onupgradeneeded=Ot=>{0===Ot.oldVersion&&Ot.target.result.createObjectStore(Vt,{keyPath:"compositeKey"})}}catch(Xe){He(Nt.create("storage-open",{originalErrorMessage:Xe?.message}))}}),ht)}()).transaction(Vt,"readwrite"),cn=Ot.objectStore(Vt).put({compositeKey:Fe,value:He});return new Promise((Xn,On)=>{cn.onsuccess=pi=>{Xn()},Ot.onerror=pi=>{var gr;On(Nt.create("storage-set",{originalErrorMessage:null===(gr=pi.target.error)||void 0===gr?void 0:gr.message}))}})})).apply(this,arguments)}const ci=new Ge.Yd("@firebase/app-check");function Di(Fe,He){return(0,Ae.hl)()?function et(Fe,He){return fi(function Bn(Fe){return`${Fe.options.appId}-${Fe.name}`}(Fe),He)}(Fe,He).catch(Xe=>{ci.warn(`Failed to write token to IndexedDB. Error: ${Xe}`)}):Promise.resolve()}function Wn(){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,Pe.Z)(function*(){const Fe=Lt();if(Fe.enabled&&Fe.token)return Fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xt={error:"UNKNOWN_ERROR"};function yn(Fe){return Ae.US.encodeString(JSON.stringify(Fe),!1)}function Rt(Fe){return zt.apply(this,arguments)}function zt(){return(zt=(0,Pe.Z)(function*(Fe,He=!1){const Xe=Fe.app;!function lt(Fe){if(!Dt(Fe).activated)throw Nt.create("use-before-activation",{appName:Fe.name})}(Xe);const Ot=Dt(Xe);let cn,Yt=Ot.token;if(Yt&&!Ii(Yt)&&(Ot.token=void 0,Yt=void 0),!Yt){const pi=yield Ot.cachedTokenPromise;pi&&(Ii(pi)?Yt=pi:yield Di(Xe,void 0))}if(!He&&Yt&&Ii(Yt))return{token:Yt.token};let On,Xn=!1;if(function gi(){return Lt().enabled}()){Ot.exchangeTokenPromise||(Ot.exchangeTokenPromise=wt(function pt(Fe,He){const{projectId:Xe,appId:Ot,apiKey:Yt}=Fe.options;return{url:`${_t}/projects/${Xe}/apps/${Ot}:${gn}?key=${Yt}`,body:{debug_token:He}}}(Xe,yield Wn()),Fe.heartbeatServiceProvider).finally(()=>{Ot.exchangeTokenPromise=void 0}),Xn=!0);const pi=yield Ot.exchangeTokenPromise;return yield Di(Xe,pi),Ot.token=pi,{token:pi.token}}try{Ot.exchangeTokenPromise||(Ot.exchangeTokenPromise=Ot.provider.getToken().finally(()=>{Ot.exchangeTokenPromise=void 0}),Xn=!0),Yt=yield Dt(Xe).exchangeTokenPromise}catch(pi){"appCheck/throttled"===pi.code?ci.warn(pi.message):ci.error(pi),cn=pi}return Yt?cn?On=Ii(Yt)?{token:Yt.token,internalError:cn}:xn(cn):(On={token:Yt.token},Ot.token=Yt,yield Di(Xe,Yt)):On=xn(cn),Xn&&function Oi(Fe,He){const Xe=Dt(Fe).tokenObservers;for(const Ot of Xe)try{"EXTERNAL"===Ot.type&&null!=He.error?Ot.error(He.error):Ot.next(He)}catch{}}(Xe,On),On})).apply(this,arguments)}function ti(Fe,He){const Xe=Dt(Fe),Ot=Xe.tokenObservers.filter(Yt=>Yt.next!==He);0===Ot.length&&Xe.tokenRefresher&&Xe.tokenRefresher.isRunning()&&Xe.tokenRefresher.stop(),Xe.tokenObservers=Ot}function Gn(Fe){const{app:He}=Fe,Xe=Dt(He);let Ot=Xe.tokenRefresher;Ot||(Ot=function Fi(Fe){const{app:He}=Fe;return new Ce((0,Pe.Z)(function*(){let Ot;if(Ot=Dt(He).token?yield Rt(Fe,!0):yield Rt(Fe),Ot.error)throw Ot.error;if(Ot.internalError)throw Ot.internalError}),()=>!0,()=>{const Xe=Dt(He);if(Xe.token){let Ot=Xe.token.issuedAtTimeMillis+.5*(Xe.token.expireTimeMillis-Xe.token.issuedAtTimeMillis)+3e5;return Ot=Math.min(Ot,Xe.token.expireTimeMillis-3e5),Math.max(0,Ot-Date.now())}return 0},Pn.RETRIAL_MIN_WAIT,Pn.RETRIAL_MAX_WAIT)}(Fe),Xe.tokenRefresher=Ot),!Ot.isRunning()&&Xe.isTokenAutoRefreshEnabled&&Ot.start()}function Ii(Fe){return Fe.expireTimeMillis-Date.now()>0}function xn(Fe){return{token:yn(xt),error:Fe}}class si{constructor(He,Xe){this.app=He,this.heartbeatServiceProvider=Xe}_delete(){const{tokenObservers:He}=Dt(this.app);for(const Xe of He)ti(this.app,Xe.next);return Promise.resolve()}}const mn="app-check-internal";!function ni(){(0,_e.Xd)(new Ie.wA("app-check",Fe=>function pr(Fe,He){return new si(Fe,He)}(Fe.getProvider("app").getImmediate(),Fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Fe,He,Xe)=>{Fe.getProvider(mn).initialize()})),(0,_e.Xd)(new Ie.wA(mn,Fe=>function oi(Fe){return{getToken:He=>Rt(Fe,He),addTokenListener:He=>function Jt(Fe,He,Xe,Ot){const{app:Yt}=Fe,cn=Dt(Yt);if(cn.tokenObservers=[...cn.tokenObservers,{next:Xe,error:Ot,type:He}],cn.token&&Ii(cn.token)){const On=cn.token;Promise.resolve().then(()=>{Xe({token:On.token}),Gn(Fe)}).catch(()=>{})}cn.cachedTokenPromise.then(()=>Gn(Fe))}(Fe,"INTERNAL",He),removeTokenListener:He=>ti(Fe.app,He)}}(Fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_e.KN)("@firebase/app-check","0.6.4")}();class Er{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(bn,ot,B)=>{B.d(ot,{Ot:()=>Ne,ZF:()=>Ht,hX:()=>Dt,z6:()=>Pe});var p=B(259),f=B(1571),le=B(2122);class Ne{constructor(Ce){return Ce}}class Pe{constructor(){return(0,p.C6)()}}const Ae=new f.OlP("angularfire2._apps"),Ge={provide:Ne,useFactory:function Ie(Me){return Me&&1===Me.length?Me[0]:new Ne((0,p.Mq)())},deps:[[new f.FiY,Ae]]},ce={provide:Pe,deps:[[new f.FiY,Ae]]};function Se(Me){return(Ce,Oe)=>{const ct=Ce.runOutsideAngular(()=>Me(Oe));return new Ne(ct)}}let Ze=(()=>{class Me{constructor(Oe){(0,p.KN)("angularfire",le.q4.full,"core"),(0,p.KN)("angularfire",le.q4.full,"app"),(0,p.KN)("angular",f.q4F.full,Oe.toString())}}return Me.\u0275fac=function(Oe){return new(Oe||Me)(f.LFG(f.Lbi))},Me.\u0275mod=f.oAB({type:Me}),Me.\u0275inj=f.cJS({providers:[Ge,ce]}),Me})();function Dt(Me,...Ce){return{ngModule:Ze,providers:[{provide:Ae,useFactory:Se(Me),multi:!0,deps:[f.R0b,f.zs3,le.HU,...Ce]}]}}const Ht=(0,le.u3)(p.ZF,!0)},4226:(bn,ot,B)=>{B.d(ot,{gx:()=>Xo,dh:()=>lh,Xb:()=>Yu,v0:()=>ml,AR:()=>Df,e5:()=>Jc});var p=B(2122),f=B(1571),le=B(3692),Ne=B(259),Pe=B(2313),_e=B(5861),Ie=B(2090),Ae=B(9681),Ge=B(1877),ce=B(655),Se=B(4859);const Pn=function Qt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Me=new Ie.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new Ge.Yd("@firebase/auth");function ct(I,...d){Oe.logLevel<=Ge.in.ERROR&&Oe.error(`Auth (${Ae.Jn}): ${I}`,...d)}function Nt(I,...d){throw Zt(I,...d)}function rt(I,...d){return Zt(I,...d)}function Zt(I,...d){if("string"!=typeof I){const g=d[0],R=[...d.slice(1)];return R[0]&&(R[0].appName=I.name),I._errorFactory.create(g,...R)}return Me.create(I,...d)}function wt(I,d,...g){if(!I)throw Zt(d,...g)}function Xt(I){const d="INTERNAL ASSERTION FAILED: "+I;throw ct(d),new Error(d)}function tt(I,d){I||Xt(d)}const st=new Map;function pt(I){tt(I instanceof Function,"Expected a class definition");let d=st.get(I);return d?(tt(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,st.set(I,d),d)}function Vt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function ht(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class et{constructor(d,g){this.shortDelay=d,this.longDelay=g,tt(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,Ie.uI)()||(0,Ie.b$)()}get(){return function jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function pn(){return"http:"===ht()||"https:"===ht()}()||(0,Ie.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tt(I,d){tt(I.emulator,"Emulator should always be set here");const{url:g}=I.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class un{static initialize(d,g,R){this.fetchImpl=d,g&&(this.headersImpl=g),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new et(3e4,6e4);function dn(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function Un(I,d,g,R){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,_e.Z)(function*(I,d,g,R,ee={}){return ci(I,ee,(0,_e.Z)(function*(){let Ee={},Et={};R&&("GET"===d?Et=R:Ee={body:JSON.stringify(R)});const sn=(0,Ie.xO)(Object.assign({key:I.config.apiKey},Et)).slice(1),Nn=yield I._getAdditionalHeaders();return Nn["Content-Type"]="application/json",I.languageCode&&(Nn["X-Firebase-Locale"]=I.languageCode),un.fetch()(Jn(I,I.config.apiHost,g,sn),Object.assign({method:d,headers:Nn,referrerPolicy:"no-referrer"},Ee))}))})).apply(this,arguments)}function ci(I,d,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,_e.Z)(function*(I,d,g){I._canInitEmulator=!1;const R=Object.assign(Object.assign({},fi),d);try{const ee=new di(I),Ee=yield Promise.race([g(),ee.promise]);ee.clearNetworkTimeout();const Et=yield Ee.json();if("needConfirmation"in Et)throw gi(I,"account-exists-with-different-credential",Et);if(Ee.ok&&!("errorMessage"in Et))return Et;{const sn=Ee.ok?Et.errorMessage:Et.error.message,[Nn,Kn]=sn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nn)throw gi(I,"credential-already-in-use",Et);if("EMAIL_EXISTS"===Nn)throw gi(I,"email-already-in-use",Et);if("USER_DISABLED"===Nn)throw gi(I,"user-disabled",Et);const Qi=R[Nn]||Nn.toLowerCase().replace(/[_\s]+/g,"-");if(Kn)throw function lt(I,d,g){const R=Object.assign(Object.assign({},Pn()),{[d]:g});return new Ie.LL("auth","Firebase",R).create(d,{appName:I.name})}(I,Qi,Kn);Nt(I,Qi)}}catch(ee){if(ee instanceof Ie.ZR)throw ee;Nt(I,"network-request-failed",{message:String(ee)})}})).apply(this,arguments)}function wn(I,d,g,R){return Di.apply(this,arguments)}function Di(){return(Di=(0,_e.Z)(function*(I,d,g,R,ee={}){const Ee=yield Un(I,d,g,R,ee);return"mfaPendingCredential"in Ee&&Nt(I,"multi-factor-auth-required",{_serverResponse:Ee}),Ee})).apply(this,arguments)}function Jn(I,d,g,R){const ee=`${d}${g}?${R}`;return I.config.emulator?Tt(I.config,ee):`${I.config.apiScheme}://${ee}`}class di{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,R)=>{this.timer=setTimeout(()=>R(rt(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gi(I,d,g){const R={appName:I.name};g.email&&(R.email=g.email),g.phoneNumber&&(R.phoneNumber=g.phoneNumber);const ee=rt(I,d,R);return ee.customData._tokenResponse=g,ee}function Ti(){return(Ti=(0,_e.Z)(function*(I,d){return Un(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Rt(){return(Rt=(0,_e.Z)(function*(I,d){return Un(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function zt(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Gn(){return(Gn=(0,_e.Z)(function*(I,d=!1){const g=(0,Ie.m9)(I),R=yield g.getIdToken(d),ee=Oi(R);wt(ee&&ee.exp&&ee.auth_time&&ee.iat,g.auth,"internal-error");const Ee="object"==typeof ee.firebase?ee.firebase:void 0,Et=Ee?.sign_in_provider;return{claims:ee,token:R,authTime:zt(Fi(ee.auth_time)),issuedAtTime:zt(Fi(ee.iat)),expirationTime:zt(Fi(ee.exp)),signInProvider:Et||null,signInSecondFactor:Ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Fi(I){return 1e3*Number(I)}function Oi(I){const[d,g,R]=I.split(".");if(void 0===d||void 0===g||void 0===R)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const ee=(0,Ie.tV)(g);return ee?JSON.parse(ee):(ct("Failed to decode base64 JWT payload"),null)}catch(ee){return ct("Caught error parsing JWT payload as JSON",ee?.toString()),null}}function xn(I,d){return si.apply(this,arguments)}function si(){return(si=(0,_e.Z)(function*(I,d,g=!1){if(g)return d;try{return yield d}catch(R){throw R instanceof Ie.ZR&&function pr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(R)&&I.auth.currentUser===I&&(yield I.auth.signOut()),R}})).apply(this,arguments)}class oi{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const ee=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,ee)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const R=this.getInterval(d);this.timerId=setTimeout((0,_e.Z)(function*(){yield g.iteration()}),R)}iteration(){var d=this;return(0,_e.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class Ar{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=zt(this.lastLoginAt),this.creationTime=zt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ut(I){return De.apply(this,arguments)}function De(){return De=(0,_e.Z)(function*(I){var d;const g=I.auth,R=yield I.getIdToken(),ee=yield xn(I,function yn(I,d){return Rt.apply(this,arguments)}(g,{idToken:R}));wt(ee?.users.length,g,"internal-error");const Ee=ee.users[0];I._notifyReloadListener(Ee);const Et=null!==(d=Ee.providerUserInfo)&&void 0!==d&&d.length?function Te(I){return I.map(d=>{var{providerId:g}=d,R=(0,ce._T)(d,["providerId"]);return{providerId:g,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(Ee.providerUserInfo):[],sn=function fe(I,d){return[...I.filter(R=>!d.some(ee=>ee.providerId===R.providerId)),...d]}(I.providerData,Et),Qi=!!I.isAnonymous&&!(I.email&&Ee.passwordHash||sn?.length),As={uid:Ee.localId,displayName:Ee.displayName||null,photoURL:Ee.photoUrl||null,email:Ee.email||null,emailVerified:Ee.emailVerified||!1,phoneNumber:Ee.phoneNumber||null,tenantId:Ee.tenantId||null,providerData:sn,metadata:new Ar(Ee.createdAt,Ee.lastLoginAt),isAnonymous:Qi};Object.assign(I,As)}),De.apply(this,arguments)}function ge(){return(ge=(0,_e.Z)(function*(I){const d=(0,Ie.m9)(I);yield Ut(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Mt(){return(Mt=(0,_e.Z)(function*(I,d){const g=yield ci(I,{},(0,_e.Z)(function*(){const R=(0,Ie.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:ee,apiKey:Ee}=I.config,Et=Jn(I,ee,"/v1/token",`key=${Ee}`),sn=yield I._getAdditionalHeaders();return sn["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(Et,{method:"POST",headers:sn,body:R})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class we{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){wt(d.idToken,"internal-error"),wt(typeof d.idToken<"u","internal-error"),wt(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Ii(I){const d=Oi(I);return wt(d,"internal-error"),wt(typeof d.exp<"u","internal-error"),wt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var R=this;return(0,_e.Z)(function*(){return wt(!R.accessToken||R.refreshToken,d,"user-token-expired"),g||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(d,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var R=this;return(0,_e.Z)(function*(){const{accessToken:ee,refreshToken:Ee,expiresIn:Et}=yield function at(I,d){return Mt.apply(this,arguments)}(d,g);R.updateTokensAndExpiration(ee,Ee,Number(Et))})()}updateTokensAndExpiration(d,g,R){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(d,g){const{refreshToken:R,accessToken:ee,expirationTime:Ee}=g,Et=new we;return R&&(wt("string"==typeof R,"internal-error",{appName:d}),Et.refreshToken=R),ee&&(wt("string"==typeof ee,"internal-error",{appName:d}),Et.accessToken=ee),Ee&&(wt("number"==typeof Ee,"internal-error",{appName:d}),Et.expirationTime=Ee),Et}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new we,this.toJSON())}_performRefresh(){return Xt("not implemented")}}function be(I,d){wt("string"==typeof I||typeof I>"u","internal-error",{appName:d})}class Ve{constructor(d){var{uid:g,auth:R,stsTokenManager:ee}=d,Ee=(0,ce._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=R,this.stsTokenManager=ee,this.accessToken=ee.accessToken,this.displayName=Ee.displayName||null,this.email=Ee.email||null,this.emailVerified=Ee.emailVerified||!1,this.phoneNumber=Ee.phoneNumber||null,this.photoURL=Ee.photoURL||null,this.isAnonymous=Ee.isAnonymous||!1,this.tenantId=Ee.tenantId||null,this.providerData=Ee.providerData?[...Ee.providerData]:[],this.metadata=new Ar(Ee.createdAt||void 0,Ee.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,_e.Z)(function*(){const R=yield xn(g,g.stsTokenManager.getToken(g.auth,d));return wt(R,g.auth,"internal-error"),g.accessToken!==R&&(g.accessToken=R,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),R})()}getIdTokenResult(d){return function ti(I){return Gn.apply(this,arguments)}(this,d)}reload(){return function ve(I){return ge.apply(this,arguments)}(this)}_assign(d){this!==d&&(wt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new Ve(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var R=this;return(0,_e.Z)(function*(){let ee=!1;d.idToken&&d.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(d),ee=!0),g&&(yield Ut(R)),yield R.auth._persistUserIfCurrent(R),ee&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var d=this;return(0,_e.Z)(function*(){const g=yield d.getIdToken();return yield xn(d,function Wn(I,d){return Ti.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var R,ee,Ee,Et,sn,Nn,Kn,Qi;const As=null!==(R=g.displayName)&&void 0!==R?R:void 0,Qr=null!==(ee=g.email)&&void 0!==ee?ee:void 0,La=null!==(Ee=g.phoneNumber)&&void 0!==Ee?Ee:void 0,wc=null!==(Et=g.photoURL)&&void 0!==Et?Et:void 0,zl=null!==(sn=g.tenantId)&&void 0!==sn?sn:void 0,ua=null!==(Nn=g._redirectEventId)&&void 0!==Nn?Nn:void 0,tu=null!==(Kn=g.createdAt)&&void 0!==Kn?Kn:void 0,rd=null!==(Qi=g.lastLoginAt)&&void 0!==Qi?Qi:void 0,{uid:El,emailVerified:sd,isAnonymous:Gl,providerData:ga,stsTokenManager:Wl}=g;wt(El&&Wl,d,"internal-error");const yh=we.fromJSON(this.name,Wl);wt("string"==typeof El,d,"internal-error"),be(As,d.name),be(Qr,d.name),wt("boolean"==typeof sd,d,"internal-error"),wt("boolean"==typeof Gl,d,"internal-error"),be(La,d.name),be(wc,d.name),be(zl,d.name),be(ua,d.name),be(tu,d.name),be(rd,d.name);const Ja=new Ve({uid:El,auth:d,email:Qr,emailVerified:sd,displayName:As,isAnonymous:Gl,photoURL:wc,phoneNumber:La,tenantId:zl,stsTokenManager:yh,createdAt:tu,lastLoginAt:rd});return ga&&Array.isArray(ga)&&(Ja.providerData=ga.map(nu=>Object.assign({},nu))),ua&&(Ja._redirectEventId=ua),Ja}static _fromIdTokenResponse(d,g,R=!1){return(0,_e.Z)(function*(){const ee=new we;ee.updateFromServerResponse(g);const Ee=new Ve({uid:g.localId,auth:d,stsTokenManager:ee,isAnonymous:R});return yield Ut(Ee),Ee})()}}const Qe=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_e.Z)(function*(){return!0})()}_set(g,R){var ee=this;return(0,_e.Z)(function*(){ee.storage[g]=R})()}_get(g){var R=this;return(0,_e.Z)(function*(){const ee=R.storage[g];return void 0===ee?null:ee})()}_remove(g){var R=this;return(0,_e.Z)(function*(){delete R.storage[g]})()}_addListener(g,R){}_removeListener(g,R){}}return I.type="NONE",I})();function ln(I,d,g){return`firebase:${I}:${d}:${g}`}class Be{constructor(d,g,R){this.persistence=d,this.auth=g,this.userKey=R;const{config:ee,name:Ee}=this.auth;this.fullUserKey=ln(this.userKey,ee.apiKey,Ee),this.fullPersistenceKey=ln("persistence",ee.apiKey,Ee),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,_e.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?Ve._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,_e.Z)(function*(){if(g.persistence===d)return;const R=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,R?g.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,R="authUser"){return(0,_e.Z)(function*(){if(!g.length)return new Be(pt(Qe),d,R);const ee=(yield Promise.all(g.map(function(){var Kn=(0,_e.Z)(function*(Qi){if(yield Qi._isAvailable())return Qi});return function(Qi){return Kn.apply(this,arguments)}}()))).filter(Kn=>Kn);let Ee=ee[0]||pt(Qe);const Et=ln(R,d.config.apiKey,d.name);let sn=null;for(const Kn of g)try{const Qi=yield Kn._get(Et);if(Qi){const As=Ve._fromJSON(d,Qi);Kn!==Ee&&(sn=As),Ee=Kn;break}}catch{}const Nn=ee.filter(Kn=>Kn._shouldAllowMigration);return Ee._shouldAllowMigration&&Nn.length?(Ee=Nn[0],sn&&(yield Ee._set(Et,sn.toJSON())),yield Promise.all(g.map(function(){var Kn=(0,_e.Z)(function*(Qi){if(Qi!==Ee)try{yield Qi._remove(Et)}catch{}});return function(Qi){return Kn.apply(this,arguments)}}())),new Be(Ee,d,R)):new Be(Ee,d,R)})()}}function Re(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(re(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(me(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ze(d))return"Blackberry";if(nt(d))return"Webos";if(ie(d))return"Safari";if((d.includes("chrome/")||te(d))&&!d.includes("edge/"))return"Chrome";if($e(d))return"Android";{const R=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function me(I=(0,Ie.z$)()){return/firefox\//i.test(I)}function ie(I=(0,Ie.z$)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function te(I=(0,Ie.z$)()){return/crios\//i.test(I)}function re(I=(0,Ie.z$)()){return/iemobile/i.test(I)}function $e(I=(0,Ie.z$)()){return/android/i.test(I)}function ze(I=(0,Ie.z$)()){return/blackberry/i.test(I)}function nt(I=(0,Ie.z$)()){return/webos/i.test(I)}function Bt(I=(0,Ie.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function sr(I=(0,Ie.z$)()){return Bt(I)||$e(I)||nt(I)||ze(I)||/windows phone/i.test(I)||re(I)}function Ls(I,d=[]){let g;switch(I){case"Browser":g=Re((0,Ie.z$)());break;case"Worker":g=`${Re((0,Ie.z$)())}-${I}`;break;default:g=I}const R=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${Ae.Jn}/${R}`}class mr{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const R=Ee=>new Promise((Et,sn)=>{try{Et(d(Ee))}catch(Nn){sn(Nn)}});R.onAbort=g,this.queue.push(R);const ee=this.queue.length-1;return()=>{this.queue[ee]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,_e.Z)(function*(){if(g.auth.currentUser===d)return;const R=[];try{for(const ee of g.queue)yield ee(d),ee.onAbort&&R.push(ee.onAbort)}catch(ee){R.reverse();for(const Ee of R)try{Ee()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:ee?.message})}})()}}class zr{constructor(d,g,R){this.app=d,this.heartbeatServiceProvider=g,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new os(this),this.idTokenSubscription=new os(this),this.beforeStateQueue=new mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(d,g){var R=this;return g&&(this._popupRedirectResolver=pt(g)),this._initializationPromise=this.queue((0,_e.Z)(function*(){var ee,Ee;if(!R._deleted&&(R.persistenceManager=yield Be.create(R,d),!R._deleted)){if(null!==(ee=R._popupRedirectResolver)&&void 0!==ee&&ee._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(g),R.lastNotifiedUid=(null===(Ee=R.currentUser)||void 0===Ee?void 0:Ee.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,_e.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,_e.Z)(function*(){var R;const ee=yield g.assertedPersistence.getCurrentUser();let Ee=ee,Et=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const sn=null===(R=g.redirectUser)||void 0===R?void 0:R._redirectEventId,Nn=Ee?._redirectEventId,Kn=yield g.tryRedirectSignIn(d);(!sn||sn===Nn)&&Kn?.user&&(Ee=Kn.user,Et=!0)}if(!Ee)return g.directlySetCurrentUser(null);if(!Ee._redirectEventId){if(Et)try{yield g.beforeStateQueue.runMiddleware(Ee)}catch(sn){Ee=ee,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(sn))}return Ee?g.reloadAndSetCurrentUserOrClear(Ee):g.directlySetCurrentUser(null)}return wt(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===Ee._redirectEventId?g.directlySetCurrentUser(Ee):g.reloadAndSetCurrentUserOrClear(Ee)})()}tryRedirectSignIn(d){var g=this;return(0,_e.Z)(function*(){let R=null;try{R=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,_e.Z)(function*(){try{yield Ut(d)}catch(R){if("auth/network-request-failed"!==R?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,_e.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,_e.Z)(function*(){const R=d?(0,Ie.m9)(d):null;return R&&wt(R.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(R&&R._clone(g))})()}_updateCurrentUser(d,g=!1){var R=this;return(0,_e.Z)(function*(){if(!R._deleted)return d&&wt(R.tenantId===d.tenantId,R,"tenant-id-mismatch"),g||(yield R.beforeStateQueue.runMiddleware(d)),R.queue((0,_e.Z)(function*(){yield R.directlySetCurrentUser(d),R.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,_e.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,_e.Z)(function*(){yield g.assertedPersistence.setPersistence(pt(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Ie.LL("auth","Firebase",d())}onAuthStateChanged(d,g,R){return this.registerStateListener(this.authStateSubscription,d,g,R)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,R){return this.registerStateListener(this.idTokenSubscription,d,g,R)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var R=this;return(0,_e.Z)(function*(){const ee=yield R.getOrInitRedirectPersistenceManager(g);return null===d?ee.removeCurrentUser():ee.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,_e.Z)(function*(){if(!g.redirectPersistenceManager){const R=d&&pt(d)||g._popupRedirectResolver;wt(R,g,"argument-error"),g.redirectPersistenceManager=yield Be.create(g,[pt(R._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,_e.Z)(function*(){var R,ee;return g._isInitialized&&(yield g.queue((0,_e.Z)(function*(){}))),(null===(R=g._currentUser)||void 0===R?void 0:R._redirectEventId)===d?g._currentUser:(null===(ee=g.redirectUser)||void 0===ee?void 0:ee._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,_e.Z)(function*(){if(d===g.currentUser)return g.queue((0,_e.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,R,ee){if(this._deleted)return()=>{};const Ee="function"==typeof g?g:g.next.bind(g),Et=this._isInitialized?Promise.resolve():this._initializationPromise;return wt(Et,this,"internal-error"),Et.then(()=>Ee(this.currentUser)),"function"==typeof g?d.addObserver(g,R,ee):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,_e.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Ls(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,_e.Z)(function*(){var g;const R={"X-Client-Version":d.clientVersion};d.app.options.appId&&(R["X-Firebase-gmpid"]=d.app.options.appId);const ee=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return ee&&(R["X-Firebase-Client"]=ee),R})()}}function Ji(I){return(0,Ie.m9)(I)}class os{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Ie.ne)(g=>this.observer=g)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _i(I){const d=I.indexOf(":");return d<0?"":I.substr(0,d+1)}function wr(I){if(!I)return null;const d=Number(I);return isNaN(d)?null:d}class xi{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return Xt("not implemented")}_getIdTokenResponse(d){return Xt("not implemented")}_linkToIdToken(d,g){return Xt("not implemented")}_getReauthenticationResolver(d){return Xt("not implemented")}}function Ri(I,d){return yr.apply(this,arguments)}function yr(){return(yr=(0,_e.Z)(function*(I,d){return Un(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ot(){return(Ot=(0,_e.Z)(function*(I,d){return wn(I,"POST","/v1/accounts:signInWithPassword",dn(I,d))})).apply(this,arguments)}function Gr(){return(Gr=(0,_e.Z)(function*(I,d){return wn(I,"POST","/v1/accounts:signInWithEmailLink",dn(I,d))})).apply(this,arguments)}function Ur(){return(Ur=(0,_e.Z)(function*(I,d){return wn(I,"POST","/v1/accounts:signInWithEmailLink",dn(I,d))})).apply(this,arguments)}class cr extends xi{constructor(d,g,R,ee=null){super("password",R),this._email=d,this._password=g,this._tenantId=ee}static _fromEmailAndPassword(d,g){return new cr(d,g,"password")}static _fromEmailAndCode(d,g,R=null){return new cr(d,g,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,_e.Z)(function*(){switch(g.signInMethod){case"password":return function Xe(I,d){return Ot.apply(this,arguments)}(d,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function mo(I,d){return Gr.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:Nt(d,"internal-error")}})()}_linkToIdToken(d,g){var R=this;return(0,_e.Z)(function*(){switch(R.signInMethod){case"password":return Ri(d,{idToken:g,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function to(I,d){return Ur.apply(this,arguments)}(d,{idToken:g,email:R._email,oobCode:R._password});default:Nt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Fr(I,d){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,_e.Z)(function*(I,d){return wn(I,"POST","/v1/accounts:signInWithIdp",dn(I,d))})).apply(this,arguments)}class ur{constructor(d){var g,R,ee,Ee,Et,sn;const Nn=(0,Ie.zd)((0,Ie.pd)(d)),Kn=null!==(g=Nn.apiKey)&&void 0!==g?g:null,Qi=null!==(R=Nn.oobCode)&&void 0!==R?R:null,As=function ws(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ee=Nn.mode)&&void 0!==ee?ee:null);wt(Kn&&Qi&&As,"argument-error"),this.apiKey=Kn,this.operation=As,this.code=Qi,this.continueUrl=null!==(Ee=Nn.continueUrl)&&void 0!==Ee?Ee:null,this.languageCode=null!==(Et=Nn.languageCode)&&void 0!==Et?Et:null,this.tenantId=null!==(sn=Nn.tenantId)&&void 0!==sn?sn:null}static parseLink(d){const g=function Ui(I){const d=(0,Ie.zd)((0,Ie.pd)(I)).link,g=d?(0,Ie.zd)((0,Ie.pd)(d)).deep_link_id:null,R=(0,Ie.zd)((0,Ie.pd)(I)).deep_link_id;return(R?(0,Ie.zd)((0,Ie.pd)(R)).link:null)||R||g||d||I}(d);try{return new ur(g)}catch{return null}}}let gs=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(g,R){return cr._fromEmailAndPassword(g,R)}static credentialWithLink(g,R){const ee=ur.parseLink(R);return wt(ee,"argument-error"),cr._fromEmailAndCode(g,ee.code,ee.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class dr{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class js extends dr{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function us(I,d){return Io.apply(this,arguments)}function Io(){return(Io=(0,_e.Z)(function*(I,d){return wn(I,"POST","/v1/accounts:signUp",dn(I,d))})).apply(this,arguments)}class hr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,R,ee=!1){return(0,_e.Z)(function*(){const Ee=yield Ve._fromIdTokenResponse(d,R,ee),Et=so(R);return new hr({user:Ee,providerId:Et,_tokenResponse:R,operationType:g})})()}static _forOperation(d,g,R){return(0,_e.Z)(function*(){yield d._updateTokensIfNecessary(R,!0);const ee=so(R);return new hr({user:d,providerId:ee,_tokenResponse:R,operationType:g})})()}}function so(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class _s extends Ie.ZR{constructor(d,g,R,ee){var Ee;super(g.code,g.message),this.operationType=R,this.user=ee,Object.setPrototypeOf(this,_s.prototype),this.customData={appName:d.name,tenantId:null!==(Ee=d.tenantId)&&void 0!==Ee?Ee:void 0,_serverResponse:g.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(d,g,R,ee){return new _s(d,g,R,ee)}}function $s(I,d,g,R){return("reauthenticate"===d?g._getReauthenticationResolver(I):g._getIdTokenResponse(I)).catch(Ee=>{throw"auth/multi-factor-auth-required"===Ee.code?_s._fromErrorAndOperation(I,Ee,d,R):Ee})}function cs(I,d){return Po.apply(this,arguments)}function Po(){return(Po=(0,_e.Z)(function*(I,d,g=!1){const R=yield xn(I,d._linkToIdToken(I.auth,yield I.getIdToken()),g);return hr._forOperation(I,"link",R)})).apply(this,arguments)}function _r(I,d){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,_e.Z)(function*(I,d,g=!1){const{auth:R}=I,ee="reauthenticate";try{const Ee=yield xn(I,$s(R,ee,d,I),g);wt(Ee.idToken,R,"internal-error");const Et=Oi(Ee.idToken);wt(Et,R,"internal-error");const{sub:sn}=Et;return wt(I.uid===sn,R,"user-mismatch"),hr._forOperation(I,ee,Ee)}catch(Ee){throw"auth/user-not-found"===Ee?.code&&Nt(R,"user-mismatch"),Ee}})).apply(this,arguments)}function Wr(I,d){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,_e.Z)(function*(I,d,g=!1){const R="signIn",ee=yield $s(I,R,d),Ee=yield hr._fromIdTokenResponse(I,R,ee);return g||(yield I._updateCurrentUser(Ee.user)),Ee})).apply(this,arguments)}function Or(I,d){return ds.apply(this,arguments)}function ds(){return(ds=(0,_e.Z)(function*(I,d){return Wr(Ji(I),d)})).apply(this,arguments)}function D(I,d,g){return Q.apply(this,arguments)}function Q(){return(Q=(0,_e.Z)(function*(I,d,g){const R=Ji(I),ee=yield us(R,{returnSecureToken:!0,email:d,password:g}),Ee=yield hr._fromIdTokenResponse(R,"signIn",ee);return yield R._updateCurrentUser(Ee.user),Ee})).apply(this,arguments)}function X(I,d,g){return Or((0,Ie.m9)(I),gs.credential(d,g))}const Hn="__sak";class Vi{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Hn,"1"),this.storage.removeItem(Hn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rn=(()=>{class I extends Vi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,R)=>this.onStorageEvent(g,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wi(){const I=(0,Ie.z$)();return ie(I)||Bt(I)}()&&function Er(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=sr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const R of Object.keys(this.listeners)){const ee=this.storage.getItem(R),Ee=this.localCache[R];ee!==Ee&&g(R,Ee,ee)}}onStorageEvent(g,R=!1){if(!g.key)return void this.forAllChangedKeys((sn,Nn,Kn)=>{this.notifyListeners(sn,Kn)});const ee=g.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const sn=this.storage.getItem(ee);if(g.newValue!==sn)null!==g.newValue?this.storage.setItem(ee,g.newValue):this.storage.removeItem(ee);else if(this.localCache[ee]===g.newValue&&!R)return}const Ee=()=>{const sn=this.storage.getItem(ee);!R&&this.localCache[ee]===sn||this.notifyListeners(ee,sn)},Et=this.storage.getItem(ee);!function Hi(){return(0,Ie.w1)()&&10===document.documentMode}()||Et===g.newValue||g.newValue===g.oldValue?Ee():setTimeout(Ee,10)}notifyListeners(g,R){this.localCache[g]=R;const ee=this.listeners[g];if(ee)for(const Ee of Array.from(ee))Ee(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,R,ee)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:R,newValue:ee}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(R)}_removeListener(g,R){this.listeners[g]&&(this.listeners[g].delete(R),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,R){var ee=()=>super._set,Ee=this;return(0,_e.Z)(function*(){yield ee().call(Ee,g,R),Ee.localCache[g]=JSON.stringify(R)})()}_get(g){var R=()=>super._get,ee=this;return(0,_e.Z)(function*(){const Ee=yield R().call(ee,g);return ee.localCache[g]=JSON.stringify(Ee),Ee})()}_remove(g){var R=()=>super._remove,ee=this;return(0,_e.Z)(function*(){yield R().call(ee,g),delete ee.localCache[g]})()}}return I.type="LOCAL",I})(),Ao=(()=>{class I extends Vi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,R){}_removeListener(g,R){}}return I.type="SESSION",I})();let v=(()=>{class I{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const R=this.receivers.find(Ee=>Ee.isListeningto(g));if(R)return R;const ee=new I(g);return this.receivers.push(ee),ee}isListeningto(g){return this.eventTarget===g}handleEvent(g){var R=this;return(0,_e.Z)(function*(){const ee=g,{eventId:Ee,eventType:Et,data:sn}=ee.data,Nn=R.handlersMap[Et];if(!Nn?.size)return;ee.ports[0].postMessage({status:"ack",eventId:Ee,eventType:Et});const Kn=Array.from(Nn).map(function(){var As=(0,_e.Z)(function*(Qr){return Qr(ee.origin,sn)});return function(Qr){return As.apply(this,arguments)}}()),Qi=yield function H(I){return Promise.all(I.map(function(){var d=(0,_e.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(R){return{fulfilled:!1,reason:R}}});return function(g){return d.apply(this,arguments)}}()))}(Kn);ee.ports[0].postMessage({status:"done",eventId:Ee,eventType:Et,response:Qi})})()}_subscribe(g,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(R)}_unsubscribe(g,R){this.handlersMap[g]&&R&&this.handlersMap[g].delete(R),(!R||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function b(I="",d=10){let g="";for(let R=0;R<d;R++)g+=Math.floor(10*Math.random());return I+g}class P{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,R=50){var ee=this;return(0,_e.Z)(function*(){const Ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ee)throw new Error("connection_unavailable");let Et,sn;return new Promise((Nn,Kn)=>{const Qi=b("",20);Ee.port1.start();const As=setTimeout(()=>{Kn(new Error("unsupported_event"))},R);sn={messageChannel:Ee,onMessage(Qr){const La=Qr;if(La.data.eventId===Qi)switch(La.data.status){case"ack":clearTimeout(As),Et=setTimeout(()=>{Kn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Et),Nn(La.data.response);break;default:clearTimeout(As),clearTimeout(Et),Kn(new Error("invalid_response"))}}},ee.handlers.add(sn),Ee.port1.addEventListener("message",sn.onMessage),ee.target.postMessage({eventType:d,eventId:Qi,data:g},[Ee.port2])}).finally(()=>{sn&&ee.removeMessageHandler(sn)})})()}}function W(){return window}function ye(){return typeof W().WorkerGlobalScope<"u"&&"function"==typeof W().importScripts}function ut(){return(ut=(0,_e.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Mn="firebaseLocalStorageDb",ki=1,vi="firebaseLocalStorage",ri="fbase_key";class mi{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ei(I,d){return I.transaction([vi],d?"readwrite":"readonly").objectStore(vi)}function is(){const I=indexedDB.open(Mn,ki);return new Promise((d,g)=>{I.addEventListener("error",()=>{g(I.error)}),I.addEventListener("upgradeneeded",()=>{const R=I.result;try{R.createObjectStore(vi,{keyPath:ri})}catch(ee){g(ee)}}),I.addEventListener("success",(0,_e.Z)(function*(){const R=I.result;R.objectStoreNames.contains(vi)?d(R):(R.close(),yield function Bi(){const I=indexedDB.deleteDatabase(Mn);return new mi(I).toPromise()}(),d(yield is()))}))})}function fs(I,d,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,_e.Z)(function*(I,d,g){const R=Ei(I,!0).put({[ri]:d,value:g});return new mi(R).toPromise()})).apply(this,arguments)}function mt(){return(mt=(0,_e.Z)(function*(I,d){const g=Ei(I,!1).get(d),R=yield new mi(g).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function Br(I,d){const g=Ei(I,!0).delete(d);return new mi(g).toPromise()}const Fo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,_e.Z)(function*(){return g.db||(g.db=yield is()),g.db})()}_withRetries(g){var R=this;return(0,_e.Z)(function*(){let ee=0;for(;;)try{const Ee=yield R._openDb();return yield g(Ee)}catch(Ee){if(ee++>3)throw Ee;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,_e.Z)(function*(){return ye()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,_e.Z)(function*(){g.receiver=v._getInstance(function Cn(){return ye()?self:null}()),g.receiver._subscribe("keyChanged",function(){var R=(0,_e.Z)(function*(ee,Ee){return{keyProcessed:(yield g._poll()).includes(Ee.key)}});return function(ee,Ee){return R.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var R=(0,_e.Z)(function*(ee,Ee){return["keyChanged"]});return function(ee,Ee){return R.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,_e.Z)(function*(){var R,ee;if(g.activeServiceWorker=yield function Ke(){return ut.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new P(g.activeServiceWorker);const Ee=yield g.sender._send("ping",{},800);Ee&&null!==(R=Ee[0])&&void 0!==R&&R.fulfilled&&null!==(ee=Ee[0])&&void 0!==ee&&ee.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var R=this;return(0,_e.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function Ft(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:g},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_e.Z)(function*(){try{if(!indexedDB)return!1;const g=yield is();return yield fs(g,Hn,"1"),yield Br(g,Hn),!0}catch{}return!1})()}_withPendingWrite(g){var R=this;return(0,_e.Z)(function*(){R.pendingWrites++;try{yield g()}finally{R.pendingWrites--}})()}_set(g,R){var ee=this;return(0,_e.Z)(function*(){return ee._withPendingWrite((0,_e.Z)(function*(){return yield ee._withRetries(Ee=>fs(Ee,g,R)),ee.localCache[g]=R,ee.notifyServiceWorker(g)}))})()}_get(g){var R=this;return(0,_e.Z)(function*(){const ee=yield R._withRetries(Ee=>function Zr(I,d){return mt.apply(this,arguments)}(Ee,g));return R.localCache[g]=ee,ee})()}_remove(g){var R=this;return(0,_e.Z)(function*(){return R._withPendingWrite((0,_e.Z)(function*(){return yield R._withRetries(ee=>Br(ee,g)),delete R.localCache[g],R.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,_e.Z)(function*(){const R=yield g._withRetries(Et=>{const sn=Ei(Et,!1).getAll();return new mi(sn).toPromise()});if(!R)return[];if(0!==g.pendingWrites)return[];const ee=[],Ee=new Set;for(const{fbase_key:Et,value:sn}of R)Ee.add(Et),JSON.stringify(g.localCache[Et])!==JSON.stringify(sn)&&(g.notifyListeners(Et,sn),ee.push(Et));for(const Et of Object.keys(g.localCache))g.localCache[Et]&&!Ee.has(Et)&&(g.notifyListeners(Et,null),ee.push(Et));return ee})()}notifyListeners(g,R){this.localCache[g]=R;const ee=this.listeners[g];if(ee)for(const Ee of Array.from(ee))Ee(R)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,_e.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(R)}_removeListener(g,R){this.listeners[g]&&(this.listeners[g].delete(R),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Ni(I){return`__${I}${Math.floor(1e6*Math.random())}`}Ni("rcb"),new et(3e4,6e4);class qs extends xi{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Fr(d,this._buildIdpRequest())}_linkToIdToken(d,g){return Fr(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return Fr(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function ts(I){return Wr(I.auth,new qs(I),I.bypassAuthState)}function w(I){const{auth:d,user:g}=I;return wt(g,d,"internal-error"),_r(g,new qs(I),I.bypassAuthState)}function C(I){return y.apply(this,arguments)}function y(){return(y=(0,_e.Z)(function*(I){const{auth:d,user:g}=I;return wt(g,d,"internal-error"),cs(g,new qs(I),I.bypassAuthState)})).apply(this,arguments)}class O{constructor(d,g,R,ee,Ee=!1){this.auth=d,this.resolver=R,this.user=ee,this.bypassAuthState=Ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,_e.Z)(function*(R,ee){d.pendingPromise={resolve:R,reject:ee};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(Ee){d.reject(Ee)}});return function(R,ee){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,_e.Z)(function*(){const{urlResponse:R,sessionId:ee,postBody:Ee,tenantId:Et,error:sn,type:Nn}=d;if(sn)return void g.reject(sn);const Kn={auth:g.auth,requestUri:R,sessionId:ee,tenantId:Et||void 0,postBody:Ee||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Nn)(Kn))}catch(Qi){g.reject(Qi)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ts;case"linkViaPopup":case"linkViaRedirect":return C;case"reauthViaPopup":case"reauthViaRedirect":return w;default:Nt(this.auth,"internal-error")}}resolve(d){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new et(2e3,1e4);const tr="pendingRedirect",Ks=new Map;class bo extends O{constructor(d,g,R=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,R),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,_e.Z)(function*(){let R=Ks.get(g.auth._key());if(!R){try{const Ee=(yield function $r(I,d){return Fs.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;R=()=>Promise.resolve(Ee)}catch(ee){R=()=>Promise.reject(ee)}Ks.set(g.auth._key(),R)}return g.bypassAuthState||Ks.set(g.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,R=this;return(0,_e.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(R,d);if("unknown"!==d.type){if(d.eventId){const ee=yield R.auth._redirectUserForId(d.eventId);if(ee)return R.user=ee,g().call(R,d);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,_e.Z)(function*(){})()}cleanUp(){}}function Fs(){return(Fs=(0,_e.Z)(function*(I,d){const g=function ne(I){return ln(tr,I.config.apiKey,I.name)}(d),R=function $(I){return pt(I._redirectPersistence)}(I);if(!(yield R._isAvailable()))return!1;const ee="true"===(yield R._get(g));return yield R._remove(g),ee})).apply(this,arguments)}function L(I,d){Ks.set(I._key(),d)}function ul(I,d){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,_e.Z)(function*(I,d,g=!1){const R=Ji(I),ee=function sa(I,d){return d?pt(d):(wt(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}(R,d),Et=yield new bo(R,ee,g).execute();return Et&&!g&&(delete Et.user._redirectEventId,yield R._persistUserIfCurrent(Et.user),yield R._setRedirectUser(null,d)),Et})).apply(this,arguments)}class jc{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(d,R)&&(g=!0,this.sendToConsumer(d,R),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Uu(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kl(I);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var R;if(d.error&&!kl(d)){const ee=(null===(R=d.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";g.onError(rt(this.auth,ee))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const R=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&R}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zd(d))}saveEventToCache(d){this.cachedEventUids.add(Zd(d)),this.lastProcessedEventTime=Date.now()}}function Zd(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(d=>d).join("-")}function kl({type:I,error:d}){return"unknown"===I&&"auth/no-auth-event"===d?.code}function dc(){return(dc=(0,_e.Z)(function*(I,d={}){return Un(I,"GET","/v1/projects",d)})).apply(this,arguments)}const xs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ha=/^https?/;function $c(){return $c=(0,_e.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:d}=yield function Oo(I){return dc.apply(this,arguments)}(I);for(const g of d)try{if(Nl(g))return}catch{}Nt(I,"unauthorized-domain")}),$c.apply(this,arguments)}function Nl(I){const d=Vt(),{protocol:g,hostname:R}=new URL(d);if(I.startsWith("chrome-extension://")){const Et=new URL(I);return""===Et.hostname&&""===R?"chrome-extension:"===g&&I.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Et.hostname===R}if(!Ha.test(g))return!1;if(xs.test(I))return R===I;const ee=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ee+"|"+ee+")$","i").test(R)}const Hu=new et(3e4,6e4);function Yd(){const I=W().___jsl;if(I?.H)for(const d of Object.keys(I.H))if(I.H[d].r=I.H[d].r||[],I.H[d].L=I.H[d].L||[],I.H[d].r=[...I.H[d].L],I.CP)for(let g=0;g<I.CP.length;g++)I.CP[g]=null}let Sr=null;function hc(I){return Sr=Sr||function br(I){return new Promise((d,g)=>{var R,ee,Ee;function Et(){Yd(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Yd(),g(rt(I,"network-request-failed"))},timeout:Hu.get()})}if(null!==(ee=null===(R=W().gapi)||void 0===R?void 0:R.iframes)&&void 0!==ee&&ee.Iframe)d(gapi.iframes.getContext());else{if(null===(Ee=W().gapi)||void 0===Ee||!Ee.load){const sn=Ni("iframefcb");return W()[sn]=()=>{gapi.load?Et():g(rt(I,"network-request-failed"))},function jn(I){return new Promise((d,g)=>{const R=document.createElement("script");R.setAttribute("src",I),R.onload=d,R.onerror=ee=>{const Ee=rt("internal-error");Ee.customData=ee,g(Ee)},R.type="text/javascript",R.charset="UTF-8",function ui(){var I,d;return null!==(d=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==d?d:document}().appendChild(R)})}(`https://apis.google.com/js/api.js?onload=${sn}`).catch(Nn=>g(Nn))}Et()}}).catch(d=>{throw Sr=null,d})}(I),Sr}const Qd=new et(5e3,15e3),Xd="__/auth/iframe",wf="emulator/auth/iframe",Jd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ju(I){const d=I.config;wt(d.authDomain,I,"auth-domain-config-required");const g=d.emulator?Tt(d,wf):`https://${I.config.authDomain}/${Xd}`,R={apiKey:d.apiKey,appName:I.name,v:Ae.Jn},ee=eh.get(I.config.apiHost);ee&&(R.eid=ee);const Ee=I._getFrameworks();return Ee.length&&(R.fw=Ee.join(",")),`${g}?${(0,Ie.xO)(R).slice(1)}`}function Gc(){return Gc=(0,_e.Z)(function*(I){const d=yield hc(I),g=W().gapi;return wt(g,I,"internal-error"),d.open({where:document.body,url:ju(I),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jd,dontclear:!0},R=>new Promise(function(){var ee=(0,_e.Z)(function*(Ee,Et){yield R.restyle({setHideOnLeave:!1});const sn=rt(I,"network-request-failed"),Nn=W().setTimeout(()=>{Et(sn)},Qd.get());function Kn(){W().clearTimeout(Nn),Ee(R)}R.ping(Kn).then(Kn,()=>{Et(sn)})});return function(Ee,Et){return ee.apply(this,arguments)}}()))}),Gc.apply(this,arguments)}const th={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nh=500,xa=600,Cf="_blank",ih="http://localhost";class rh{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const zu="__/auth/handler",dl="emulator/auth/handler";function Fl(I,d,g,R,ee,Ee){wt(I.config.authDomain,I,"auth-domain-config-required"),wt(I.config.apiKey,I,"invalid-api-key");const Et={apiKey:I.config.apiKey,appName:I.name,authType:g,redirectUrl:R,v:Ae.Jn,eventId:ee};if(d instanceof dr){d.setDefaultLanguage(I.languageCode),Et.providerId=d.providerId||"",(0,Ie.xb)(d.getCustomParameters())||(Et.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Nn,Kn]of Object.entries(Ee||{}))Et[Nn]=Kn}if(d instanceof js){const Nn=d.getScopes().filter(Kn=>""!==Kn);Nn.length>0&&(Et.scopes=Nn.join(","))}I.tenantId&&(Et.tid=I.tenantId);const sn=Et;for(const Nn of Object.keys(sn))void 0===sn[Nn]&&delete sn[Nn];return`${function fc({config:I}){return I.emulator?Tt(I,dl):`https://${I.authDomain}/${zu}`}(I)}?${(0,Ie.xO)(sn).slice(1)}`}const Ll="webStorageSupport",Qo=class oh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ao,this._completeRedirectFn=ul,this._overrideRedirectResult=L}_openPopup(d,g,R,ee){var Ee=this;return(0,_e.Z)(function*(){var Et;tt(null===(Et=Ee.eventManagers[d._key()])||void 0===Et?void 0:Et.manager,"_initialize() not called before _openPopup()");const sn=Fl(d,g,R,Vt(),ee);return function sh(I,d,g,R=nh,ee=xa){const Ee=Math.max((window.screen.availHeight-ee)/2,0).toString(),Et=Math.max((window.screen.availWidth-R)/2,0).toString();let sn="";const Nn=Object.assign(Object.assign({},th),{width:R.toString(),height:ee.toString(),top:Ee,left:Et}),Kn=(0,Ie.z$)().toLowerCase();g&&(sn=te(Kn)?Cf:g),me(Kn)&&(d=d||ih,Nn.scrollbars="yes");const Qi=Object.entries(Nn).reduce((Qr,[La,wc])=>`${Qr}${La}=${wc},`,"");if(function ni(I=(0,Ie.z$)()){var d;return Bt(I)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Kn)&&"_self"!==sn)return function $u(I,d){const g=document.createElement("a");g.href=I,g.target=d;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(R)}(d||"",sn),new rh(null);const As=window.open(d||"",sn,Qi);wt(As,I,"popup-blocked");try{As.focus()}catch{}return new rh(As)}(d,sn,b())})()}_openRedirect(d,g,R,ee){var Ee=this;return(0,_e.Z)(function*(){return yield Ee._originValidation(d),function ue(I){W().location.href=I}(Fl(d,g,R,Vt(),ee)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:ee,promise:Ee}=this.eventManagers[g];return ee?Promise.resolve(ee):(tt(Ee,"If manager is not set, promise should be"),Ee)}const R=this.initAndGetManager(d);return this.eventManagers[g]={promise:R},R.catch(()=>{delete this.eventManagers[g]}),R}initAndGetManager(d){var g=this;return(0,_e.Z)(function*(){const R=yield function zc(I){return Gc.apply(this,arguments)}(d),ee=new jc(d);return R.register("authEvent",Ee=>(wt(Ee?.authEvent,d,"invalid-auth-event"),{status:ee.onEvent(Ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:ee},g.iframes[d._key()]=R,ee})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Ll,{type:Ll},ee=>{var Ee;const Et=null===(Ee=ee?.[0])||void 0===Ee?void 0:Ee[Ll];void 0!==Et&&g(!!Et),Nt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ef(I){return $c.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return sr()||ie()||Bt()}};var Xa="@firebase/auth";class Gu{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,_e.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(R=>{d(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qu=(0,Ie.Pz)("authIdTokenMaxAge")||300;let Bl=null;const qc=I=>function(){var d=(0,_e.Z)(function*(g){const R=g&&(yield g.getIdTokenResult()),ee=R&&((new Date).getTime()-Date.parse(R.issuedAtTime))/1e3;if(ee&&ee>qu)return;const Ee=R?.token;Bl!==Ee&&(Bl=Ee,yield fetch(I,{method:Ee?"POST":"DELETE",headers:Ee?{Authorization:`Bearer ${Ee}`}:{}}))});return function(g){return d.apply(this,arguments)}}();function Kc(I=(0,Ae.Mq)()){const d=(0,Ae.qX)(I,"auth");if(d.isInitialized())return d.getImmediate();const g=function St(I,d){const g=(0,Ae.qX)(I,"auth");if(g.isInitialized()){const ee=g.getImmediate(),Ee=g.getOptions();if((0,Ie.vZ)(Ee,d??{}))return ee;Nt(ee,"already-initialized")}return g.initialize({options:d})}(I,{popupRedirectResolver:Qo,persistence:[Fo,Rn,Ao]}),R=(0,Ie.Pz)("authTokenSyncURL");if(R){const Ee=qc(R);(function fa(I,d,g){(0,Ie.m9)(I).beforeAuthStateChanged(d,g)})(g,Ee,()=>Ee(g.currentUser)),function No(I,d,g,R){(0,Ie.m9)(I).onIdTokenChanged(d,g,R)}(g,Et=>Ee(Et))}const ee=(0,Ie.q4)("auth");return ee&&function as(I,d,g){const R=Ji(I);wt(R._canInitEmulator,R,"emulator-config-failed"),wt(/^https?:\/\//.test(d),R,"invalid-emulator-scheme");const ee=!!g?.disableWarnings,Ee=_i(d),{host:Et,port:sn}=function wi(I){const d=_i(I),g=/(\/\/)?([^?#/]+)/.exec(I.substr(d.length));if(!g)return{host:"",port:null};const R=g[2].split("@").pop()||"",ee=/^(\[[^\]]+\])(:|$)/.exec(R);if(ee){const Ee=ee[1];return{host:Ee,port:wr(R.substr(Ee.length+1))}}{const[Ee,Et]=R.split(":");return{host:Ee,port:wr(Et)}}}(d);R.config.emulator={url:`${Ee}//${Et}${null===sn?"":`:${sn}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Et,port:sn,protocol:Ee.replace(":",""),options:Object.freeze({disableWarnings:ee})}),ee||function Jr(){function I(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(g,`http://${ee}`),g}!function mc(I){(0,Ae.Xd)(new Se.wA("auth",(d,{options:g})=>{const R=d.getProvider("app").getImmediate(),ee=d.getProvider("heartbeat"),{apiKey:Ee,authDomain:Et}=R.options;return((sn,Nn)=>{wt(Ee&&!Ee.includes(":"),"invalid-api-key",{appName:sn.name}),wt(!Et?.includes(":"),"argument-error",{appName:sn.name});const Kn={apiKey:Ee,authDomain:Et,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ls(I)},Qi=new zr(sn,Nn,Kn);return function Wt(I,d){const g=d?.persistence||[],R=(Array.isArray(g)?g:[g]).map(pt);d?.errorMap&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(R,d?.popupRedirectResolver)}(Qi,g),Qi})(R,ee)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,R)=>{d.getProvider("auth-internal").initialize()})),(0,Ae.Xd)(new Se.wA("auth-internal",d=>{const g=Ji(d.getProvider("auth").getImmediate());return new Gu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.KN)(Xa,"0.22.0",function pc(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,Ae.KN)(Xa,"0.22.0","esm2017")}("Browser");class Xo{constructor(d){return d}}class lh{constructor(){return(0,p.vb)("auth")}}const Ul=new f.OlP("angularfire2.auth-instances");function Ku(I){return(d,g)=>{const R=d.runOutsideAngular(()=>I(g));return new Xo(R)}}const Jo={provide:lh,deps:[[new f.FiY,Ul]]},Zc={provide:Xo,useFactory:function pl(I,d){const g=(0,p.JM)("auth",I,d);return g&&new Xo(g)},deps:[[new f.FiY,Ul],le.Ot]};let Hl=(()=>{class I{constructor(){(0,Ne.KN)("angularfire",p.q4.full,"auth")}}return I.\u0275fac=function(g){return new(g||I)},I.\u0275mod=f.oAB({type:I}),I.\u0275inj=f.cJS({providers:[Zc,Jo]}),I})();function Df(I,...d){return{ngModule:Hl,providers:[{provide:Ul,useFactory:Ku(I),multi:!0,deps:[f.R0b,f.zs3,p.HU,le.z6,[new f.FiY,Pe.nm],...d]}]}}const Yu=(0,p.u3)(D,!0),ml=(0,p.u3)(Kc,!0),Jc=(0,p.u3)(X,!0)},89:(bn,ot,B)=>{B.d(ot,{gg:()=>$t,ET:()=>Un,BS:()=>Tt,oe:()=>di,JU:()=>Ti,_1:()=>fi,QT:()=>ti,PL:()=>Oi,ad:()=>si,Cm:()=>pn,IO:()=>at,pl:()=>dt,r7:()=>ie,ar:()=>re});var p=B(2122),f=B(1571),le=B(4226),Ne=B(3692),Pe=B(259),_e=B(2313),Ie=B(5525),Ae=B(9751),Ge=B(4004),ce={includeMetadataChanges:!1};function Se(ze,nt){return void 0===nt&&(nt=ce),new Ae.y(function(Bt){return{unsubscribe:(0,Ie.cf)(ze,nt,{next:Bt.next.bind(Bt),error:Bt.error.bind(Bt),complete:Bt.complete.bind(Bt)})}})}function Dt(ze,nt){return void 0===nt&&(nt={}),function Ze(ze){return Se(ze,{includeMetadataChanges:!0})}(ze).pipe((0,Ge.U)(function(Bt){return gt(Bt,nt)}))}function gt(ze,nt){void 0===nt&&(nt={});var Bt=ze.data();return!ze.exists()||"object"!=typeof Bt||null===Bt||nt.idField&&(Bt[nt.idField]=ze.id),Bt}function lt(ze,nt){return void 0===nt&&(nt={}),function ct(ze){return Se(ze,{includeMetadataChanges:!0}).pipe((0,Ge.U)(function(nt){return nt.docs}))}(ze).pipe((0,Ge.U)(function(Bt){return Bt.map(function(mn){return gt(mn,nt)})}))}class $t{constructor(nt){return nt}}const Zt="firestore",tt=new f.OlP("angularfire2.firestore-instances");function pt(ze){return(nt,Bt)=>{const mn=nt.runOutsideAngular(()=>ze(Bt));return new $t(mn)}}const St={provide:class wt{constructor(){return(0,p.vb)(Zt)}},deps:[[new f.FiY,tt]]},Wt={provide:$t,useFactory:function st(ze,nt){const Bt=(0,p.JM)(Zt,ze,nt);return Bt&&new $t(Bt)},deps:[[new f.FiY,tt],Ne.Ot]};let Vt=(()=>{class ze{constructor(){(0,Pe.KN)("angularfire",p.q4.full,"fst")}}return ze.\u0275fac=function(Bt){return new(Bt||ze)},ze.\u0275mod=f.oAB({type:ze}),ze.\u0275inj=f.cJS({providers:[Wt,St]}),ze})();function pn(ze,...nt){return{ngModule:Vt,providers:[{provide:tt,useFactory:pt(ze),multi:!0,deps:[f.R0b,f.zs3,p.HU,Ne.z6,[new f.FiY,le.dh],[new f.FiY,_e.nm],...nt]}]}}const Tt=(0,p.u3)(lt,!0),fi=(0,p.u3)(Dt,!0),Un=(0,p.u3)(Ie.ET,!0),di=(0,p.u3)(Ie.oe,!0),Ti=(0,p.u3)(Ie.JU,!0),ti=(0,p.u3)(Ie.QT,!0),Oi=(0,p.u3)(Ie.PL,!0),si=(0,p.u3)(Ie.ad,!0),at=(0,p.u3)(Ie.IO,!0),dt=(0,p.u3)(Ie.pl,!0),ie=(0,p.u3)(Ie.r7,!0),re=(0,p.u3)(Ie.ar,!0)},3742:(bn,ot,B)=>{B.d(ot,{Ke:()=>_o,oq:()=>Pt,Jt:()=>kn,cF:()=>or,e9:()=>Ue,Vq:()=>G,iH:()=>yo,B0:()=>U});var p=B(2122),f=B(1571),le=B(3692),Ne=B(4226),Pe=B(259),_e=B(2313),Ie=B(5861),Ae=B(9681),Ge=B(2090),ce=B(4859);const Se="firebasestorage.googleapis.com",Ze="storageBucket";class _t extends Ge.ZR{constructor(D,Q,X=0){super(Qt(D),`Firebase Storage: ${Q} (${Qt(D)})`),this.status_=X,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(D){this.status_=D}_codeEquals(D){return Qt(D)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(D){this.customData.serverResponse=D,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ht=(()=>{return(m=Ht||(Ht={})).UNKNOWN="unknown",m.OBJECT_NOT_FOUND="object-not-found",m.BUCKET_NOT_FOUND="bucket-not-found",m.PROJECT_NOT_FOUND="project-not-found",m.QUOTA_EXCEEDED="quota-exceeded",m.UNAUTHENTICATED="unauthenticated",m.UNAUTHORIZED="unauthorized",m.UNAUTHORIZED_APP="unauthorized-app",m.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",m.INVALID_CHECKSUM="invalid-checksum",m.CANCELED="canceled",m.INVALID_EVENT_NAME="invalid-event-name",m.INVALID_URL="invalid-url",m.INVALID_DEFAULT_BUCKET="invalid-default-bucket",m.NO_DEFAULT_BUCKET="no-default-bucket",m.CANNOT_SLICE_BLOB="cannot-slice-blob",m.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",m.NO_DOWNLOAD_URL="no-download-url",m.INVALID_ARGUMENT="invalid-argument",m.INVALID_ARGUMENT_COUNT="invalid-argument-count",m.APP_DELETED="app-deleted",m.INVALID_ROOT_OPERATION="invalid-root-operation",m.INVALID_FORMAT="invalid-format",m.INTERNAL_ERROR="internal-error",m.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ht;var m})();function Qt(m){return"storage/"+m}function gn(){return new _t(Ht.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Nt(){return new _t(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rt(){return new _t(Ht.CANCELED,"User canceled the upload/download.")}function wt(){return new _t(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pt(m){return new _t(Ht.INVALID_ARGUMENT,m)}function St(){return new _t(Ht.APP_DELETED,"The Firebase app was deleted.")}function Vt(m,D){return new _t(Ht.INVALID_FORMAT,"String does not match format '"+m+"': "+D)}function pn(m){throw new _t(Ht.INTERNAL_ERROR,"Internal error: "+m)}class ht{constructor(D,Q){this.bucket=D,this.path_=Q}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const D=encodeURIComponent;return"/b/"+D(this.bucket)+"/o/"+D(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(D,Q){let X;try{X=ht.makeFromUrl(D,Q)}catch{return new ht(D,"")}if(""===X.path)return X;throw function $t(m){return new _t(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+m+"'.")}(D)}static makeFromUrl(D,Q){let X=null;const je="([A-Za-z0-9.\\-_]+)",En=new RegExp("^gs://"+je+"(/(.*))?$","i");function ii(Gi){Gi.path_=decodeURIComponent(Gi.path)}const ar=Q.replace(/[.]/g,"\\."),yi=[{regex:En,indices:{bucket:1,path:3},postModify:function Ct(Gi){"/"===Gi.path.charAt(Gi.path.length-1)&&(Gi.path_=Gi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ar}/v[A-Za-z0-9_]+/b/${je}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ii},{regex:new RegExp(`^https?://${Q===Se?"(?:storage.googleapis.com|storage.cloud.google.com)":Q}/${je}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ii}];for(let Gi=0;Gi<yi.length;Gi++){const Gs=yi[Gi],xo=Gs.regex.exec(D);if(xo){let ao=xo[Gs.indices.path];ao||(ao=""),X=new ht(xo[Gs.indices.bucket],ao),Gs.postModify(X);break}}if(null==X)throw function lt(m){return new _t(Ht.INVALID_URL,"Invalid URL '"+m+"'.")}(D);return X}}class jt{constructor(D){this.promise_=Promise.reject(D)}getPromise(){return this.promise_}cancel(D=!1){}}function an(m){return"string"==typeof m||m instanceof String}function dn(m){return Un()&&m instanceof Blob}function Un(){return typeof Blob<"u"&&!(0,Ge.UG)()}function Bn(m,D,Q,X){if(X<D)throw pt(`Invalid value for '${m}'. Expected ${D} or greater.`);if(X>Q)throw pt(`Invalid value for '${m}'. Expected ${Q} or less.`)}function ci(m,D,Q){let X=D;return null==Q&&(X=`https://${D}`),`${Q}://${X}/v0${m}`}function Qn(m){const D=encodeURIComponent;let Q="?";for(const X in m)m.hasOwnProperty(X)&&(Q=Q+(D(X)+"=")+D(m[X])+"&");return Q=Q.slice(0,-1),Q}var wn=(()=>{return(m=wn||(wn={}))[m.NO_ERROR=0]="NO_ERROR",m[m.NETWORK_ERROR=1]="NETWORK_ERROR",m[m.ABORT=2]="ABORT",wn;var m})();function Di(m,D){const Q=m>=500&&m<600,je=-1!==[408,429].indexOf(m),Ct=-1!==D.indexOf(m);return Q||je||Ct}class Jn{constructor(D,Q,X,je,Ct,en,En,An,ii,qn,ar,zi=!0){this.url_=D,this.method_=Q,this.headers_=X,this.body_=je,this.successCodes_=Ct,this.additionalRetryCodes_=en,this.callback_=En,this.errorCallback_=An,this.timeout_=ii,this.progressCallback_=qn,this.connectionFactory_=ar,this.retry=zi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Hr,jr)=>{this.resolve_=Hr,this.reject_=jr,this.start_()})}start_(){const Q=(X,je)=>{const Ct=this.resolve_,en=this.reject_,En=je.connection;if(je.wasSuccessCode)try{const An=this.callback_(En,En.getResponse());!function Tt(m){return void 0!==m}(An)?Ct():Ct(An)}catch(An){en(An)}else if(null!==En){const An=gn();An.serverResponse=En.getErrorText(),en(this.errorCallback_?this.errorCallback_(En,An):An)}else en(je.canceled?this.appDelete_?St():rt():Nt())};this.canceled_?Q(0,new di(!1,null,!0)):this.backoffId_=function We(m,D,Q){let X=1,je=null,Ct=null,en=!1,En=0;function An(){return 2===En}let ii=!1;function qn(...Pi){ii||(ii=!0,D.apply(null,Pi))}function ar(Pi){je=setTimeout(()=>{je=null,m(Hr,An())},Pi)}function zi(){Ct&&clearTimeout(Ct)}function Hr(Pi,...rr){if(ii)return void zi();if(Pi)return zi(),void qn.call(null,Pi,...rr);if(An()||en)return zi(),void qn.call(null,Pi,...rr);let yi;X<64&&(X*=2),1===En?(En=2,yi=0):yi=1e3*(X+Math.random()),ar(yi)}let jr=!1;function Ns(Pi){jr||(jr=!0,zi(),!ii&&(null!==je?(Pi||(En=2),clearTimeout(je),ar(0)):Pi||(En=1)))}return ar(0),Ct=setTimeout(()=>{en=!0,Ns(!0)},Q),Ns}((X,je)=>{if(je)return void X(!1,new di(!1,null,!0));const Ct=this.connectionFactory_();this.pendingConnection_=Ct;const en=En=>{null!==this.progressCallback_&&this.progressCallback_(En.loaded,En.lengthComputable?En.total:-1)};null!==this.progressCallback_&&Ct.addUploadProgressListener(en),Ct.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ct.removeUploadProgressListener(en),this.pendingConnection_=null;const En=Ct.getErrorCode()===wn.NO_ERROR,An=Ct.getStatus();if(!En||Di(An,this.additionalRetryCodes_)&&this.retry){const qn=Ct.getErrorCode()===wn.ABORT;return void X(!1,new di(!1,null,qn))}const ii=-1!==this.successCodes_.indexOf(An);X(!0,new di(ii,Ct))})},Q,this.timeout_)}getPromise(){return this.promise_}cancel(D){this.canceled_=!0,this.appDelete_=D||!1,null!==this.backoffId_&&function et(m){m(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class di{constructor(D,Q,X){this.wasSuccessCode=D,this.connection=Q,this.canceled=!!X}}function Rt(...m){const D=function yn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==D){const Q=new D;for(let X=0;X<m.length;X++)Q.append(m[X]);return Q.getBlob()}if(Un())return new Blob(m);throw new _t(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gn{constructor(D,Q){this.data=D,this.contentType=Q||null}}function Oi(m){const D=[];for(let Q=0;Q<m.length;Q++){let X=m.charCodeAt(Q);X<=127?D.push(X):X<=2047?D.push(192|X>>6,128|63&X):55296==(64512&X)?Q<m.length-1&&56320==(64512&m.charCodeAt(Q+1))?(X=65536|(1023&X)<<10|1023&m.charCodeAt(++Q),D.push(240|X>>18,128|X>>12&63,128|X>>6&63,128|63&X)):D.push(239,191,189):56320==(64512&X)?D.push(239,191,189):D.push(224|X>>12,128|X>>6&63,128|63&X)}return new Uint8Array(D)}function xn(m,D){switch(m){case ti.BASE64:{const je=-1!==D.indexOf("-"),Ct=-1!==D.indexOf("_");if(je||Ct)throw Vt(m,"Invalid character '"+(je?"-":"_")+"' found: is it base64url encoded?");break}case ti.BASE64URL:{const je=-1!==D.indexOf("+"),Ct=-1!==D.indexOf("/");if(je||Ct)throw Vt(m,"Invalid character '"+(je?"+":"/")+"' found: is it base64 encoded?");D=D.replace(/-/g,"+").replace(/_/g,"/");break}}let Q;try{Q=function Jt(m){if(typeof atob>"u")throw function st(m){return new _t(Ht.UNSUPPORTED_ENVIRONMENT,`${m} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(m)}(D)}catch(je){throw je.message.includes("polyfill")?je:Vt(m,"Invalid character found")}const X=new Uint8Array(Q.length);for(let je=0;je<Q.length;je++)X[je]=Q.charCodeAt(je);return X}class si{constructor(D){this.base64=!1,this.contentType=null;const Q=D.match(/^data:([^,]+)?,/);if(null===Q)throw Vt(ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const X=Q[1]||null;null!=X&&(this.base64=function Ar(m,D){return m.length>=D.length&&m.substring(m.length-D.length)===D}(X,";base64"),this.contentType=this.base64?X.substring(0,X.length-7):X),this.rest=D.substring(D.indexOf(",")+1)}}class Ut{constructor(D,Q){let X=0,je="";dn(D)?(this.data_=D,X=D.size,je=D.type):D instanceof ArrayBuffer?(Q?this.data_=new Uint8Array(D):(this.data_=new Uint8Array(D.byteLength),this.data_.set(new Uint8Array(D))),X=this.data_.length):D instanceof Uint8Array&&(Q?this.data_=D:(this.data_=new Uint8Array(D.length),this.data_.set(D)),X=D.length),this.size_=X,this.type_=je}size(){return this.size_}type(){return this.type_}slice(D,Q){if(dn(this.data_)){const je=function zt(m,D,Q){return m.webkitSlice?m.webkitSlice(D,Q):m.mozSlice?m.mozSlice(D,Q):m.slice?m.slice(D,Q):null}(this.data_,D,Q);return null===je?null:new Ut(je)}{const X=new Uint8Array(this.data_.buffer,D,Q-D);return new Ut(X,!0)}}static getBlob(...D){if(Un()){const Q=D.map(X=>X instanceof Ut?X.data_:X);return new Ut(Rt.apply(null,Q))}{const Q=D.map(en=>an(en)?function Fi(m,D){switch(m){case ti.RAW:return new Gn(Oi(D));case ti.BASE64:case ti.BASE64URL:return new Gn(xn(m,D));case ti.DATA_URL:return new Gn(function pr(m){const D=new si(m);return D.base64?xn(ti.BASE64,D.rest):function Ii(m){let D;try{D=decodeURIComponent(m)}catch{throw Vt(ti.DATA_URL,"Malformed data URL.")}return Oi(D)}(D.rest)}(D),function oi(m){return new si(m).contentType}(D))}throw gn()}(ti.RAW,en).data:en.data_);let X=0;Q.forEach(en=>{X+=en.byteLength});const je=new Uint8Array(X);let Ct=0;return Q.forEach(en=>{for(let En=0;En<en.length;En++)je[Ct++]=en[En]}),new Ut(je,!0)}}uploadData(){return this.data_}}function De(m){let D;try{D=JSON.parse(m)}catch{return null}return function fi(m){return"object"==typeof m&&!Array.isArray(m)}(D)?D:null}function fe(m){const D=m.lastIndexOf("/",m.length-2);return-1===D?m:m.slice(D+1)}function Te(m,D){return D}class at{constructor(D,Q,X,je){this.server=D,this.local=Q||D,this.writable=!!X,this.xform=je||Te}}let Mt=null;function be(){if(Mt)return Mt;const m=[];m.push(new at("bucket")),m.push(new at("generation")),m.push(new at("metageneration")),m.push(new at("name","fullPath",!0));const Q=new at("name");Q.xform=function D(Ct,en){return function we(m){return!an(m)||m.length<2?m:fe(m)}(en)},m.push(Q);const je=new at("size");return je.xform=function X(Ct,en){return void 0!==en?Number(en):en},m.push(je),m.push(new at("timeCreated")),m.push(new at("updated")),m.push(new at("md5Hash",null,!0)),m.push(new at("cacheControl",null,!0)),m.push(new at("contentDisposition",null,!0)),m.push(new at("contentEncoding",null,!0)),m.push(new at("contentLanguage",null,!0)),m.push(new at("contentType",null,!0)),m.push(new at("metadata","customMetadata",!0)),Mt=m,Mt}function Qe(m,D,Q){const X=De(D);return null===X?null:function dt(m,D,Q){const X={type:"file"},je=Q.length;for(let Ct=0;Ct<je;Ct++){const en=Q[Ct];X[en.local]=en.xform(X,D[en.server])}return function Ve(m,D){Object.defineProperty(m,"ref",{get:function Q(){const Ct=new ht(m.bucket,m.fullPath);return D._makeStorageReference(Ct)}})}(X,m),X}(m,X,Q)}function Be(m,D){const Q={},X=D.length;for(let je=0;je<X;je++){const Ct=D[je];Ct.writable&&(Q[Ct.server]=m[Ct.local])}return JSON.stringify(Q)}class re{constructor(D,Q,X,je){this.url=D,this.method=Q,this.handler=X,this.timeout=je,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $e(m){if(!m)throw gn()}function ze(m,D){return function Q(X,je){const Ct=Qe(m,je,D);return $e(null!==Ct),Ct}}function mn(m){return function D(Q,X){let je;return je=401===Q.getStatus()?Q.getErrorText().includes("Firebase App Check token is invalid")?function Oe(){return new _t(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ce(){return new _t(Ht.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Q.getStatus()?function Me(m){return new _t(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+m+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(m.bucket):403===Q.getStatus()?function ct(m){return new _t(Ht.UNAUTHORIZED,"User does not have permission to access '"+m+"'.")}(m.path):X,je.status=Q.getStatus(),je.serverResponse=X.serverResponse,je}}function ni(m){const D=mn(m);return function Q(X,je){let Ct=D(X,je);return 404===X.getStatus()&&(Ct=function Pn(m){return new _t(Ht.OBJECT_NOT_FOUND,"Object '"+m+"' does not exist.")}(m.path)),Ct.serverResponse=je.serverResponse,Ct}}function os(m,D,Q){const X=Object.assign({},Q);return X.fullPath=m.path,X.size=D.size(),X.contentType||(X.contentType=function Ji(m,D){return m&&m.contentType||D&&D.type()||"application/octet-stream"}(null,D)),X}class _i{constructor(D,Q,X,je){this.current=D,this.total=Q,this.finalized=!!X,this.metadata=je||null}}function wi(m,D){let Q=null;try{Q=m.getResponseHeader("X-Goog-Upload-Status")}catch{$e(!1)}return $e(!!Q&&-1!==(D||["active"]).indexOf(Q)),Q}const Ri={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yr(m){switch(m){case"running":case"pausing":case"canceling":return Ri.RUNNING;case"paused":return Ri.PAUSED;case"success":return Ri.SUCCESS;case"canceled":return Ri.CANCELED;default:return Ri.ERROR}}class Fe{constructor(D,Q,X){if(function un(m){return"function"==typeof m}(D)||null!=Q||null!=X)this.next=D,this.error=Q??void 0,this.complete=X??void 0;else{const Ct=D;this.next=Ct.next,this.error=Ct.error,this.complete=Ct.complete}}}function He(m){return(...D)=>{Promise.resolve().then(()=>m(...D))}}let Xe=null;class Ot{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wn.NO_ERROR,this.sendPromise_=new Promise(D=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wn.ABORT,D()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wn.NETWORK_ERROR,D()}),this.xhr_.addEventListener("load",()=>{D()})})}send(D,Q,X,je){if(this.sent_)throw pn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Q,D,!0),void 0!==je)for(const Ct in je)je.hasOwnProperty(Ct)&&this.xhr_.setRequestHeader(Ct,je[Ct].toString());return void 0!==X?this.xhr_.send(X):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(D){return this.xhr_.getResponseHeader(D)}addUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",D)}removeUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",D)}}class Yt extends Ot{initXhr(){this.xhr_.responseType="text"}}function cn(){return Xe?Xe():new Yt}class Yn{constructor(D,Q,X=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=D,this._blob=Q,this._metadata=X,this._mappings=be(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=je=>{if(this._request=void 0,this._chunkMultiplier=1,je._codeEquals(Ht.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Ct=this.isExponentialBackoffExpired();if(Di(je.status,[])){if(!Ct)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();je=Nt()}this._error=je,this._transition("error")}},this._metadataErrorHandler=je=>{this._request=void 0,je._codeEquals(Ht.CANCELED)?this.completeTransitions_():(this._error=je,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((je,Ct)=>{this._resolve=je,this._reject=Ct,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const D=this._transferred;return Q=>this._updateProgress(D+Q)}_shouldDoResumable(D){return D.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(D){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Q,X])=>{switch(this._state){case"running":D(Q,X);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((D,Q)=>{const X=function wr(m,D,Q,X,je){const Ct=D.bucketOnlyServerUrl(),en=os(D,X,je),En={name:en.fullPath},An=ci(Ct,m.host,m._protocol),qn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${X.size()}`,"X-Goog-Upload-Header-Content-Type":en.contentType,"Content-Type":"application/json; charset=utf-8"},ar=Be(en,Q),jr=new re(An,"POST",function Hr(Ns){let Pi;wi(Ns);try{Pi=Ns.getResponseHeader("X-Goog-Upload-URL")}catch{$e(!1)}return $e(an(Pi)),Pi},m.maxUploadRetryTime);return jr.urlParams=En,jr.headers=qn,jr.body=ar,jr.errorHandler=mn(D),jr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),je=this._ref.storage._makeRequest(X,cn,D,Q);this._request=je,je.getPromise().then(Ct=>{this._request=void 0,this._uploadUrl=Ct,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const D=this._uploadUrl;this._resolveToken((Q,X)=>{const je=function Jr(m,D,Q,X){const An=new re(Q,"POST",function Ct(ii){const qn=wi(ii,["active","final"]);let ar=null;try{ar=ii.getResponseHeader("X-Goog-Upload-Size-Received")}catch{$e(!1)}ar||$e(!1);const zi=Number(ar);return $e(!isNaN(zi)),new _i(zi,X.size(),"final"===qn)},m.maxUploadRetryTime);return An.headers={"X-Goog-Upload-Command":"query"},An.errorHandler=mn(D),An}(this._ref.storage,this._ref._location,D,this._blob),Ct=this._ref.storage._makeRequest(je,cn,Q,X);this._request=Ct,Ct.getPromise().then(en=>{this._request=void 0,this._updateProgress(en.current),this._needToFetchStatus=!1,en.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const D=262144*this._chunkMultiplier,Q=new _i(this._transferred,this._blob.size()),X=this._uploadUrl;this._resolveToken((je,Ct)=>{let en;try{en=function ms(m,D,Q,X,je,Ct,en,En){const An=new _i(0,0);if(en?(An.current=en.current,An.total=en.total):(An.current=0,An.total=X.size()),X.size()!==An.total)throw function Xt(){return new _t(Ht.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const ii=An.total-An.current;let qn=ii;je>0&&(qn=Math.min(qn,je));const ar=An.current;let Hr="";Hr=0===qn?"finalize":ii===qn?"upload, finalize":"upload";const jr={"X-Goog-Upload-Command":Hr,"X-Goog-Upload-Offset":`${An.current}`},Ns=X.slice(ar,ar+qn);if(null===Ns)throw wt();const yi=new re(Q,"POST",function Pi(Gi,Gs){const xo=wi(Gi,["active","final"]),na=An.current+qn,ao=X.size();let ko;return ko="final"===xo?ze(D,Ct)(Gi,Gs):null,new _i(na,ao,"final"===xo,ko)},D.maxUploadRetryTime);return yi.headers=jr,yi.body=Ns.uploadData(),yi.progressCallback=En||null,yi.errorHandler=mn(m),yi}(this._ref._location,this._ref.storage,X,this._blob,D,this._mappings,Q,this._makeProgressCallback())}catch(An){return this._error=An,void this._transition("error")}const En=this._ref.storage._makeRequest(en,cn,je,Ct,!1);this._request=En,En.getPromise().then(An=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(An.current),An.finalized?(this._metadata=An.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((D,Q)=>{const X=function Hi(m,D,Q){const je=ci(D.fullServerUrl(),m.host,m._protocol),en=m.maxOperationRetryTime,En=new re(je,"GET",ze(m,Q),en);return En.errorHandler=ni(D),En}(this._ref.storage,this._ref._location,this._mappings),je=this._ref.storage._makeRequest(X,cn,D,Q);this._request=je,je.getPromise().then(Ct=>{this._request=void 0,this._metadata=Ct,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((D,Q)=>{const X=function as(m,D,Q,X,je){const Ct=D.bucketOnlyServerUrl(),en={"X-Goog-Upload-Protocol":"multipart"},An=function En(){let yi="";for(let Gi=0;Gi<2;Gi++)yi+=Math.random().toString().slice(2);return yi}();en["Content-Type"]="multipart/related; boundary="+An;const ii=os(D,X,je),qn=Be(ii,Q),Hr=Ut.getBlob("--"+An+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+qn+"\r\n--"+An+"\r\nContent-Type: "+ii.contentType+"\r\n\r\n",X,"\r\n--"+An+"--");if(null===Hr)throw wt();const jr={name:ii.fullPath},Ns=ci(Ct,m.host,m._protocol),rr=m.maxUploadRetryTime,Zi=new re(Ns,"POST",ze(m,Q),rr);return Zi.urlParams=jr,Zi.headers=en,Zi.body=Hr.uploadData(),Zi.errorHandler=mn(D),Zi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),je=this._ref.storage._makeRequest(X,cn,D,Q);this._request=je,je.getPromise().then(Ct=>{this._request=void 0,this._metadata=Ct,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(D){const Q=this._transferred;this._transferred=D,this._transferred!==Q&&this._notifyObservers()}_transition(D){if(this._state!==D)switch(D){case"canceling":case"pausing":this._state=D,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Q="paused"===this._state;this._state=D,Q&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=D,this._notifyObservers();break;case"canceled":this._error=rt(),this._state=D,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const D=yr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:D,metadata:this._metadata,task:this,ref:this._ref}}on(D,Q,X,je){const Ct=new Fe(Q||void 0,X||void 0,je||void 0);return this._addObserver(Ct),()=>{this._removeObserver(Ct)}}then(D,Q){return this._promise.then(D,Q)}catch(D){return this.then(null,D)}_addObserver(D){this._observers.push(D),this._notifyObserver(D)}_removeObserver(D){const Q=this._observers.indexOf(D);-1!==Q&&this._observers.splice(Q,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Q=>{this._notifyObserver(Q)})}_finishPromise(){if(void 0!==this._resolve){let D=!0;switch(yr(this._state)){case Ri.SUCCESS:He(this._resolve.bind(null,this.snapshot))();break;case Ri.CANCELED:case Ri.ERROR:He(this._reject.bind(null,this._error))();break;default:D=!1}D&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(D){switch(yr(this._state)){case Ri.RUNNING:case Ri.PAUSED:D.next&&He(D.next.bind(D,this.snapshot))();break;case Ri.SUCCESS:D.complete&&He(D.complete.bind(D))();break;default:D.error&&He(D.error.bind(D,this._error))()}}resume(){const D="paused"===this._state||"pausing"===this._state;return D&&this._transition("running"),D}pause(){const D="running"===this._state;return D&&this._transition("pausing"),D}cancel(){const D="running"===this._state||"pausing"===this._state;return D&&this._transition("canceling"),D}}class Ki{constructor(D,Q){this._service=D,this._location=Q instanceof ht?Q:ht.makeFromUrl(Q,D.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(D,Q){return new Ki(D,Q)}get root(){const D=new ht(this._location.bucket,"");return this._newRef(this._service,D)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fe(this._location.path)}get storage(){return this._service}get parent(){const D=function ve(m){if(0===m.length)return null;const D=m.lastIndexOf("/");return-1===D?"":m.slice(0,D)}(this._location.path);if(null===D)return null;const Q=new ht(this._location.bucket,D);return new Ki(this._service,Q)}_throwIfRoot(D){if(""===this._location.path)throw function Wt(m){return new _t(Ht.INVALID_ROOT_OPERATION,"The operation '"+m+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(D)}}function no(m){m._throwIfRoot("getDownloadURL");const D=function Ls(m,D,Q){const je=ci(D.fullServerUrl(),m.host,m._protocol),en=m.maxOperationRetryTime,En=new re(je,"GET",function Bt(m,D){return function Q(X,je){const Ct=Qe(m,je,D);return $e(null!==Ct),function ln(m,D,Q,X){const je=De(D);if(null===je||!an(je.downloadTokens))return null;const Ct=je.downloadTokens;if(0===Ct.length)return null;const en=encodeURIComponent;return Ct.split(",").map(ii=>{const ar=m.fullPath;return ci("/b/"+en(m.bucket)+"/o/"+en(ar),Q,X)+Qn({alt:"media",token:ii})})[0]}(Ct,je,m.host,m._protocol)}}(m,Q),en);return En.errorHandler=ni(D),En}(m.storage,m._location,be());return m.storage.makeRequestWithTokens(D,cn).then(Q=>{if(null===Q)throw function tt(){return new _t(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Q})}function vr(m,D){if(m instanceof Mr){const Q=m;if(null==Q._bucket)throw function Zt(){return new _t(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ze+"' property when initializing the app?")}();const X=new Ki(Q,Q._bucket);return null!=D?vr(X,D):X}return void 0!==D?function Bs(m,D){const Q=function ge(m,D){const Q=D.split("/").filter(X=>X.length>0).join("/");return 0===m.length?Q:m+"/"+Q}(m._location.path,D),X=new ht(m._location.bucket,Q);return new Ki(m.storage,X)}(m,D):m}function ji(m,D){const Q=D?.[Ze];return null==Q?null:ht.makeFromBucketSpec(Q,m)}class Mr{constructor(D,Q,X,je,Ct){this.app=D,this._authProvider=Q,this._appCheckProvider=X,this._url=je,this._firebaseVersion=Ct,this._bucket=null,this._host=Se,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=je?ht.makeFromBucketSpec(je,this._host):ji(this._host,this.app.options)}get host(){return this._host}set host(D){this._host=D,this._bucket=null!=this._url?ht.makeFromBucketSpec(this._url,D):ji(D,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(D){Bn("time",0,Number.POSITIVE_INFINITY,D),this._maxUploadRetryTime=D}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(D){Bn("time",0,Number.POSITIVE_INFINITY,D),this._maxOperationRetryTime=D}_getAuthToken(){var D=this;return(0,Ie.Z)(function*(){if(D._overrideAuthToken)return D._overrideAuthToken;const Q=D._authProvider.getImmediate({optional:!0});if(Q){const X=yield Q.getToken();if(null!==X)return X.accessToken}return null})()}_getAppCheckToken(){var D=this;return(0,Ie.Z)(function*(){const Q=D._appCheckProvider.getImmediate({optional:!0});return Q?(yield Q.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(D=>D.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(D){return new Ki(this,D)}_makeRequest(D,Q,X,je,Ct=!0){if(this._deleted)return new jt(St());{const en=function xt(m,D,Q,X,je,Ct,en=!0){const En=Qn(m.urlParams),An=m.url+En,ii=Object.assign({},m.headers);return function Ti(m,D){D&&(m["X-Firebase-GMPID"]=D)}(ii,D),function gi(m,D){null!==D&&D.length>0&&(m.Authorization="Firebase "+D)}(ii,Q),function Wn(m,D){m["X-Firebase-Storage-Version"]="webjs/"+(D??"AppManager")}(ii,Ct),function lr(m,D){null!==D&&(m["X-Firebase-AppCheck"]=D)}(ii,X),new Jn(An,m.method,ii,m.body,m.successCodes,m.additionalRetryCodes,m.handler,m.errorHandler,m.timeout,m.progressCallback,je,en)}(D,this._appId,X,je,Q,this._firebaseVersion,Ct);return this._requests.add(en),en.getPromise().then(()=>this._requests.delete(en),()=>this._requests.delete(en)),en}}makeRequestWithTokens(D,Q){var X=this;return(0,Ie.Z)(function*(){const[je,Ct]=yield Promise.all([X._getAuthToken(),X._getAppCheckToken()]);return X._makeRequest(D,Q,je,Ct).getPromise()})()}}const ws="@firebase/storage",ur="storage";function js(m,D,Q){return function Gr(m,D,Q){return m._throwIfRoot("uploadBytesResumable"),new Yn(m,new Ut(D),Q)}(m=(0,Ge.m9)(m),D,Q)}function Rs(m){return no(m=(0,Ge.m9)(m))}function ls(m){return function io(m){m._throwIfRoot("deleteObject");const D=function zr(m,D){const X=ci(D.fullServerUrl(),m.host,m._protocol),En=new re(X,"DELETE",function en(An,ii){},m.maxOperationRetryTime);return En.successCodes=[200,204],En.errorHandler=ni(D),En}(m.storage,m._location);return m.storage.makeRequestWithTokens(D,cn)}(m=(0,Ge.m9)(m))}function Xs(m,D){return function Hs(m,D){if(D&&function Qs(m){return/^[A-Za-z]+:\/\//.test(m)}(D)){if(m instanceof Mr)return function Us(m,D){return new Ki(m,D)}(m,D);throw pt("To use ref(service, url), the first argument must be a Storage instance.")}return vr(m,D)}(m=(0,Ge.m9)(m),D)}function To(m=(0,Ae.Mq)(),D){m=(0,Ge.m9)(m);const X=(0,Ae.qX)(m,ur).getImmediate({identifier:D}),je=(0,Ge.P0)("storage");return je&&function us(m,D,Q,X={}){!function ir(m,D,Q,X={}){m.host=`${D}:${Q}`,m._protocol="http";const{mockUserToken:je}=X;je&&(m._overrideAuthToken="string"==typeof je?je:(0,Ge.Sg)(je,m.app.options.projectId))}(m,D,Q,X)}(X,...je),X}function so(m,{instanceIdentifier:D}){const Q=m.getProvider("app").getImmediate(),X=m.getProvider("auth-internal"),je=m.getProvider("app-check-internal");return new Mr(Q,X,je,D,Ae.Jn)}!function Ds(){(0,Ae.Xd)(new ce.wA(ur,so,"PUBLIC").setMultipleInstances(!0)),(0,Ae.KN)(ws,"0.11.2",""),(0,Ae.KN)(ws,"0.11.2","esm2017")}();var Ps=B(9751),_s=B(8372),$s=B(4004);function ks(m){return function Lr(m){return new Ps.y(function(D){var Q=function(en){return D.next(en)};Q(m.snapshot);var Ct=m.on("state_changed",Q);return m.then(function(en){Q(en),setTimeout(function(){return D.complete()},0)},function(en){Q(m.snapshot),setTimeout(function(){return function(en){return D.error(en)}(en)},0)}),function(){Ct()}}).pipe((0,_s.b)(0))}(m).pipe((0,$s.U)(function(D){return{progress:D.bytesTransferred/D.totalBytes*100,snapshot:D}}))}class _o{constructor(D){return D}}const _r="storage",Ts=new f.OlP("angularfire2.storage-instances");function ds(m){return(D,Q)=>{const X=D.runOutsideAngular(()=>m(Q));return new _o(X)}}const de={provide:class Vr{constructor(){return(0,p.vb)(_r)}},deps:[[new f.FiY,Ts]]},k={provide:_o,useFactory:function Or(m,D){const Q=(0,p.JM)(_r,m,D);return Q&&new _o(Q)},deps:[[new f.FiY,Ts],le.Ot]};let x=(()=>{class m{constructor(){(0,Pe.KN)("angularfire",p.q4.full,"gcs")}}return m.\u0275fac=function(Q){return new(Q||m)},m.\u0275mod=f.oAB({type:m}),m.\u0275inj=f.cJS({providers:[k,de]}),m})();function G(m,...D){return{ngModule:x,providers:[{provide:Ts,useFactory:ds(m),multi:!0,deps:[f.R0b,f.zs3,p.HU,le.z6,[new f.FiY,Ne.dh],[new f.FiY,_e.nm],...D]}]}}const Ue=(0,p.u3)(ks,!0),Pt=(0,p.u3)(ls,!0),kn=(0,p.u3)(Rs,!0),or=(0,p.u3)(To,!0),yo=(0,p.u3)(Xs,!0),U=(0,p.u3)(js,!0)},2122:(bn,ot,B)=>{B.d(ot,{q4:()=>Ws,HU:()=>Sn,vb:()=>oe,JM:()=>J,u3:()=>Da});var p=B(1571),f=B(259),le=B(5861),Ne=B(9681),Pe=B(2090),_e=B(4859),Ie=B(1877),Ae=B(8766);const Ge="@firebase/installations",ce="0.6.4",Se=1e4,Ze=`w:${ce}`,Dt="FIS_v2",gt="https://firebaseinstallations.googleapis.com/v1",Lt=36e5,gn=new Pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pn(L){return L instanceof Pe.ZR&&L.code.includes("request-failed")}function Me({projectId:L}){return`${gt}/projects/${L}/installations`}function Ce(L){return{token:L.token,requestStatus:2,expiresIn:Zt(L.expiresIn),creationTime:Date.now()}}function Oe(L,$){return ct.apply(this,arguments)}function ct(){return(ct=(0,le.Z)(function*(L,$){const ke=(yield $.json()).error;return gn.create("request-failed",{requestName:L,serverCode:ke.code,serverMessage:ke.message,serverStatus:ke.status})})).apply(this,arguments)}function Nt({apiKey:L}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L})}function lt(L){return $t.apply(this,arguments)}function $t(){return($t=(0,le.Z)(function*(L){const $=yield L();return $.status>=500&&$.status<600?L():$})).apply(this,arguments)}function Zt(L){return Number(L.replace("s","000"))}function tt(){return(tt=(0,le.Z)(function*({appConfig:L,heartbeatServiceProvider:$},{fid:ne}){const ke=Me(L),it=Nt(L),vt=$.getImmediate({optional:!0});if(vt){const hi=yield vt.getHeartbeatsHeader();hi&&it.append("x-firebase-client",hi)}const Ln={method:"POST",headers:it,body:JSON.stringify({fid:ne,authVersion:Dt,appId:L.appId,sdkVersion:Ze})},ei=yield lt(()=>fetch(ke,Ln));if(ei.ok){const hi=yield ei.json();return{fid:hi.fid||ne,registrationStatus:2,refreshToken:hi.refreshToken,authToken:Ce(hi.authToken)}}throw yield Oe("Create Installation",ei)})).apply(this,arguments)}function st(L){return new Promise($=>{setTimeout($,L)})}const St=/^[cdef][\w-]{21}$/,Wt="";function Vt(){try{const L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;const ne=function pn(L){return function pt(L){return btoa(String.fromCharCode(...L)).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return St.test(ne)?ne:Wt}catch{return Wt}}function ht(L){return`${L.appName}!${L.appId}`}const jt=new Map;function We(L,$){const ne=ht(L);un(ne,$),function fi(L,$){const ne=function dn(){return!an&&"BroadcastChannel"in self&&(an=new BroadcastChannel("[Firebase] FID Change"),an.onmessage=L=>{un(L.data.key,L.data.fid)}),an}();ne&&ne.postMessage({key:L,fid:$}),function Un(){0===jt.size&&an&&(an.close(),an=null)}()}(ne,$)}function un(L,$){const ne=jt.get(L);if(ne)for(const ke of ne)ke($)}let an=null;const Bn="firebase-installations-database",ci=1,Qn="firebase-installations-store";let wn=null;function Di(){return wn||(wn=(0,Ae.X3)(Bn,ci,{upgrade:(L,$)=>{0===$&&L.createObjectStore(Qn)}})),wn}function Jn(L,$){return di.apply(this,arguments)}function di(){return(di=(0,le.Z)(function*(L,$){const ne=ht(L),it=(yield Di()).transaction(Qn,"readwrite"),vt=it.objectStore(Qn),tn=yield vt.get(ne);return yield vt.put($,ne),yield it.done,(!tn||tn.fid!==$.fid)&&We(L,$.fid),$})).apply(this,arguments)}function gi(L){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,le.Z)(function*(L){const $=ht(L),ke=(yield Di()).transaction(Qn,"readwrite");yield ke.objectStore(Qn).delete($),yield ke.done})).apply(this,arguments)}function Ti(L,$){return lr.apply(this,arguments)}function lr(){return(lr=(0,le.Z)(function*(L,$){const ne=ht(L),it=(yield Di()).transaction(Qn,"readwrite"),vt=it.objectStore(Qn),tn=yield vt.get(ne),Ln=$(tn);return void 0===Ln?yield vt.delete(ne):yield vt.put(Ln,ne),yield it.done,Ln&&(!tn||tn.fid!==Ln.fid)&&We(L,Ln.fid),Ln})).apply(this,arguments)}function xt(L){return yn.apply(this,arguments)}function yn(){return yn=(0,le.Z)(function*(L){let $;const ne=yield Ti(L.appConfig,ke=>{const it=function Rt(L){return Ii(L||{fid:Vt(),registrationStatus:0})}(ke),vt=function zt(L,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(gn.create("app-offline"))};const ne={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},ke=function Jt(L,$){return ti.apply(this,arguments)}(L,ne);return{installationEntry:ne,registrationPromise:ke}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:Gn(L)}:{installationEntry:$}}(L,it);return $=vt.registrationPromise,vt.installationEntry});return ne.fid===Wt?{installationEntry:yield $}:{installationEntry:ne,registrationPromise:$}}),yn.apply(this,arguments)}function ti(){return ti=(0,le.Z)(function*(L,$){try{const ne=yield function Xt(L,$){return tt.apply(this,arguments)}(L,$);return Jn(L.appConfig,ne)}catch(ne){throw Pn(ne)&&409===ne.customData.serverCode?yield gi(L.appConfig):yield Jn(L.appConfig,{fid:$.fid,registrationStatus:0}),ne}}),ti.apply(this,arguments)}function Gn(L){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,le.Z)(function*(L){let $=yield Oi(L.appConfig);for(;1===$.registrationStatus;)yield st(100),$=yield Oi(L.appConfig);if(0===$.registrationStatus){const{installationEntry:ne,registrationPromise:ke}=yield xt(L);return ke||ne}return $})).apply(this,arguments)}function Oi(L){return Ti(L,$=>{if(!$)throw gn.create("installation-not-found");return Ii($)})}function Ii(L){return function xn(L){return 1===L.registrationStatus&&L.registrationTime+Se<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function pr(){return(pr=(0,le.Z)(function*({appConfig:L,heartbeatServiceProvider:$},ne){const ke=function oi(L,{fid:$}){return`${Me(L)}/${$}/authTokens:generate`}(L,ne),it=function rt(L,{refreshToken:$}){const ne=Nt(L);return ne.append("Authorization",function wt(L){return`${Dt} ${L}`}($)),ne}(L,ne),vt=$.getImmediate({optional:!0});if(vt){const hi=yield vt.getHeartbeatsHeader();hi&&it.append("x-firebase-client",hi)}const Ln={method:"POST",headers:it,body:JSON.stringify({installation:{sdkVersion:Ze,appId:L.appId}})},ei=yield lt(()=>fetch(ke,Ln));if(ei.ok)return Ce(yield ei.json());throw yield Oe("Generate Auth Token",ei)})).apply(this,arguments)}function Ar(L){return Ut.apply(this,arguments)}function Ut(){return Ut=(0,le.Z)(function*(L,$=!1){let ne;const ke=yield Ti(L.appConfig,vt=>{if(!at(vt))throw gn.create("not-registered");const tn=vt.authToken;if(!$&&function Mt(L){return 2===L.requestStatus&&!function we(L){const $=Date.now();return $<L.creationTime||L.creationTime+L.expiresIn<$+Lt}(L)}(tn))return vt;if(1===tn.requestStatus)return ne=function De(L,$){return ve.apply(this,arguments)}(L,$),vt;{if(!navigator.onLine)throw gn.create("app-offline");const Ln=function be(L){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},L),{authToken:$})}(vt);return ne=function fe(L,$){return Te.apply(this,arguments)}(L,Ln),Ln}});return ne?yield ne:ke.authToken}),Ut.apply(this,arguments)}function ve(){return(ve=(0,le.Z)(function*(L,$){let ne=yield ge(L.appConfig);for(;1===ne.authToken.requestStatus;)yield st(100),ne=yield ge(L.appConfig);const ke=ne.authToken;return 0===ke.requestStatus?Ar(L,$):ke})).apply(this,arguments)}function ge(L){return Ti(L,$=>{if(!at($))throw gn.create("not-registered");return function Ve(L){return 1===L.requestStatus&&L.requestTime+Se<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function Te(){return Te=(0,le.Z)(function*(L,$){try{const ne=yield function si(L,$){return pr.apply(this,arguments)}(L,$),ke=Object.assign(Object.assign({},$),{authToken:ne});return yield Jn(L.appConfig,ke),ne}catch(ne){if(!Pn(ne)||401!==ne.customData.serverCode&&404!==ne.customData.serverCode){const ke=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});yield Jn(L.appConfig,ke)}else yield gi(L.appConfig);throw ne}}),Te.apply(this,arguments)}function at(L){return void 0!==L&&2===L.registrationStatus}function Qe(){return(Qe=(0,le.Z)(function*(L){const $=L,{installationEntry:ne,registrationPromise:ke}=yield xt($);return ke?ke.catch(console.error):Ar($).catch(console.error),ne.fid})).apply(this,arguments)}function Be(){return Be=(0,le.Z)(function*(L,$=!1){const ne=L;return yield function Re(L){return me.apply(this,arguments)}(ne),(yield Ar(ne,$)).token}),Be.apply(this,arguments)}function me(){return(me=(0,le.Z)(function*(L){const{registrationPromise:$}=yield xt(L);$&&(yield $)})).apply(this,arguments)}function ni(L){return gn.create("missing-app-config-values",{valueName:L})}const Hi="installations",Er=L=>{const $=L.getProvider("app").getImmediate(),ne=function mn(L){if(!L||!L.options)throw ni("App Configuration");if(!L.name)throw ni("App Name");const $=["projectId","apiKey","appId"];for(const ne of $)if(!L.options[ne])throw ni(ne);return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}($);return{app:$,appConfig:ne,heartbeatServiceProvider:(0,Ne.qX)($,"heartbeat"),_delete:()=>Promise.resolve()}},Ls=L=>{const $=L.getProvider("app").getImmediate(),ne=(0,Ne.qX)($,Hi).getImmediate();return{getId:()=>function dt(L){return Qe.apply(this,arguments)}(ne),getToken:it=>function ln(L){return Be.apply(this,arguments)}(ne,it)}};(function mr(){(0,Ne.Xd)(new _e.wA(Hi,Er,"PUBLIC")),(0,Ne.Xd)(new _e.wA("installations-internal",Ls,"PRIVATE"))})(),(0,Ne.KN)(Ge,ce),(0,Ne.KN)(Ge,ce,"esm2017");const zr="@firebase/remote-config",wi=new Pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vs{constructor($,ne,ke,it){this.client=$,this.storage=ne,this.storageCache=ke,this.logger=it}isCachedDataFresh($,ne){if(!ne)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ke=Date.now()-ne,it=ke<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ke}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${it}.`),it}fetch($){var ne=this;return(0,le.Z)(function*(){const[ke,it]=yield Promise.all([ne.storage.getLastSuccessfulFetchTimestampMillis(),ne.storage.getLastSuccessfulFetchResponse()]);if(it&&ne.isCachedDataFresh($.cacheMaxAgeMillis,ke))return it;$.eTag=it&&it.eTag;const vt=yield ne.client.fetch($),tn=[ne.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===vt.status&&tn.push(ne.storage.setLastSuccessfulFetchResponse(vt)),yield Promise.all(tn),vt})()}}function eo(L=navigator){return L.languages&&L.languages[0]||L.language}class mo{constructor($,ne,ke,it,vt,tn){this.firebaseInstallations=$,this.sdkVersion=ne,this.namespace=ke,this.projectId=it,this.apiKey=vt,this.appId=tn}fetch($){var ne=this;return(0,le.Z)(function*(){const[ke,it]=yield Promise.all([ne.firebaseInstallations.getId(),ne.firebaseInstallations.getToken()]),tn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ne.projectId}/namespaces/${ne.namespace}:fetch?key=${ne.apiKey}`,Ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},ei={sdk_version:ne.sdkVersion,app_instance_id:ke,app_instance_id_token:it,app_id:ne.appId,language_code:eo()},hi={method:"POST",headers:Ln,body:JSON.stringify(ei)},nr=fetch(tn,hi),ai=new Promise((Mo,Ia)=>{$.signal.addEventListener(()=>{const jc=new Error("The operation was aborted.");jc.name="AbortError",Ia(jc)})});let Eo;try{yield Promise.race([nr,ai]),Eo=yield nr}catch(Mo){let Ia="fetch-client-network";throw"AbortError"===Mo?.name&&(Ia="fetch-timeout"),wi.create(Ia,{originalErrorMessage:Mo?.message})}let bs=Eo.status;const ul=Eo.headers.get("ETag")||void 0;let Ua,Ta;if(200===Eo.status){let Mo;try{Mo=yield Eo.json()}catch(Ia){throw wi.create("fetch-client-parse",{originalErrorMessage:Ia?.message})}Ua=Mo.entries,Ta=Mo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ta?bs=500:"NO_CHANGE"===Ta?bs=304:("NO_TEMPLATE"===Ta||"EMPTY_CONFIG"===Ta)&&(Ua={}),304!==bs&&200!==bs)throw wi.create("fetch-status",{httpStatus:bs});return{status:bs,eTag:ul,config:Ua}})()}}class Ur{constructor($,ne){this.client=$,this.storage=ne}fetch($){var ne=this;return(0,le.Z)(function*(){const ke=(yield ne.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ne.attemptFetch($,ke)})()}attemptFetch($,{throttleEndTimeMillis:ne,backoffCount:ke}){var it=this;return(0,le.Z)(function*(){yield function Gr(L,$){return new Promise((ne,ke)=>{const it=Math.max($-Date.now(),0),vt=setTimeout(ne,it);L.addEventListener(()=>{clearTimeout(vt),ke(wi.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,ne);try{const vt=yield it.client.fetch($);return yield it.storage.deleteThrottleMetadata(),vt}catch(vt){if(!function to(L){if(!(L instanceof Pe.ZR&&L.customData))return!1;const $=Number(L.customData.httpStatus);return 429===$||500===$||503===$||504===$}(vt))throw vt;const tn={throttleEndTimeMillis:Date.now()+(0,Pe.$s)(ke),backoffCount:ke+1};return yield it.storage.setThrottleMetadata(tn),it.attemptFetch($,tn)}})()}}class Cr{constructor($,ne,ke,it,vt){this.app=$,this._client=ne,this._storageCache=ke,this._storage=it,this._logger=vt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Si(L,$){const ne=L.target.error||void 0;return wi.create($,{originalErrorMessage:ne&&ne?.message})}const Dr="app_namespace_store";class Qs{constructor($,ne,ke,it=function Bs(){return new Promise((L,$)=>{try{const ne=indexedDB.open("firebase_remote_config",1);ne.onerror=ke=>{$(Si(ke,"storage-open"))},ne.onsuccess=ke=>{L(ke.target.result)},ne.onupgradeneeded=ke=>{0===ke.oldVersion&&ke.target.result.createObjectStore(Dr,{keyPath:"compositeKey"})}}catch(ne){$(wi.create("storage-open",{originalErrorMessage:ne?.message}))}})}()){this.appId=$,this.appName=ne,this.namespace=ke,this.openDbPromise=it}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var ne=this;return(0,le.Z)(function*(){const ke=yield ne.openDbPromise;return new Promise((it,vt)=>{const Ln=ke.transaction([Dr],"readonly").objectStore(Dr),ei=ne.createCompositeKey($);try{const hi=Ln.get(ei);hi.onerror=nr=>{vt(Si(nr,"storage-get"))},hi.onsuccess=nr=>{const ai=nr.target.result;it(ai?ai.value:void 0)}}catch(hi){vt(wi.create("storage-get",{originalErrorMessage:hi?.message}))}})})()}set($,ne){var ke=this;return(0,le.Z)(function*(){const it=yield ke.openDbPromise;return new Promise((vt,tn)=>{const ei=it.transaction([Dr],"readwrite").objectStore(Dr),hi=ke.createCompositeKey($);try{const nr=ei.put({compositeKey:hi,value:ne});nr.onerror=ai=>{tn(Si(ai,"storage-set"))},nr.onsuccess=()=>{vt()}}catch(nr){tn(wi.create("storage-set",{originalErrorMessage:nr?.message}))}})})()}delete($){var ne=this;return(0,le.Z)(function*(){const ke=yield ne.openDbPromise;return new Promise((it,vt)=>{const Ln=ke.transaction([Dr],"readwrite").objectStore(Dr),ei=ne.createCompositeKey($);try{const hi=Ln.delete(ei);hi.onerror=nr=>{vt(Si(nr,"storage-delete"))},hi.onsuccess=()=>{it()}}catch(hi){vt(wi.create("storage-delete",{originalErrorMessage:hi?.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class Us{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,le.Z)(function*(){const ne=$.storage.getLastFetchStatus(),ke=$.storage.getLastSuccessfulFetchTimestampMillis(),it=$.storage.getActiveConfig(),vt=yield ne;vt&&($.lastFetchStatus=vt);const tn=yield ke;tn&&($.lastSuccessfulFetchTimestampMillis=tn);const Ln=yield it;Ln&&($.activeConfig=Ln)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function ir(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,le.Z)(function*(){if(!(0,Pe.hl)())return!1;try{return yield(0,Pe.eu)()}catch{return!1}})).apply(this,arguments)}!function vr(){(0,Ne.Xd)(new _e.wA("remote-config",function L($,{instanceIdentifier:ne}){const ke=$.getProvider("app").getImmediate(),it=$.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wi.create("registration-window");if(!(0,Pe.hl)())throw wi.create("indexed-db-unavailable");const{projectId:vt,apiKey:tn,appId:Ln}=ke.options;if(!vt)throw wi.create("registration-project-id");if(!tn)throw wi.create("registration-api-key");if(!Ln)throw wi.create("registration-app-id");const ei=new Qs(Ln,ke.name,ne=ne||"firebase"),hi=new Us(ei),nr=new Ie.Yd(zr);nr.logLevel=Ie.in.ERROR;const ai=new mo(it,Ne.Jn,ne,vt,tn,Ln),Eo=new Ur(ai,ei),bs=new Vs(Eo,ei,hi,nr),ul=new Cr(ke,bs,hi,ei,nr);return function Xe(L){const $=(0,Pe.m9)(L);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(ul),ul},"PUBLIC").setMultipleInstances(!0)),(0,Ne.KN)(zr,"0.4.4"),(0,Ne.KN)(zr,"0.4.4","esm2017")}();const ws="/firebase-messaging-sw.js",Ui="/firebase-cloud-messaging-push-scope",ur="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ms="https://fcmregistrations.googleapis.com/v1",gs="google.c.a.c_id",dr="google.c.a.c_l",js="google.c.a.ts",ro="google.c.a.e";var Os=(()=>{return(L=Os||(Os={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",Os;var L})();function Cs(L){const $=new Uint8Array(L);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rs(L){const ne=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ke=atob(ne),it=new Uint8Array(ke.length);for(let vt=0;vt<ke.length;++vt)it[vt]=ke.charCodeAt(vt);return it}const ls="fcm_token_details_db",Xs=5,Do="fcm_token_object_Store";function us(){return us=(0,le.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(vt=>vt.name).includes(ls))return null;let $=null;return(yield(0,Ae.X3)(ls,Xs,{upgrade:(ke=(0,le.Z)(function*(it,vt,tn,Ln){var ei;if(vt<2||!it.objectStoreNames.contains(Do))return;const hi=Ln.objectStore(Do),nr=yield hi.index("fcmSenderId").get(L);if(yield hi.clear(),nr)if(2===vt){const ai=nr;if(!ai.auth||!ai.p256dh||!ai.endpoint)return;$={token:ai.fcmToken,createTime:null!==(ei=ai.createTime)&&void 0!==ei?ei:Date.now(),subscriptionOptions:{auth:ai.auth,p256dh:ai.p256dh,endpoint:ai.endpoint,swScope:ai.swScope,vapidKey:"string"==typeof ai.vapidKey?ai.vapidKey:Cs(ai.vapidKey)}}}else if(3===vt){const ai=nr;$={token:ai.fcmToken,createTime:ai.createTime,subscriptionOptions:{auth:Cs(ai.auth),p256dh:Cs(ai.p256dh),endpoint:ai.endpoint,swScope:ai.swScope,vapidKey:Cs(ai.vapidKey)}}}else if(4===vt){const ai=nr;$={token:ai.fcmToken,createTime:ai.createTime,subscriptionOptions:{auth:Cs(ai.auth),p256dh:Cs(ai.p256dh),endpoint:ai.endpoint,swScope:ai.swScope,vapidKey:Cs(ai.vapidKey)}}}}),function(vt,tn,Ln,ei){return ke.apply(this,arguments)})})).close(),yield(0,Ae.Lj)(ls),yield(0,Ae.Lj)("fcm_vapid_details_db"),yield(0,Ae.Lj)("undefined"),function Io(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:$}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}($)?$:null;var ke}),us.apply(this,arguments)}const hr="firebase-messaging-database",so=1,Ds="firebase-messaging-store";let Ps=null;function _s(){return Ps||(Ps=(0,Ae.X3)(hr,so,{upgrade:(L,$)=>{0===$&&L.createObjectStore(Ds)}})),Ps}function $s(L){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,le.Z)(function*(L){const $=ks(L),ke=yield(yield _s()).transaction(Ds).objectStore(Ds).get($);if(ke)return ke;{const it=yield function To(L){return us.apply(this,arguments)}(L.appConfig.senderId);if(it)return yield zs(L,it),it}}),Lr.apply(this,arguments)}function zs(L,$){return oo.apply(this,arguments)}function oo(){return(oo=(0,le.Z)(function*(L,$){const ne=ks(L),it=(yield _s()).transaction(Ds,"readwrite");return yield it.objectStore(Ds).put($,ne),yield it.done,$})).apply(this,arguments)}function Po(){return(Po=(0,le.Z)(function*(L){const $=ks(L),ke=(yield _s()).transaction(Ds,"readwrite");yield ke.objectStore(Ds).delete($),yield ke.done})).apply(this,arguments)}function ks({appConfig:L}){return L.appId}const _r=new Pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vr(L,$){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,le.Z)(function*(L,$){const ne=yield x(L),ke=he($),it={method:"POST",headers:ne,body:JSON.stringify(ke)};let vt;try{vt=yield(yield fetch(k(L.appConfig),it)).json()}catch(tn){throw _r.create("token-subscribe-failed",{errorInfo:tn?.toString()})}if(vt.error)throw _r.create("token-subscribe-failed",{errorInfo:vt.error.message});if(!vt.token)throw _r.create("token-subscribe-no-token");return vt.token})).apply(this,arguments)}function Or(){return(Or=(0,le.Z)(function*(L,$){const ne=yield x(L),ke=he($.subscriptionOptions),it={method:"PATCH",headers:ne,body:JSON.stringify(ke)};let vt;try{vt=yield(yield fetch(`${k(L.appConfig)}/${$.token}`,it)).json()}catch(tn){throw _r.create("token-update-failed",{errorInfo:tn?.toString()})}if(vt.error)throw _r.create("token-update-failed",{errorInfo:vt.error.message});if(!vt.token)throw _r.create("token-update-no-token");return vt.token})).apply(this,arguments)}function ds(L,$){return de.apply(this,arguments)}function de(){return(de=(0,le.Z)(function*(L,$){const ke={method:"DELETE",headers:yield x(L)};try{const vt=yield(yield fetch(`${k(L.appConfig)}/${$}`,ke)).json();if(vt.error)throw _r.create("token-unsubscribe-failed",{errorInfo:vt.error.message})}catch(it){throw _r.create("token-unsubscribe-failed",{errorInfo:it?.toString()})}})).apply(this,arguments)}function k({projectId:L}){return`${Ms}/projects/${L}/registrations`}function x(L){return G.apply(this,arguments)}function G(){return(G=(0,le.Z)(function*({appConfig:L,installations:$}){const ne=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${ne}`})})).apply(this,arguments)}function he({p256dh:L,auth:$,endpoint:ne,vapidKey:ke}){const it={web:{endpoint:ne,auth:$,p256dh:L}};return ke!==ur&&(it.web.applicationPubKey=ke),it}const Ue=6048e5;function Pt(){return Pt=(0,le.Z)(function*(L){const $=yield function Ir(L,$){return Fn.apply(this,arguments)}(L.swRegistration,L.vapidKey),ne={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:$.endpoint,auth:Cs($.getKey("auth")),p256dh:Cs($.getKey("p256dh"))},ke=yield $s(L.firebaseDependencies);if(ke){if(function yo(L,$){return $.vapidKey===L.vapidKey&&$.endpoint===L.endpoint&&$.auth===L.auth&&$.p256dh===L.p256dh}(ke.subscriptionOptions,ne))return Date.now()>=ke.createTime+Ue?function kn(L,$){return bi.apply(this,arguments)}(L,{token:ke.token,createTime:Date.now(),subscriptionOptions:ne}):ke.token;try{yield ds(L.firebaseDependencies,ke.token)}catch(it){console.warn(it)}return or(L.firebaseDependencies,ne)}return or(L.firebaseDependencies,ne)}),Pt.apply(this,arguments)}function Tn(){return Tn=(0,le.Z)(function*(L){const $=yield $s(L.firebaseDependencies);$&&(yield ds(L.firebaseDependencies,$.token),yield function cs(L){return Po.apply(this,arguments)}(L.firebaseDependencies));const ne=yield L.swRegistration.pushManager.getSubscription();return!ne||ne.unsubscribe()}),Tn.apply(this,arguments)}function bi(){return bi=(0,le.Z)(function*(L,$){try{const ne=yield function Ts(L,$){return Or.apply(this,arguments)}(L.firebaseDependencies,$),ke=Object.assign(Object.assign({},$),{token:ne,createTime:Date.now()});return yield zs(L.firebaseDependencies,ke),ne}catch(ne){throw yield function nn(L){return Tn.apply(this,arguments)}(L),ne}}),bi.apply(this,arguments)}function or(L,$){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,le.Z)(function*(L,$){const ke={token:yield Vr(L,$),createTime:Date.now(),subscriptionOptions:$};return yield zs(L,ke),ke.token})).apply(this,arguments)}function Fn(){return(Fn=(0,le.Z)(function*(L,$){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rs($)})})).apply(this,arguments)}function Go(L){const $={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function ta(L,$){if(!$.notification)return;L.notification={};const ne=$.notification.title;ne&&(L.notification.title=ne);const ke=$.notification.body;ke&&(L.notification.body=ke);const it=$.notification.image;it&&(L.notification.image=it);const vt=$.notification.icon;vt&&(L.notification.icon=vt)}($,L),function U(L,$){$.data&&(L.data=$.data)}($,L),function V(L,$){var ne,ke,it,vt,tn;if(!($.fcmOptions||null!==(ne=$.notification)&&void 0!==ne&&ne.click_action))return;L.fcmOptions={};const Ln=null!==(it=null===(ke=$.fcmOptions)||void 0===ke?void 0:ke.link)&&void 0!==it?it:null===(vt=$.notification)||void 0===vt?void 0:vt.click_action;Ln&&(L.fcmOptions.link=Ln);const ei=null===(tn=$.fcmOptions)||void 0===tn?void 0:tn.analytics_label;ei&&(L.fcmOptions.analyticsLabel=ei)}($,L),$}function D(L,$){const ne=[];for(let ke=0;ke<L.length;ke++)ne.push(L.charAt(ke)),ke<$.length&&ne.push($.charAt(ke));return ne.join("")}function X(L){return _r.create("missing-app-config-values",{valueName:L})}D("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),D("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class je{constructor($,ne,ke){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const it=function Q(L){if(!L||!L.options)throw X("App Configuration Object");if(!L.name)throw X("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:ne}=L;for(const ke of $)if(!ne[ke])throw X(ke);return{appName:L.name,projectId:ne.projectId,apiKey:ne.apiKey,appId:ne.appId,senderId:ne.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:it,installations:ne,analyticsProvider:ke}}_delete(){return Promise.resolve()}}function Ct(L){return en.apply(this,arguments)}function en(){return(en=(0,le.Z)(function*(L){try{L.swRegistration=yield navigator.serviceWorker.register(ws,{scope:Ui}),L.swRegistration.update().catch(()=>{})}catch($){throw _r.create("failed-service-worker-registration",{browserErrorMessage:$?.message})}})).apply(this,arguments)}function An(){return(An=(0,le.Z)(function*(L,$){if(!$&&!L.swRegistration&&(yield Ct(L)),$||!L.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw _r.create("invalid-sw-registration");L.swRegistration=$}})).apply(this,arguments)}function qn(){return(qn=(0,le.Z)(function*(L,$){$?L.vapidKey=$:L.vapidKey||(L.vapidKey=ur)})).apply(this,arguments)}function zi(){return zi=(0,le.Z)(function*(L,$){if(!navigator)throw _r.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _r.create("permission-blocked");return yield function ii(L,$){return qn.apply(this,arguments)}(L,$?.vapidKey),yield function En(L,$){return An.apply(this,arguments)}(L,$?.serviceWorkerRegistration),function ft(L){return Pt.apply(this,arguments)}(L)}),zi.apply(this,arguments)}function jr(){return(jr=(0,le.Z)(function*(L,$,ne){const ke=function Ns(L){switch(L){case Os.NOTIFICATION_CLICKED:return"notification_open";case Os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}($);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(ke,{message_id:ne[gs],message_name:ne[dr],message_time:ne[js],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function rr(){return rr=(0,le.Z)(function*(L,$){const ne=$.data;if(!ne.isFirebaseMessaging)return;L.onMessageHandler&&ne.messageType===Os.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(Go(ne)):L.onMessageHandler.next(Go(ne)));const ke=ne.data;(function m(L){return"object"==typeof L&&!!L&&gs in L})(ke)&&"1"===ke[ro]&&(yield function Hr(L,$,ne){return jr.apply(this,arguments)}(L,ne.messageType,ke))}),rr.apply(this,arguments)}const Zi="@firebase/messaging",Gi=L=>{const $=new je(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ne=>function Pi(L,$){return rr.apply(this,arguments)}($,ne)),$},Gs=L=>{const $=L.getProvider("messaging").getImmediate();return{getToken:ke=>function ar(L,$){return zi.apply(this,arguments)}($,ke)}};function na(){return ao.apply(this,arguments)}function ao(){return(ao=(0,le.Z)(function*(){try{yield(0,Pe.eu)()}catch{return!1}return typeof window<"u"&&(0,Pe.hl)()&&(0,Pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xo(){(0,Ne.Xd)(new _e.wA("messaging",Gi,"PUBLIC")),(0,Ne.Xd)(new _e.wA("messaging-internal",Gs,"PRIVATE")),(0,Ne.KN)(Zi,"0.12.4"),(0,Ne.KN)(Zi,"0.12.4","esm2017")}();const So="analytics",No="firebase_id",fa="origin",Za=6e4,on="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qr="https://www.googletagmanager.com/gtag/js",Li=new Ie.Yd("@firebase/analytics"),rn=new Pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zn(L){if(!L.startsWith(qr)){const $=rn.create("invalid-gtag-resource",{gtagURL:L});return Li.warn($.message),""}return L}function ka(L){return Promise.all(L.map($=>$.catch(ne=>ne)))}function F(){return(F=(0,le.Z)(function*(L,$,ne,ke,it,vt){const tn=ke[it];try{if(tn)yield $[tn];else{const ei=(yield ka(ne)).find(hi=>hi.measurementId===it);ei&&(yield $[ei.appId])}}catch(Ln){Li.error(Ln)}L("config",it,vt)})).apply(this,arguments)}function Le(){return(Le=(0,le.Z)(function*(L,$,ne,ke,it){try{let vt=[];if(it&&it.send_to){let tn=it.send_to;Array.isArray(tn)||(tn=[tn]);const Ln=yield ka(ne);for(const ei of tn){const hi=Ln.find(ai=>ai.measurementId===ei),nr=hi&&$[hi.appId];if(!nr){vt=[];break}vt.push(nr)}}0===vt.length&&(vt=Object.values($)),yield Promise.all(vt),L("event",ke,it||{})}catch(vt){Li.error(vt)}})).apply(this,arguments)}const Vi=30,$i=new class fr{constructor($={},ne=1e3){this.throttleMetadata=$,this.intervalMillis=ne}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,ne){this.throttleMetadata[$]=ne}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function Kr(L){return new Headers({Accept:"application/json","x-goog-api-key":L})}function Rr(){return(Rr=(0,le.Z)(function*(L){var $;const{appId:ne,apiKey:ke}=L,it={method:"GET",headers:Kr(ke)},vt=on.replace("{app-id}",ne),tn=yield fetch(vt,it);if(200!==tn.status&&304!==tn.status){let Ln="";try{const ei=yield tn.json();null!==($=ei.error)&&void 0!==$&&$.message&&(Ln=ei.error.message)}catch{}throw rn.create("config-fetch-failed",{httpStatus:tn.status,responseMessage:Ln})}return tn.json()})).apply(this,arguments)}function H(){return(H=(0,le.Z)(function*(L,$=$i,ne){const{appId:ke,apiKey:it,measurementId:vt}=L.options;if(!ke)throw rn.create("no-app-id");if(!it){if(vt)return{measurementId:vt,appId:ke};throw rn.create("no-api-key")}const tn=$.getThrottleMetadata(ke)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ln=new ue;return setTimeout((0,le.Z)(function*(){Ln.abort()}),void 0!==ne?ne:Za),v({appId:ke,apiKey:it,measurementId:vt},tn,Ln,$)})).apply(this,arguments)}function v(L,$,ne){return b.apply(this,arguments)}function b(){return b=(0,le.Z)(function*(L,{throttleEndTimeMillis:$,backoffCount:ne},ke,it=$i){var vt;const{appId:tn,measurementId:Ln}=L;try{yield function P(L,$){return new Promise((ne,ke)=>{const it=Math.max($-Date.now(),0),vt=setTimeout(ne,it);L.addEventListener(()=>{clearTimeout(vt),ke(rn.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}(ke,$)}catch(ei){if(Ln)return Li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ln} provided in the "measurementId" field in the local Firebase config. [${ei?.message}]`),{appId:tn,measurementId:Ln};throw ei}try{const ei=yield function Rn(L){return Rr.apply(this,arguments)}(L);return it.deleteThrottleMetadata(tn),ei}catch(ei){const hi=ei;if(!function W(L){if(!(L instanceof Pe.ZR&&L.customData))return!1;const $=Number(L.customData.httpStatus);return 429===$||500===$||503===$||504===$}(hi)){if(it.deleteThrottleMetadata(tn),Ln)return Li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ln} provided in the "measurementId" field in the local Firebase config. [${hi?.message}]`),{appId:tn,measurementId:Ln};throw ei}const nr=503===Number(null===(vt=hi?.customData)||void 0===vt?void 0:vt.httpStatus)?(0,Pe.$s)(ne,it.intervalMillis,Vi):(0,Pe.$s)(ne,it.intervalMillis),ai={throttleEndTimeMillis:Date.now()+nr,backoffCount:ne+1};return it.setThrottleMetadata(tn,ai),Li.debug(`Calling attemptFetch again in ${nr} millis`),v(L,ai,ke,it)}}),b.apply(this,arguments)}class ue{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}let ye,Bi;function ut(){return(ut=(0,le.Z)(function*(L,$,ne,ke,it){if(it&&it.global)L("event",ne,ke);else{const vt=yield $;L("event",ne,Object.assign(Object.assign({},ke),{send_to:vt}))}})).apply(this,arguments)}function Zr(){return(Zr=(0,le.Z)(function*(){if(!(0,Pe.hl)())return Li.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Pe.eu)()}catch(L){return Li.warn(rn.create("indexeddb-unavailable",{errorInfo:L?.toString()}).message),!1}return!0})).apply(this,arguments)}function Br(){return Br=(0,le.Z)(function*(L,$,ne,ke,it,vt,tn){var Ln;const ei=function Ao(L){return H.apply(this,arguments)}(L);ei.then(bs=>{ne[bs.measurementId]=bs.appId,L.options.measurementId&&bs.measurementId!==L.options.measurementId&&Li.warn(`The measurement ID in the local Firebase config (${L.options.measurementId}) does not match the measurement ID fetched from the server (${bs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bs=>Li.error(bs)),$.push(ei);const hi=function xr(){return Zr.apply(this,arguments)}().then(bs=>{if(bs)return ke.getId()}),[nr,ai]=yield Promise.all([ei,hi]);(function Hn(L){const $=window.document.getElementsByTagName("script");for(const ne of Object.values($))if(ne.src&&ne.src.includes(qr)&&ne.src.includes(L))return ne;return null})(vt)||function At(L,$){const ne=function In(L,$){let ne;return window.trustedTypes&&(ne=window.trustedTypes.createPolicy(L,$)),ne}("firebase-js-sdk-policy",{createScriptURL:zn}),ke=document.createElement("script"),it=`${qr}?l=${L}&id=${$}`;ke.src=ne?ne?.createScriptURL(it):it,ke.async=!0,document.head.appendChild(ke)}(vt,nr.measurementId),Bi&&(it("consent","default",Bi),function is(L){Bi=L}(void 0)),it("js",new Date);const Eo=null!==(Ln=tn?.config)&&void 0!==Ln?Ln:{};return Eo[fa]="firebase",Eo.update=!0,null!=ai&&(Eo[No]=ai),it("config",nr.measurementId,Eo),ye&&(it("set",ye),function fs(L){ye=L}(void 0)),nr.measurementId}),Br.apply(this,arguments)}class ps{constructor($){this.app=$}_delete(){return delete Is[this.app.options.appId],Promise.resolve()}}let Is={},Js=[];const Fo={};let Ko,ys,ra="dataLayer",lo="gtag",Dn=!1;function Ni(L,$,ne){!function jn(){const L=[];if((0,Pe.ru)()&&L.push("This is a browser extension environment."),(0,Pe.zI)()||L.push("Cookies are not available."),L.length>0){const $=L.map((ke,it)=>`(${it+1}) ${ke}`).join(" "),ne=rn.create("invalid-analytics-context",{errorInfo:$});Li.warn(ne.message)}}();const ke=L.options.appId;if(!ke)throw rn.create("no-app-id");if(!L.options.apiKey){if(!L.options.measurementId)throw rn.create("no-api-key");Li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${L.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Is[ke])throw rn.create("already-exists",{id:ke});if(!Dn){!function T(L){let $=[];Array.isArray(window[L])?$=window[L]:window[L]=$}(ra);const{wrappedGtag:vt,gtagCore:tn}=function qt(L,$,ne,ke,it){let vt=function(...tn){window[ke].push(arguments)};return window[it]&&"function"==typeof window[it]&&(vt=window[it]),window[it]=function It(L,$,ne,ke){function vt(){return vt=(0,le.Z)(function*(tn,Ln,ei){try{"event"===tn?yield function se(L,$,ne,ke,it){return Le.apply(this,arguments)}(L,$,ne,Ln,ei):"config"===tn?yield function q(L,$,ne,ke,it,vt){return F.apply(this,arguments)}(L,$,ne,ke,Ln,ei):"consent"===tn?L("consent","update",ei):L("set",Ln)}catch(hi){Li.error(hi)}}),vt.apply(this,arguments)}return function it(tn,Ln,ei){return vt.apply(this,arguments)}}(vt,L,$,ne),{gtagCore:vt,wrappedGtag:window[it]}}(Is,Js,Fo,ra,lo);ys=vt,Ko=tn,Dn=!0}return Is[ke]=function mt(L,$,ne,ke,it,vt,tn){return Br.apply(this,arguments)}(L,Js,Fo,$,Ko,ra,ne),new ps(L)}function er(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,le.Z)(function*(){if((0,Pe.ru)()||!(0,Pe.zI)()||!(0,Pe.hl)())return!1;try{return yield(0,Pe.eu)()}catch{return!1}})).apply(this,arguments)}const Yo="@firebase/analytics";!function lc(){(0,Ne.Xd)(new _e.wA(So,($,{options:ne})=>Ni($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,Ne.Xd)(new _e.wA("analytics-internal",function L($){try{const ne=$.getProvider(So).getImmediate();return{logEvent:(ke,it,vt)=>function vo(L,$,ne,ke){L=(0,Pe.m9)(L),function Ke(L,$,ne,ke,it){return ut.apply(this,arguments)}(ys,Is[L.app.options.appId],$,ne,ke).catch(it=>Li.error(it))}(ne,ke,it,vt)}}catch(ne){throw rn.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,Ne.KN)(Yo,"0.9.5"),(0,Ne.KN)(Yo,"0.9.5","esm2017")}();var ss=B(4408),cc=B(640);const uc=new class ll extends cc.v{}(class Vu extends ss.o{constructor($,ne){super($,ne),this.scheduler=$,this.work=ne}schedule($,ne=0){return ne>0?super.schedule($,ne):(this.delay=ne,this.state=$,this.scheduler.flush(this),this)}execute($,ne){return ne>0||this.closed?super.execute($,ne):this._execute($,ne)}requestAsyncId($,ne,ke=0){return null!=ke&&ke>0||null==ke&&this.delay>0?super.requestAsyncId($,ne,ke):($.flush(this),0)}});var Pl=B(4986),Hc=B(9751),wa=B(8505),cl=B(9468),Ya=B(5363);const Ws=new p.GfV("7.5.0"),pa="__angularfire_symbol__analyticsIsSupportedValue",Ca="__angularfire_symbol__analyticsIsSupported",sa="__angularfire_symbol__remoteConfigIsSupportedValue",qs="__angularfire_symbol__remoteConfigIsSupported",ts="__angularfire_symbol__messagingIsSupportedValue",w="__angularfire_symbol__messagingIsSupported";function J(L,$,ne){if($){if(1===$.length)return $[0];const vt=$.filter(tn=>tn.app===ne);if(1===vt.length)return vt[0]}return ne.container.getProvider(L).getImmediate({optional:!0})}globalThis[Ca]||(globalThis[Ca]=er().then(L=>globalThis[pa]=L).catch(()=>globalThis[pa]=!1)),globalThis[w]||(globalThis[w]=na().then(L=>globalThis[ts]=L).catch(()=>globalThis[ts]=!1)),globalThis[qs]||(globalThis[qs]=ir().then(L=>globalThis[sa]=L).catch(()=>globalThis[sa]=!1));const oe=(L,$)=>{const ne=$?[$]:(0,f.C6)(),ke=[];return ne.forEach(it=>{it.container.getProvider(L).instances.forEach(tn=>{ke.includes(tn)||ke.push(tn)})}),ke};function Ye(){}class kt{constructor($,ne=uc){this.zone=$,this.delegate=ne}now(){return this.delegate.now()}schedule($,ne,ke){const it=this.zone;return this.delegate.schedule(function(tn){it.runGuarded(()=>{$.apply(this,[tn])})},ne,ke)}}class fn{constructor($){this.zone=$,this.task=null}call($,ne){const ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ye,{},Ye,Ye)),ne.pipe((0,wa.b)({next:ke,complete:ke,error:ke})).subscribe($).add(ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sn=(()=>{class L{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new kt(Zone.current)),this.insideAngular=ne.run(()=>new kt(Zone.current,Pl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(ne){return new(ne||L)(p.LFG(p.R0b))},L.\u0275prov=p.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function Mi(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function Ks(L){return Mi().ngZone.run(()=>L())}function Fs(L){return Mi(),function Qa(L){return function(ne){return(ne=ne.lift(new fn(L.ngZone))).pipe((0,cl.R)(L.outsideAngular),(0,Ya.Q)(L.insideAngular))}}(Mi())(L)}const ma=(L,$)=>function(){const ke=arguments;return $&&setTimeout(()=>{"scheduled"===$.state&&$.invoke()},10),Ks(()=>L.apply(void 0,ke))},Da=(L,$)=>function(){let ne;const ke=arguments;for(let vt=0;vt<arguments.length;vt++)"function"==typeof ke[vt]&&($&&(ne||(ne=Ks(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ye,{},Ye,Ye)))),ke[vt]=ma(ke[vt],ne));const it=function tr(L){return Mi().ngZone.runOutsideAngular(()=>L())}(()=>L.apply(this,ke));if(!$){if(it instanceof Hc.y){const vt=Mi();return it.pipe((0,cl.R)(vt.outsideAngular),(0,Ya.Q)(vt.insideAngular))}return Ks(()=>it)}return it instanceof Hc.y?it.pipe(Fs):it instanceof Promise?Ks(()=>new Promise((vt,tn)=>it.then(Ln=>Ks(()=>vt(Ln)),Ln=>Ks(()=>tn(Ln))))):"function"==typeof it&&ne?function(){return setTimeout(()=>{ne&&"scheduled"===ne.state&&ne.invoke()},10),it.apply(this,arguments)}:Ks(()=>it)}},5525:(bn,ot,B)=>{B.d(ot,{ET:()=>iy,hJ:()=>vg,oe:()=>ny,JU:()=>Jp,QT:()=>J_,PL:()=>vv,ad:()=>tm,cf:()=>ry,IO:()=>Pg,pl:()=>bv,r7:()=>Ai,ar:()=>kg});var Ae,p=B(5861),f=B(9681),le=B(4859),Ne=B(1877),Pe=B(2090),_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie={},Ge=Ge||{},ce=_e||self;function Se(){}function Ze(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Dt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Lt="closure_uid_"+(1e9*Math.random()>>>0),_t=0;function Ht(r,e,t){return r.call.apply(r.bind,arguments)}function Qt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function gn(r,e,t){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ht:Qt).apply(null,arguments)}function Pn(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function Me(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(o,l,u){for(var _=Array(arguments.length-2),M=2;M<arguments.length;M++)_[M-2]=arguments[M];return e.prototype[l].apply(o,_)}}function Ce(){this.s=this.s,this.o=this.o}Ce.prototype.s=!1,Ce.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function gt(r){Object.prototype.hasOwnProperty.call(r,Lt)&&r[Lt]||(r[Lt]=++_t)}(this)},Ce.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ct=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Nt(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function rt(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Ze(o)){const l=r.length||0,u=o.length||0;r.length=l+u;for(let _=0;_<u;_++)r[l+_]=o[_]}else r.push(o)}}function lt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ce.addEventListener("test",Se,e),ce.removeEventListener("test",Se,e)}catch{}return r}();function Zt(r){return/^[\s\xa0]*$/.test(r)}var wt=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Xt(r,e){return r<e?-1:r>e?1:0}function tt(){var r=ce.navigator;return r&&(r=r.userAgent)?r:""}function st(r){return-1!=tt().indexOf(r)}function pt(r){return pt[" "](r),r}pt[" "]=Se;var Tt,r,Wt=st("Opera"),Vt=st("Trident")||st("MSIE"),pn=st("Edge"),ht=pn||Vt,jt=st("Gecko")&&!(-1!=tt().toLowerCase().indexOf("webkit")&&!st("Edge"))&&!(st("Trident")||st("MSIE"))&&!st("Edge"),We=-1!=tt().toLowerCase().indexOf("webkit")&&!st("Edge");function et(){var r=ce.document;return r?r.documentMode:void 0}e:{var un="",fi=(r=tt(),jt?/rv:([^\);]+)(\)|;)/.exec(r):pn?/Edge\/([\d\.]+)/.exec(r):Vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):We?/WebKit\/(\S+)/.exec(r):Wt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(fi&&(un=fi?fi[1]:""),Vt){var an=et();if(null!=an&&an>parseFloat(un)){Tt=String(an);break e}}Tt=un}var dn={};var Qn=ce.document&&Vt&&(et()||parseInt(Tt,10))||void 0;function wn(r,e){if(lt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(jt){e:{try{pt(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Di[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&wn.X.h.call(this)}}Me(wn,lt);var Di={2:"touch",3:"pen",4:"mouse"};wn.prototype.h=function(){wn.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),di=0;function gi(r,e,t,o,l){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=l,this.key=++di,this.ba=this.ea=!1}function Wn(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function Ti(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function lr(r){const e={};for(const t in r)e[t]=r[t];return e}const xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yn(r,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)r[t]=o[t];for(let u=0;u<xt.length;u++)t=xt[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Rt(r){this.src=r,this.g={},this.h=0}function zt(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],l=ct(o,e);(u=0<=l)&&Array.prototype.splice.call(o,l,1),u&&(Wn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Jt(r,e,t,o){for(var l=0;l<r.length;++l){var u=r[l];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==o)return l}return-1}Rt.prototype.add=function(r,e,t,o,l){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var _=Jt(r,e,o,l);return-1<_?(e=r[_],t||(e.ea=!1)):((e=new gi(e,this.src,u,!!o,l)).ea=t,r.push(e)),e};var ti="closure_lm_"+(1e6*Math.random()|0),Gn={};function Fi(r,e,t,o,l){if(o&&o.once)return xn(r,e,t,o,l);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Fi(r,e[u],t,o,l);return null}return t=ve(t),r&&r[Jn]?r.N(e,t,Dt(o)?!!o.capture:!!o,l):Oi(r,e,t,!1,o,l)}function Oi(r,e,t,o,l,u){if(!e)throw Error("Invalid event type");var _=Dt(l)?!!l.capture:!!l,M=Ut(r);if(M||(r[ti]=M=new Rt(r)),(t=M.add(e,t,o,_,u)).proxy)return t;if(o=function Ii(){const e=Ar;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)$t||(l=_),void 0===l&&(l=!1),r.addEventListener(e.toString(),o,l);else if(r.attachEvent)r.attachEvent(oi(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function xn(r,e,t,o,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)xn(r,e[u],t,o,l);return null}return t=ve(t),r&&r[Jn]?r.O(e,t,Dt(o)?!!o.capture:!!o,l):Oi(r,e,t,!0,o,l)}function si(r,e,t,o,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)si(r,e[u],t,o,l);else o=Dt(o)?!!o.capture:!!o,t=ve(t),r&&r[Jn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Jt(u=r.g[e],t,o,l))&&(Wn(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=Ut(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Jt(e,t,o,l)),(t=-1<r?e[r]:null)&&pr(t))}function pr(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[Jn])zt(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(oi(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Ut(e))?(zt(t,r),0==t.h&&(t.src=null,e[ti]=null)):Wn(r)}}}function oi(r){return r in Gn?Gn[r]:Gn[r]="on"+r}function Ar(r,e){if(r.ba)r=!0;else{e=new wn(e,this);var t=r.listener,o=r.ha||r.src;r.ea&&pr(r),r=t.call(o,e)}return r}function Ut(r){return(r=r[ti])instanceof Rt?r:null}var De="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(r){return"function"==typeof r?r:(r[De]||(r[De]=function(e){return r.handleEvent(e)}),r[De])}function ge(){Ce.call(this),this.i=new Rt(this),this.P=this,this.I=null}function fe(r,e){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=e.type||e,"string"==typeof e)e=new lt(e,r);else if(e instanceof lt)e.target=e.target||r;else{var l=e;yn(e=new lt(o,r),l)}if(l=!0,t)for(var u=t.length-1;0<=u;u--){var _=e.g=t[u];l=Te(_,o,!0,e)&&l}if(l=Te(_=e.g=r,o,!0,e)&&l,l=Te(_,o,!1,e)&&l,t)for(u=0;u<t.length;u++)l=Te(_=e.g=t[u],o,!1,e)&&l}function Te(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var _=e[u];if(_&&!_.ba&&_.capture==t){var M=_.listener,z=_.ha||_.src;_.ea&&zt(r.i,_),l=!1!==M.call(z,o)&&l}}return l&&!o.defaultPrevented}Me(ge,Ce),ge.prototype[Jn]=!0,ge.prototype.removeEventListener=function(r,e,t,o){si(this,r,e,t,o)},ge.prototype.M=function(){if(ge.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Wn(t[o]);delete r.g[e],r.h--}}this.I=null},ge.prototype.N=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},ge.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var at=ce.JSON.stringify;function Mt(){var r=me;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ln,be=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Ve,r=>r.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dt(r){ce.setTimeout(()=>{throw r},0)}function Qe(r,e){ln||function Be(){var r=ce.Promise.resolve(void 0);ln=function(){r.then(ie)}}(),Re||(ln(),Re=!0),me.add(r,e)}var Re=!1,me=new class we{constructor(){this.h=this.g=null}add(e,t){const o=be.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function ie(){for(var r;r=Mt();){try{r.h.call(r.g)}catch(t){dt(t)}var e=be;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Re=!1}function te(r,e){ge.call(this),this.h=r||1,this.g=e||ce,this.j=gn(this.lb,this),this.l=Date.now()}function re(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function $e(r,e,t){if("function"==typeof r)t&&(r=gn(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=gn(r.handleEvent,r)}return 2147483647<Number(e)?-1:ce.setTimeout(r,e||0)}function ze(r){r.g=$e(()=>{r.g=null,r.i&&(r.i=!1,ze(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Me(te,ge),(Ae=te.prototype).ca=!1,Ae.R=null,Ae.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fe(this,"tick"),this.ca&&(re(this),this.start()))}},Ae.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.M=function(){te.X.M.call(this),re(this),delete this.g};class nt extends Ce{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ze(this)}M(){super.M(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bt(r){Ce.call(this),this.h=r,this.g={}}Me(Bt,Ce);var mn=[];function ni(r,e,t,o){Array.isArray(t)||(t&&(mn[0]=t.toString()),t=mn);for(var l=0;l<t.length;l++){var u=Fi(e,t[l],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function Hi(r){Ti(r.g,function(e,t){this.g.hasOwnProperty(t)&&pr(e)},r),r.g={}}function sr(){this.g=!0}function mr(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ji(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var _=1;_<l.length;_++)l[_]=""}}}return at(t)}catch{return e}}(r,t)+(o?" "+o:"")})}Bt.prototype.M=function(){Bt.X.M.call(this),Hi(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sr.prototype.Aa=function(){this.g=!1},sr.prototype.info=function(){};var os={},as=null;function _i(){return as=as||new ge}function wi(r){lt.call(this,os.Pa,r)}function wr(r){const e=_i();fe(e,new wi(e))}function Jr(r,e){lt.call(this,os.STAT_EVENT,r),this.stat=e}function xi(r){const e=_i();fe(e,new Jr(e,r))}function ms(r,e){lt.call(this,os.Qa,r),this.size=e}function ns(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){r()},e)}os.Pa="serverreachability",Me(wi,lt),os.STAT_EVENT="statevent",Me(Jr,lt),os.Qa="timingevent",Me(ms,lt);var Ri={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},yr={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Fe(){}function Xe(){}Fe.prototype.h=null;var Xn,Ot={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Yt(){lt.call(this,"d")}function cn(){lt.call(this,"c")}function On(){}function pi(r,e,t,o){this.l=r,this.j=e,this.m=t,this.U=o||1,this.S=new Bt(this),this.O=Yn,this.T=new te(r=ht?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gr}function gr(){this.i=null,this.g="",this.h=!1}Me(Yt,lt),Me(cn,lt),Me(On,Fe),On.prototype.g=function(){return new XMLHttpRequest},On.prototype.i=function(){return{}},Xn=new On;var Yn=45e3,Ki={},Vs={};function eo(r,e,t){r.K=1,r.v=ur(ji(e)),r.s=t,r.P=!0,mo(r,null)}function mo(r,e){r.F=Date.now(),cr(r),r.A=ji(r.v);var t=r.A,o=r.U;Array.isArray(o)||(o=[String(o)]),To(t.i,"t",o),r.C=0,t=r.l.H,r.h=new gr,r.g=Ns(r.l,t?e:null,!r.s),0<r.N&&(r.L=new nt(gn(r.La,r,r.g),r.N)),ni(r.S,r.g,"readystatechange",r.ib),e=r.H?lr(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),wr(),function Er(r,e,t,o,l,u){r.info(function(){if(r.g)if(u)for(var _="",M=u.split("&"),z=0;z<M.length;z++){var Y=M[z].split("=");if(1<Y.length){var pe=Y[0];Y=Y[1];var qe=pe.split("_");_=2<=qe.length&&"type"==qe[1]?_+(pe+"=")+Y+"&":_+(pe+"=redacted&")}}else _=null;else _=u;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+_})}(r.j,r.u,r.A,r.m,r.U,r.s)}function Gr(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function to(r,e,t){let l,o=!0;for(;!r.I&&r.C<t.length;){if(l=Ur(r,t),l==Vs){4==e&&(r.o=4,xi(14),o=!1),mr(r.j,r.m,null,"[Incomplete Response]");break}if(l==Ki){r.o=4,xi(15),mr(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}mr(r.j,r.m,l,null),no(r,l)}Gr(r)&&l!=Vs&&l!=Ki&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,xi(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),En(e),e.K=!0,xi(11))):(mr(r.j,r.m,t,"[Invalid Chunked Response]"),Dr(r),Si(r))}function Ur(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?Vs:(t=Number(e.substring(t,o)),isNaN(t)?Ki:(o+=1)+t>e.length?Vs:(e=e.substr(o,t),r.C=o+t,e))}function cr(r){r.V=Date.now()+r.O,Fr(r,r.O)}function Fr(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ns(gn(r.gb,r),e)}function Cr(r){r.B&&(ce.clearTimeout(r.B),r.B=null)}function Si(r){0==r.l.G||r.I||qn(r.l,r)}function Dr(r){Cr(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,re(r.T),Hi(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function no(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||$s(t.h,r)))if(!r.J&&$s(t.h,r)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;ii(t),U(t)}en(t),xi(18)}}else t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=ns(gn(t.cb,t),6e3));if(1>=_s(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else zi(t,11)}else if((r.J||t.g==r)&&ii(t),!Zt(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let Y=l[e];if(t.T=Y[0],Y=Y[1],2==t.G)if("c"==Y[0]){t.I=Y[1],t.ka=Y[2];const pe=Y[3];null!=pe&&(t.ma=pe,t.j.info("VER="+t.ma));const qe=Y[4];null!=qe&&(t.Ca=qe,t.j.info("SVER="+t.Ca));const yt=Y[5];null!=yt&&"number"==typeof yt&&0<yt&&(t.J=o=1.5*yt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Gt=r.g;if(Gt){const vn=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vn){var u=o.h;u.g||-1==vn.indexOf("spdy")&&-1==vn.indexOf("quic")&&-1==vn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Lr(u,u.h),u.h=null))}if(o.D){const $n=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;$n&&(o.za=$n,Ui(o.F,o.D,$n))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var _=r;if((o=t).sa=jr(o,o.H?o.ka:null,o.V),_.J){zs(o.h,_);var M=_,z=o.J;z&&M.setTimeout(z),M.B&&(Cr(M),cr(M)),o.g=_}else Ct(o);0<t.i.length&&m(t)}else"stop"!=Y[0]&&"close"!=Y[0]||zi(t,7);else 3==t.G&&("stop"==Y[0]||"close"==Y[0]?"stop"==Y[0]?zi(t,7):ta(t):"noop"!=Y[0]&&t.l&&t.l.wa(Y),t.A=0)}wr()}catch{}}function Qs(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ze(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Bs(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Ze(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function io(r){if(r.W&&"function"==typeof r.W)return r.W();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ze(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),l=o.length,u=0;u<l;u++)e.call(void 0,o[u],t&&t[u],r)}(Ae=pi.prototype).setTimeout=function(r){this.O=r},Ae.ib=function(r){r=r.target;const e=this.L;e&&3==or(r)?e.l():this.La(r)},Ae.La=function(r){try{if(r==this.g)e:{const pe=or(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>pe)&&(3!=pe||ht||this.g&&(this.h.h||this.g.fa()||Tr(this.g)))){this.I||4!=pe||7==e||wr(),Cr(this);var t=this.g.aa();this.Y=t;t:if(Gr(this)){var o=Tr(this.g);r="";var l=o.length,u=4==or(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),Si(this);var _="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==l-1});o.splice(0,l),this.h.g+=r,this.C=0,_=this.h.g}else _=this.g.fa();if(this.i=200==t,function Ls(r,e,t,o,l,u,_){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+u+" "+_})}(this.j,this.u,this.A,this.m,this.U,pe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var M,z=this.g;if((M=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zt(M)){var Y=M;break t}}Y=null}if(!(t=Y)){this.i=!1,this.o=3,xi(12),Dr(this),Si(this);break e}mr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,no(this,t)}this.P?(to(this,pe,_),ht&&this.i&&3==pe&&(ni(this.S,this.T,"tick",this.hb),this.T.start())):(mr(this.j,this.m,_,null),no(this,_)),4==pe&&Dr(this),this.i&&!this.I&&(4==pe?qn(this.l,this):(this.i=!1,cr(this)))}else 400==t&&0<_.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),Dr(this),Si(this)}}}catch{}},Ae.hb=function(){if(this.g){var r=or(this.g),e=this.g.fa();this.C<e.length&&(Cr(this),to(this,r,e),this.i&&4!=r&&cr(this))}},Ae.cancel=function(){this.I=!0,Dr(this)},Ae.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function zr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wr(),xi(17)),Dr(this),this.o=2,Si(this)):Fr(this,this.V-r)};var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Hs){this.h=void 0!==e?e:r.h,ir(this,r.j),this.s=r.s,this.g=r.g,Mr(this,r.m),this.l=r.l,e=r.i;var t=new Rs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ws(this,t),this.o=r.o}else r&&(t=String(r).match(Us))?(this.h=!!e,ir(this,t[1]||"",!0),this.s=Ms(t[2]||""),this.g=Ms(t[3]||"",!0),Mr(this,t[4]),this.l=Ms(t[5]||"",!0),ws(this,t[6]||"",!0),this.o=Ms(t[7]||"")):(this.h=!!e,this.i=new Rs(null,this.h))}function ji(r){return new Hs(r)}function ir(r,e,t){r.j=t?Ms(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Mr(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ws(r,e,t){e instanceof Rs?(r.i=e,function Io(r,e){e&&!r.j&&(ls(r),r.i=null,r.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(Xs(this,o),To(this,l,t))},r)),r.j=e}(r.i,r.h)):(t||(e=gs(e,Os)),r.i=new Rs(e,r.h))}function Ui(r,e,t){r.i.set(e,t)}function ur(r){return Ui(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Ms(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function gs(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,dr),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function dr(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Hs.prototype.toString=function(){var r=[],e=this.j;e&&r.push(gs(e,js,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(gs(e,js,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(gs(t,"/"==t.charAt(0)?go:ro,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",gs(t,Cs)),r.join("")};var js=/[#\/\?@]/g,ro=/[#\?:]/g,go=/[#\?]/g,Os=/[#\?@]/g,Cs=/#/g;function Rs(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function ls(r){r.g||(r.g=new Map,r.h=0,r.i&&function vr(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),l=null;if(0<=o){var u=r[t].substring(0,o);l=r[t].substring(o+1)}else u=r[t];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Xs(r,e){ls(r),e=us(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Do(r,e){return ls(r),e=us(r,e),r.g.has(e)}function To(r,e,t){Xs(r,e),0<t.length&&(r.i=null,r.g.set(us(r,e),Nt(t)),r.h+=t.length)}function us(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function so(r){this.l=r||Ds,r=ce.PerformanceNavigationTiming?0<(r=ce.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ce.g&&ce.g.Ga&&ce.g.Ga()&&ce.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ae=Rs.prototype).add=function(r,e){ls(this),this.i=null,r=us(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Ae.forEach=function(r,e){ls(this),this.g.forEach(function(t,o){t.forEach(function(l){r.call(e,l,o,this)},this)},this)},Ae.oa=function(){ls(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=r[o];for(let u=0;u<l.length;u++)t.push(e[o])}return t},Ae.W=function(r){ls(this);let e=[];if("string"==typeof r)Do(this,r)&&(e=e.concat(this.g.get(us(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Ae.set=function(r,e){return ls(this),this.i=null,Do(this,r=us(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Ae.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),_=this.W(o);for(o=0;o<_.length;o++){var l=u;""!==_[o]&&(l+="="+encodeURIComponent(String(_[o]))),r.push(l)}}return this.i=r.join("&")};var Ds=10;function Ps(r){return!!r.h||!!r.g&&r.g.size>=r.j}function _s(r){return r.h?1:r.g?r.g.size:0}function $s(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Lr(r,e){r.g?r.g.add(e):r.h=e}function zs(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function oo(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Nt(r.i)}function cs(){}function Po(){this.g=new cs}function ks(r,e,t){const o=t||"";try{Qs(r,function(l,u){let _=l;Dt(l)&&(_=at(l)),e.push(o+u+"="+encodeURIComponent(_))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function _r(r,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function Vr(r){this.l=r.ac||null,this.j=r.jb||!1}function Wr(r,e){ge.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Ts,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}so.prototype.cancel=function(){if(this.i=oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},cs.prototype.stringify=function(r){return ce.JSON.stringify(r,void 0)},cs.prototype.parse=function(r){return ce.JSON.parse(r,void 0)},Me(Vr,Fe),Vr.prototype.g=function(){return new Wr(this.l,this.j)},Vr.prototype.i=function(r){return function(){return r}}({}),Me(Wr,ge);var Ts=0;function Or(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function ds(r){r.readyState=4,r.l=null,r.j=null,r.A=null,de(r)}function de(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Ae=Wr.prototype).open=function(r,e){if(this.readyState!=Ts)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,de(this)},Ae.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||ce).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ds(this)),this.readyState=Ts},Ae.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,de(this)),this.g&&(this.readyState=3,de(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Or(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},Ae.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ds(this):de(this),3==this.readyState&&Or(this)}},Ae.Va=function(r){this.g&&(this.response=this.responseText=r,ds(this))},Ae.Ua=function(r){this.g&&(this.response=r,ds(this))},Ae.ga=function(){this.g&&ds(this)},Ae.setRequestHeader=function(r,e){this.v.append(r,e)},Ae.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var k=ce.JSON.parse;function x(r){ge.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=G,this.K=this.L=!1}Me(x,ge);var G="",he=/^https?$/i,Ue=["POST","PUT"];function Pt(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,nn(r),kn(r)}function nn(r){r.D||(r.D=!0,fe(r,"complete"),fe(r,"error"))}function Tn(r){if(r.h&&typeof Ge<"u"&&(!r.C[1]||4!=or(r)||2!=r.aa()))if(r.v&&4==or(r))$e(r.Ha,0,r);else if(fe(r,"readystatechange"),4==or(r)){r.h=!1;try{const M=r.aa();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===M){var l=String(r.H).match(Us)[1]||null;if(!l&&ce.self&&ce.self.location){var u=ce.self.location.protocol;l=u.substr(0,u.length-1)}o=!he.test(l?l.toLowerCase():"")}t=o}if(t)fe(r,"complete"),fe(r,"success");else{r.m=6;try{var _=2<or(r)?r.g.statusText:""}catch{_=""}r.j=_+" ["+r.aa()+"]",nn(r)}}finally{kn(r)}}}function kn(r,e){if(r.g){bi(r);const t=r.g,o=r.C[0]?Se:null;r.g=null,r.C=null,e||fe(r,"ready");try{t.onreadystatechange=o}catch{}}}function bi(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(ce.clearTimeout(r.A),r.A=null)}function or(r){return r.g?r.g.readyState:0}function Tr(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case G:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Ir(r){let e="";return Ti(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Fn(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Ir(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ui(r,e,t))}function yo(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Go(r){this.Ca=0,this.i=[],this.j=new sr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=yo("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=yo("baseRetryDelayMs",5e3,r),this.bb=yo("retryDelaySeedMs",1e4,r),this.$a=yo("forwardChannelMaxRetries",2,r),this.ta=yo("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new so(r&&r.concurrentRequestLimit),this.Fa=new Po,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ta(r){if(V(r),3==r.G){var e=r.U++,t=ji(r.F);Ui(t,"SID",r.I),Ui(t,"RID",e),Ui(t,"TYPE","terminate"),X(r,t),(e=new pi(r,r.j,e,void 0)).K=2,e.v=ur(ji(t)),t=!1,ce.navigator&&ce.navigator.sendBeacon&&(t=ce.navigator.sendBeacon(e.v.toString(),"")),!t&&ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ns(e.l,null),e.g.da(e.v)),e.F=Date.now(),cr(e)}Hr(r)}function U(r){r.g&&(En(r),r.g.cancel(),r.g=null)}function V(r){U(r),r.u&&(ce.clearTimeout(r.u),r.u=null),ii(r),r.h.cancel(),r.m&&("number"==typeof r.m&&ce.clearTimeout(r.m),r.m=null)}function m(r){Ps(r.h)||r.m||(r.m=!0,Qe(r.Ja,r),r.C=0)}function Q(r,e){var t;t=e?e.m:r.U++;const o=ji(r.F);Ui(o,"SID",r.I),Ui(o,"RID",t),Ui(o,"AID",r.T),X(r,o),r.o&&r.s&&Fn(o,r.o,r.s),t=new pi(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=je(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),Lr(r.h,t),eo(t,o,e)}function X(r,e){r.ia&&Ti(r.ia,function(t,o){Ui(e,o,t)}),r.l&&Qs({},function(t,o){Ui(e,o,t)})}function je(r,e,t){t=Math.min(r.i.length,t);var o=r.l?gn(r.l.Ra,r.l,r):null;e:{var l=r.i;let u=-1;for(;;){const _=["count="+t];-1==u?0<t?(u=l[0].h,_.push("ofs="+u)):u=0:_.push("ofs="+u);let M=!0;for(let z=0;z<t;z++){let Y=l[z].h;const pe=l[z].g;if(Y-=u,0>Y)u=Math.max(0,l[z].h-100),M=!1;else try{ks(pe,_,"req"+Y+"_")}catch{o&&o(pe)}}if(M){o=_.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,o}function Ct(r){r.g||r.u||(r.Z=1,Qe(r.Ia,r),r.A=0)}function en(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=ns(gn(r.Ia,r),ar(r,r.A)),r.A++,0))}function En(r){null!=r.B&&(ce.clearTimeout(r.B),r.B=null)}function An(r){r.g=new pi(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=ji(r.sa);Ui(e,"RID","rpc"),Ui(e,"SID",r.I),Ui(e,"CI",r.L?"0":"1"),Ui(e,"AID",r.T),Ui(e,"TYPE","xmlhttp"),X(r,e),r.o&&r.s&&Fn(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=ur(ji(e)),t.s=null,t.P=!0,mo(t,r)}function ii(r){null!=r.v&&(ce.clearTimeout(r.v),r.v=null)}function qn(r,e){var t=null;if(r.g==e){ii(r),En(r),r.g=null;var o=2}else{if(!$s(r.h,e))return;t=e.D,zs(r.h,e),o=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=r.C;fe(o=_i(),new ms(o,t)),m(r)}else Ct(r);else if(3==(l=e.o)||0==l&&0<r.pa||!(1==o&&function D(r,e){return!(_s(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=ns(gn(r.Ja,r,e),ar(r,r.C)),r.C++,0)))}(r,e)||2==o&&en(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),l){case 1:zi(r,5);break;case 4:zi(r,10);break;case 3:zi(r,6);break;default:zi(r,2)}}function ar(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function zi(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var o=gn(r.kb,r);t||(t=new Hs("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||ir(t,"https"),ur(t)),function _o(r,e){const t=new sr;if(ce.Image){const o=new Image;o.onload=Pn(_r,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Pn(_r,t,o,"TestLoadImage: error",!1,e),o.onabort=Pn(_r,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Pn(_r,t,o,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else xi(2);r.G=0,r.l&&r.l.va(e),Hr(r),V(r)}function Hr(r){if(r.G=0,r.la=[],r.l){const e=oo(r.h);(0!=e.length||0!=r.i.length)&&(rt(r.la,e),rt(r.la,r.i),r.h.i.length=0,Nt(r.i),r.i.length=0),r.l.ua()}}function jr(r,e,t){var o=t instanceof Hs?ji(t):new Hs(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Mr(o,o.m);else{var l=ce.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new Hs(null,void 0);o&&ir(u,o),e&&(u.g=e),l&&Mr(u,l),t&&(u.l=t),o=u}return e=r.za,(t=r.D)&&e&&Ui(o,t,e),Ui(o,"VER",r.ma),X(r,o),o}function Ns(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new x(t&&r.Da&&!r.ra?new Vr({jb:!0}):r.ra)).Ka(r.H),e}function Pi(){}function rr(){if(Vt&&!(10<=Number(Qn)))throw Error("Environmental error: no available transport.")}function Zi(r,e){ge.call(this),this.g=new Go(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!Zt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zt(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Gs(this)}function yi(r){Yt.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Gi(){cn.call(this),this.status=1}function Gs(r){this.g=r}(Ae=x.prototype).Ka=function(r){this.L=r},Ae.da=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xn.g(),this.C=function He(r){return r.h||(r.h=r.i())}(this.u?this.u:Xn),this.g.onreadystatechange=gn(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(u){return void Pt(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),l=ce.FormData&&r instanceof ce.FormData,!(0<=ct(Ue,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,_]of t)this.g.setRequestHeader(u,_);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bi(this),0<this.B&&((this.K=function ft(r){return Vt&&function Un(){return function St(r){var e=dn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=wt(String(Tt)).split("."),t=wt("9").split("."),o=Math.max(e.length,t.length);for(let _=0;0==r&&_<o;_++){var l=e[_]||"",u=t[_]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==l[0].length&&0==u[0].length)break;r=Xt(0==l[1].length?0:parseInt(l[1],10),0==u[1].length?0:parseInt(u[1],10))||Xt(0==l[2].length,0==u[2].length)||Xt(l[2],u[2]),l=l[3],u=u[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.qa,this)):this.A=$e(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Pt(this,u)}},Ae.qa=function(){typeof Ge<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fe(this,"timeout"),this.abort(8))},Ae.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,fe(this,"complete"),fe(this,"abort"),kn(this))},Ae.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kn(this,!0)),x.X.M.call(this)},Ae.Ha=function(){this.s||(this.F||this.v||this.l?Tn(this):this.fb())},Ae.fb=function(){Tn(this)},Ae.aa=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},Ae.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ae.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),k(e)}},Ae.Ea=function(){return this.m},Ae.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=Go.prototype).ma=8,Ae.G=1,Ae.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const l=new pi(this,this.j,r,void 0);let u=this.s;if(this.S&&(u?(u=lr(u),yn(u,this.S)):u=this.S),null!==this.o||this.N||(l.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=je(this,l,e),Ui(t=ji(this.F),"RID",r),Ui(t,"CVER",22),this.D&&Ui(t,"X-HTTP-Session-Id",this.D),X(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(Ir(u)))+"&"+e:this.o&&Fn(t,this.o,u)),Lr(this.h,l),this.Ya&&Ui(t,"TYPE","init"),this.O?(Ui(t,"$req",e),Ui(t,"SID","null"),l.Z=!0,eo(l,t,null)):eo(l,t,e),this.G=2}}else 3==this.G&&(r?Q(this,r):0==this.i.length||Ps(this.h)||Q(this))},Ae.Ia=function(){if(this.u=null,An(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=ns(gn(this.eb,this),r)}},Ae.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,xi(10),U(this),An(this))},Ae.cb=function(){null!=this.v&&(this.v=null,U(this),en(this),xi(19))},Ae.kb=function(r){r?(this.j.info("Successfully pinged google.com"),xi(2)):(this.j.info("Failed to ping google.com"),xi(1))},(Ae=Pi.prototype).xa=function(){},Ae.wa=function(){},Ae.va=function(){},Ae.ua=function(){},Ae.Ra=function(){},rr.prototype.g=function(r,e){return new Zi(r,e)},Me(Zi,ge),Zi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;xi(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=jr(r,null,r.V),m(r)},Zi.prototype.close=function(){ta(this.g)},Zi.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=at(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&m(e)},Zi.prototype.M=function(){this.g.l=null,delete this.j,ta(this.g),delete this.g,Zi.X.M.call(this)},Me(yi,Yt),Me(Gi,cn),Me(Gs,Pi),Gs.prototype.xa=function(){fe(this.g,"a")},Gs.prototype.wa=function(r){fe(this.g,new yi(r))},Gs.prototype.va=function(r){fe(this.g,new Gi)},Gs.prototype.ua=function(){fe(this.g,"b")},rr.prototype.createWebChannel=rr.prototype.g,Zi.prototype.send=Zi.prototype.u,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,yr.COMPLETE="complete",Xe.EventType=Ot,Ot.OPEN="a",Ot.CLOSE="b",Ot.ERROR="c",Ot.MESSAGE="d",ge.prototype.listen=ge.prototype.N,x.prototype.listenOnce=x.prototype.O,x.prototype.getLastError=x.prototype.Oa,x.prototype.getLastErrorCode=x.prototype.Ea,x.prototype.getStatus=x.prototype.aa,x.prototype.getResponseJson=x.prototype.Sa,x.prototype.getResponseText=x.prototype.fa,x.prototype.send=x.prototype.da,x.prototype.setWithCredentials=x.prototype.Ka;var xo=Ie.createWebChannelTransport=function(){return new rr},na=Ie.getStatEventTarget=function(){return _i()},ao=Ie.ErrorCode=Ri,ko=Ie.EventType=yr,Wo=Ie.Event=os,Pa=Ie.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},da=Ie.FetchXmlHttpFactory=Vr,la=Ie.WebChannel=Xe,ha=Ie.XhrIo=x;const ia="@firebase/firestore";class hs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hs.UNAUTHENTICATED=new hs(null),hs.GOOGLE_CREDENTIALS=new hs("google-credentials-uid"),hs.FIRST_PARTY=new hs("first-party-uid"),hs.MOCK_USER=new hs("mock-user");let So="9.19.0";const No=new Ne.Yd("@firebase/firestore");function fa(){return No.logLevel}function on(r,...e){if(No.logLevel<=Ne.in.DEBUG){const t=e.map(qo);No.debug(`Firestore (${So}): ${r}`,...t)}}function qr(r,...e){if(No.logLevel<=Ne.in.ERROR){const t=e.map(qo);No.error(`Firestore (${So}): ${r}`,...t)}}function Li(r,...e){if(No.logLevel<=Ne.in.WARN){const t=e.map(qo);No.warn(`Firestore (${So}): ${r}`,...t)}}function qo(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function rn(r="Unexpected state"){const e=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+r;throw qr(e),new Error(e)}function zn(r,e){r||rn()}function In(r,e){return r}const At={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Pe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class q{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class F{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class se{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hs.UNAUTHENTICATED))}shutdown(){}}class Le{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class It{constructor(e){this.t=e,this.currentUser=hs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const u=Y=>this.i!==l?(l=this.i,t(Y)):Promise.resolve();let _=new q;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new q,e.enqueueRetryable(()=>u(this.currentUser))};const M=()=>{const Y=_;e.enqueueRetryable((0,p.Z)(function*(){yield Y.promise,yield u(o.currentUser)}))},z=Y=>{on("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(Y=>z(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?z(Y):(on("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new q)}},0),M()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(on("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(zn("string"==typeof o.accessToken),new F(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zn(null===e||"string"==typeof e),new hs(e)}}class qt{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=hs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Hn{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new qt(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(hs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wi{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&on("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const _=u.token!==this.T;return this.T=u.token,on("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const l=u=>{on("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?l(u):on("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(zn("string"==typeof t.token),this.T=t.token,new Vi(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $i(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class Kr{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=$i(40);for(let u=0;u<l.length;++u)o.length<20&&l[u]<t&&(o+=e.charAt(l[u]%e.length))}return o}}function Rn(r,e){return r<e?-1:r>e?1:0}function Rr(r,e,t){return r.length===e.length&&r.every((o,l)=>t(o,e[l]))}class H{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new T(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new T(At.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new T(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(At.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return H.fromMillis(Date.now())}static fromDate(e){return H.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new H(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rn(this.nanoseconds,e.nanoseconds):Rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class v{constructor(e){this.timestamp=e}static fromTimestamp(e){return new v(e)}static min(){return new v(new H(0,0))}static max(){return new v(new H(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class b{constructor(e,t,o){void 0===t?t=0:t>e.length&&rn(),void 0===o?o=e.length-t:o>e.length-t&&rn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===b.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof b?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const u=e.get(l),_=t.get(l);if(u<_)return-1;if(u>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class P extends b{construct(e,t,o){return new P(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new T(At.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new P(t)}static emptyPath(){return new P([])}}const W=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ue extends b{construct(e,t,o){return new ue(e,t,o)}static isValidIdentifier(e){return W.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ue.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ue(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const u=()=>{if(0===o.length)throw new T(At.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let _=!1;for(;l<e.length;){const M=e[l];if("\\"===M){if(l+1===e.length)throw new T(At.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const z=e[l+1];if("\\"!==z&&"."!==z&&"`"!==z)throw new T(At.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=z,l+=2}else"`"===M?(_=!_,l++):"."!==M||_?(o+=M,l++):(u(),l++)}if(u(),_)throw new T(At.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ue(t)}static emptyPath(){return new ue([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(P.fromString(e))}static fromName(e){return new ye(P.fromString(e).popFirst(5))}static empty(){return new ye(P.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===P.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return P.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new P(e.slice()))}}function mi(r){return new Ei(r.readTime,r.key,-1)}class Ei{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Ei(v.min(),ye.empty(),-1)}static max(){return new Ei(v.max(),ye.empty(),-1)}}function Bi(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=ye.comparator(r.documentKey,e.documentKey),0!==t?t:Rn(r.largestBatchId,e.largestBatchId))}const is="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xr(r){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,p.Z)(function*(r){if(r.code!==At.FAILED_PRECONDITION||r.message!==is)throw r;on("LocalStore","Unexpectedly lost primary lease")}),Zr.apply(this,arguments)}class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mt((o,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,l)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof mt?t:mt.resolve(t)}catch(t){return mt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):mt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):mt.reject(t)}static resolve(e){return new mt((t,o)=>{t(e)})}static reject(e){return new mt((t,o)=>{o(e)})}static waitFor(e){return new mt((t,o)=>{let l=0,u=0,_=!1;e.forEach(M=>{++l,M.next(()=>{++u,_&&u===l&&t()},z=>o(z))}),_=!0,u===l&&t()})}static or(e){let t=mt.resolve(!1);for(const o of e)t=t.next(l=>l?mt.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,u)=>{o.push(t.call(this,l,u))}),this.waitFor(o)}static mapArray(e,t){return new mt((o,l)=>{const u=e.length,_=new Array(u);let M=0;for(let z=0;z<u;z++){const Y=z;t(e[Y]).next(pe=>{_[Y]=pe,++M,M===u&&o(_)},pe=>l(pe))}})}static doWhile(e,t){return new mt((o,l)=>{const u=()=>{!0===e()?t().next(()=>{u()},l):o()};u()})}}function Fo(r){return"IndexedDbTransactionError"===r.name}let jn=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>o.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Ni(r){return null==r}function rs(r){return 0===r&&1/r==-1/0}function w(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function C(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function y(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class O{constructor(e,t){this.comparator=e,this.root=t||J.EMPTY}insert(e,t){return new O(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,J.BLACK,null,null))}remove(e){return new O(this.comparator,this.root.remove(e,this.comparator).copy(null,null,J.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new j(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new j(this.root,e,this.comparator,!1)}getReverseIterator(){return new j(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new j(this.root,e,this.comparator,!0)}}class j{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class J{constructor(e,t,o,l,u){this.key=e,this.value=t,this.color=o??J.RED,this.left=l??J.EMPTY,this.right=u??J.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,u){return new J(e??this.key,t??this.value,o??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const u=o(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===u?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return J.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return J.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,J.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,J.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rn();const e=this.left.check();if(e!==this.right.check())throw rn();return e+(this.isRed()?0:1)}}J.EMPTY=null,J.RED=!0,J.BLACK=!1,J.EMPTY=new class{constructor(){this.size=0}get key(){throw rn()}get value(){throw rn()}get color(){throw rn()}get left(){throw rn()}get right(){throw rn()}copy(r,e,t,o,l){return this}insert(r,e,t){return new J(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oe{constructor(e){this.comparator=e,this.data=new O(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ye(this.data.getIterator())}getIteratorFrom(e){return new Ye(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof oe)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new oe(this.comparator);return t.data=e,t}}class Ye{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fn{constructor(e){this.fields=e,e.sort(ue.comparator)}static empty(){return new fn([])}unionWith(e){let t=new oe(ue.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rr(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Sn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Sn("Invalid base64 string: "+l):l}}(e);return new tr(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const Ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(r){if(zn(!!r),"string"==typeof r){let e=0;const t=Ks.exec(r);if(zn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:$r(r.seconds),nanos:$r(r.nanos)}}function $r(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Fs(r){return"string"==typeof r?tr.fromBase64String(r):tr.fromUint8Array(r)}function Qa(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ma(r){const e=r.mapValue.fields.__previous_value__;return Qa(e)?ma(e):e}function Da(r){const e=bo(r.mapValue.fields.__local_write_time__.timestampValue);return new H(e.seconds,e.nanos)}class L{constructor(e,t,o,l,u,_,M,z){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=u,this.forceLongPolling=_,this.autoDetectLongPolling=M,this.useFetchStreams=z}}class ${constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $&&e.projectId===this.projectId&&e.database===this.database}}const ne={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function it(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qa(r)?4:Ia(r)?9007199254740991:10:rn()}function vt(r,e){if(r===e)return!0;const t=it(r);if(t!==it(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Da(r).isEqual(Da(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=bo(o.timestampValue),_=bo(l.timestampValue);return u.seconds===_.seconds&&u.nanos===_.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return l=e,Fs(r.bytesValue).isEqual(Fs(l.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return $r(o.geoPointValue.latitude)===$r(l.geoPointValue.latitude)&&$r(o.geoPointValue.longitude)===$r(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return $r(o.integerValue)===$r(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=$r(o.doubleValue),_=$r(l.doubleValue);return u===_?rs(u)===rs(_):isNaN(u)&&isNaN(_)}return!1}(r,e);case 9:return Rr(r.arrayValue.values||[],e.arrayValue.values||[],vt);case 10:return function(o,l){const u=o.mapValue.fields||{},_=l.mapValue.fields||{};if(w(u)!==w(_))return!1;for(const M in u)if(u.hasOwnProperty(M)&&(void 0===_[M]||!vt(u[M],_[M])))return!1;return!0}(r,e);default:return rn()}var l}function tn(r,e){return void 0!==(r.values||[]).find(t=>vt(t,e))}function Ln(r,e){if(r===e)return 0;const t=it(r),o=it(e);if(t!==o)return Rn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Rn(r.booleanValue,e.booleanValue);case 2:return function(l,u){const _=$r(l.integerValue||l.doubleValue),M=$r(u.integerValue||u.doubleValue);return _<M?-1:_>M?1:_===M?0:isNaN(_)?isNaN(M)?0:-1:1}(r,e);case 3:return ei(r.timestampValue,e.timestampValue);case 4:return ei(Da(r),Da(e));case 5:return Rn(r.stringValue,e.stringValue);case 6:return function(l,u){const _=Fs(l),M=Fs(u);return _.compareTo(M)}(r.bytesValue,e.bytesValue);case 7:return function(l,u){const _=l.split("/"),M=u.split("/");for(let z=0;z<_.length&&z<M.length;z++){const Y=Rn(_[z],M[z]);if(0!==Y)return Y}return Rn(_.length,M.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,u){const _=Rn($r(l.latitude),$r(u.latitude));return 0!==_?_:Rn($r(l.longitude),$r(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(l,u){const _=l.values||[],M=u.values||[];for(let z=0;z<_.length&&z<M.length;++z){const Y=Ln(_[z],M[z]);if(Y)return Y}return Rn(_.length,M.length)}(r.arrayValue,e.arrayValue);case 10:return function(l,u){if(l===ne.mapValue&&u===ne.mapValue)return 0;if(l===ne.mapValue)return 1;if(u===ne.mapValue)return-1;const _=l.fields||{},M=Object.keys(_),z=u.fields||{},Y=Object.keys(z);M.sort(),Y.sort();for(let pe=0;pe<M.length&&pe<Y.length;++pe){const qe=Rn(M[pe],Y[pe]);if(0!==qe)return qe;const yt=Ln(_[M[pe]],z[Y[pe]]);if(0!==yt)return yt}return Rn(M.length,Y.length)}(r.mapValue,e.mapValue);default:throw rn()}}function ei(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Rn(r,e);const t=bo(r),o=bo(e),l=Rn(t.seconds,o.seconds);return 0!==l?l:Rn(t.nanos,o.nanos)}function hi(r){return nr(r)}function nr(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const l=bo(o);return`time(${l.seconds},${l.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Fs(r.bytesValue).toBase64():"referenceValue"in r?ye.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let l="[",u=!0;for(const _ of o.values||[])u?u=!1:l+=",",l+=nr(_);return l+"]"}(r.arrayValue):"mapValue"in r?function(o){const l=Object.keys(o.fields||{}).sort();let u="{",_=!0;for(const M of l)_?_=!1:u+=",",u+=`${M}:${nr(o.fields[M])}`;return u+"}"}(r.mapValue):rn();var e}function ai(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Eo(r){return!!r&&"integerValue"in r}function bs(r){return!!r&&"arrayValue"in r}function ul(r){return!!r&&"nullValue"in r}function Ua(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ta(r){return!!r&&"mapValue"in r}function Mo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return C(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Mo(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mo(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Ia(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Oo{constructor(e){this.value=e}static empty(){return new Oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ta(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(t)}setAll(e){let t=ue.emptyPath(),o={},l=[];e.forEach((_,M)=>{if(!t.isImmediateParentOf(M)){const z=this.getFieldsMap(t);this.applyChanges(z,o,l),o={},l=[],t=M.popLast()}_?o[M.lastSegment()]=Mo(_):l.push(M.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,l)}delete(e){const t=this.field(e.popLast());Ta(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];Ta(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){C(t,(l,u)=>e[l]=u);for(const l of o)delete e[l]}clone(){return new Oo(Mo(this.value))}}function dc(r){const e=[];return C(r.fields,(t,o)=>{const l=new ue([t]);if(Ta(o)){const u=dc(o.mapValue).fields;if(0===u.length)e.push(l);else for(const _ of u)e.push(l.child(_))}else e.push(l)}),new fn(e)}class xs{constructor(e,t,o,l,u,_,M){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=u,this.data=_,this.documentState=M}static newInvalidDocument(e){return new xs(e,0,v.min(),v.min(),v.min(),Oo.empty(),0)}static newFoundDocument(e,t,o,l){return new xs(e,1,t,v.min(),o,l,0)}static newNoDocument(e,t){return new xs(e,2,t,v.min(),v.min(),Oo.empty(),0)}static newUnknownDocument(e,t){return new xs(e,3,t,v.min(),v.min(),Oo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(v.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=v.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ha{constructor(e,t){this.position=e,this.inclusive=t}}function Ef(r,e,t){let o=0;for(let l=0;l<r.position.length;l++){const u=e[l],_=r.position[l];if(o=u.field.isKeyField()?ye.comparator(ye.fromName(_.referenceValue),t.key):Ln(_,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function $c(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!vt(r.position[t],e.position[t]))return!1;return!0}class Nl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hu(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Yd{}class br extends Yd{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Gc(e,t,o):"array-contains"===t?new Cf(e,o):"in"===t?new ih(e,o):"not-in"===t?new rh(e,o):"array-contains-any"===t?new sh(e,o):new br(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new th(e,o):new nh(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ln(t,this.value)):null!==t&&it(this.value)===it(t)&&this.matchesComparison(Ln(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sr extends Yd{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Sr(e,t)}matches(e){return hc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function hc(r){return"and"===r.op}function Xd(r){return function wf(r){for(const e of r.filters)if(e instanceof Sr)return!1;return!0}(r)&&hc(r)}function Jd(r){if(r instanceof br)return r.field.canonicalString()+r.op.toString()+hi(r.value);if(Xd(r))return r.filters.map(e=>Jd(e)).join(",");{const e=r.filters.map(t=>Jd(t)).join(",");return`${r.op}(${e})`}}function eh(r,e){return r instanceof br?(t=r,(o=e)instanceof br&&t.op===o.op&&t.field.isEqual(o.field)&&vt(t.value,o.value)):r instanceof Sr?function(t,o){return o instanceof Sr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,u,_)=>l&&eh(u,o.filters[_]),!0)}(r,e):void rn();var t,o}function zc(r){return r instanceof br?`${(e=r).field.canonicalString()} ${e.op} ${hi(e.value)}`:r instanceof Sr?function(e){return e.op.toString()+" {"+e.getFilters().map(zc).join(" ,")+"}"}(r):"Filter";var e}class Gc extends br{constructor(e,t,o){super(e,t,o),this.key=ye.fromName(o.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class th extends br{constructor(e,t){super(e,"in",t),this.keys=xa(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nh extends br{constructor(e,t){super(e,"not-in",t),this.keys=xa(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xa(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>ye.fromName(o.referenceValue))}class Cf extends br{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bs(t)&&tn(t.arrayValue,this.value)}}class ih extends br{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tn(this.value.arrayValue,t)}}class rh extends br{constructor(e,t){super(e,"not-in",t)}matches(e){if(tn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tn(this.value.arrayValue,t)}}class sh extends br{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>tn(this.value.arrayValue,o))}}class $u{constructor(e,t=null,o=[],l=[],u=null,_=null,M=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=u,this.startAt=_,this.endAt=M,this.ft=null}}function zu(r,e=null,t=[],o=[],l=null,u=null,_=null){return new $u(r,e,t,o,l,u,_)}function dl(r){const e=In(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Jd(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Ni(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>hi(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>hi(o)).join(",")),e.ft=t}return e.ft}function Fl(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Hu(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!eh(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$c(r.startAt,e.startAt)&&$c(r.endAt,e.endAt)}function fc(r){return ye.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class Na{constructor(e,t=null,o=[],l=[],u=null,_="F",M=null,z=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=u,this.limitType=_,this.startAt=M,this.endAt=z,this.dt=null,this.wt=null}}function hl(r){return new Na(r)}function Ho(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function ja(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Vl(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function fl(r){return null!==r.collectionGroup}function Xa(r){const e=In(r);if(null===e.dt){e.dt=[];const t=Vl(e),o=ja(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new Nl(t)),e.dt.push(new Nl(ue.keyField(),"asc"));else{let l=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(l=!0);if(!l){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Nl(ue.keyField(),u))}}}return e.dt}function Vo(r){const e=In(r);if(!e.wt)if("F"===e.limitType)e.wt=zu(e.path,e.collectionGroup,Xa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Xa(e))t.push(new Nl(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new Ha(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ha(e.startAt.position,e.startAt.inclusive):null;e.wt=zu(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e.wt}function Gu(r,e){e.getFirstInequalityField(),Vl(r);const t=r.filters.concat([e]);return new Na(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function pc(r,e,t){return new Na(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function mc(r,e){return Fl(Vo(r),Vo(e))&&r.limitType===e.limitType}function Wu(r){return`${dl(Vo(r))}|lt:${r.limitType}`}function qu(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>zc(o)).join(", ")}]`),Ni(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>hi(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>hi(o)).join(",")),`Target(${t})`}(Vo(r))}; limitType=${r.limitType})`}function Bl(r,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):ye.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(r,e)&&function(t,o){for(const l of Xa(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(r,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(l,u,_){const M=Ef(l,u,_);return l.inclusive?M<=0:M<0}(t.startAt,Xa(t),o)||t.endAt&&!function(l,u,_){const M=Ef(l,u,_);return l.inclusive?M>=0:M>0}(t.endAt,Xa(t),o)));var t,o}function Kc(r){return(e,t)=>{let o=!1;for(const l of Xa(r)){const u=ah(l,e,t);if(0!==u)return u;o=o||l.field.isKeyField()}return 0}}function ah(r,e,t){const o=r.field.isKeyField()?ye.comparator(e.key,t.key):function(l,u,_){const M=u.data.field(l),z=_.data.field(l);return null!==M&&null!==z?Ln(M,z):rn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return rn()}}class Xo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,u]of o)if(this.equalsFn(l,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){C(this.inner,(t,o)=>{for(const[l,u]of o)e(l,u)})}isEmpty(){return y(this.inner)}size(){return this.innerSize}}const lh=new O(ye.comparator);function ca(){return lh}const Ul=new O(ye.comparator);function pl(...r){let e=Ul;for(const t of r)e=e.insert(t.key,t);return e}function Ku(r){let e=Ul;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Jo(){return Hl()}function Zc(){return Hl()}function Hl(){return new Xo(r=>r.toString(),(r,e)=>r.isEqual(e))}const Df=new O(ye.comparator),ch=new oe(ye.comparator);function Yi(...r){let e=ch;for(const t of r)e=e.add(t);return e}const hm=new oe(Rn);function Zu(){return hm}function Tf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rs(e)?"-0":e}}function If(r){return{integerValue:""+r}}function xf(r,e){return function vs(r){return"number"==typeof r&&Number.isInteger(r)&&!rs(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?If(e):Tf(r,e)}class Yc{constructor(){this._=void 0}}function Yu(r,e,t){return r instanceof gc?function(o,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(u.fields.__previous_value__=l),{mapValue:u}}(t,e):r instanceof ml?uh(r,e):r instanceof gl?_l(r,e):function(o,l){const u=Qu(o,l),_=dh(u)+dh(o._t);return Eo(u)&&Eo(o._t)?If(_):Tf(o.serializer,_)}(r,e)}function Sf(r,e,t){return r instanceof ml?uh(r,e):r instanceof gl?_l(r,e):t}function Qu(r,e){return r instanceof jl?Eo(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class gc extends Yc{}class ml extends Yc{constructor(e){super(),this.elements=e}}function uh(r,e){const t=Af(e);for(const o of r.elements)t.some(l=>vt(l,o))||t.push(o);return{arrayValue:{values:t}}}class gl extends Yc{constructor(e){super(),this.elements=e}}function _l(r,e){let t=Af(e);for(const o of r.elements)t=t.filter(l=>!vt(l,o));return{arrayValue:{values:t}}}class jl extends Yc{constructor(e,t){super(),this.serializer=e,this._t=t}}function dh(r){return $r(r.integerValue||r.doubleValue)}function Af(r){return bs(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class fm{constructor(e,t){this.version=e,this.transformResults=t}}class Ss{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Xc{}function ed(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new $l(r.key,Ss.none()):new vl(r.key,r.data,Ss.none());{const t=r.data,o=Oo.empty();let l=new oe(ue.comparator);for(let u of e.fields)if(!l.has(u)){let _=t.field(u);null===_&&u.length>1&&(u=u.popLast(),_=t.field(u)),null===_?o.delete(u):o.set(u,_),l=l.add(u)}return new Fa(r.key,o,new fn(l.toArray()),Ss.none())}}function Mf(r,e,t){r instanceof vl?function(o,l,u){const _=o.value.clone(),M=_c(o.fieldTransforms,l,u.transformResults);_.setAll(M),l.convertToFoundDocument(u.version,_).setHasCommittedMutations()}(r,e,t):r instanceof Fa?function(o,l,u){if(!Qc(o.precondition,l))return void l.convertToUnknownDocument(u.version);const _=_c(o.fieldTransforms,l,u.transformResults),M=l.data;M.setAll(nd(o)),M.setAll(_),l.convertToFoundDocument(u.version,M).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yl(r,e,t,o){return r instanceof vl?function(l,u,_,M){if(!Qc(l.precondition,u))return _;const z=l.value.clone(),Y=Of(l.fieldTransforms,M,u);return z.setAll(Y),u.convertToFoundDocument(u.version,z).setHasLocalMutations(),null}(r,e,t,o):r instanceof Fa?function(l,u,_,M){if(!Qc(l.precondition,u))return _;const z=Of(l.fieldTransforms,M,u),Y=u.data;return Y.setAll(nd(l)),Y.setAll(z),u.convertToFoundDocument(u.version,Y).setHasLocalMutations(),null===_?null:_.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(pe=>pe.field))}(r,e,t,o):(_=t,Qc(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):_);var u,_}function td(r,e){let t=null;for(const o of r.fieldTransforms){const l=e.data.field(o.field),u=Qu(o.transform,l||null);null!=u&&(null===t&&(t=Oo.empty()),t.set(o.field,u))}return t||null}function hh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&Rr(t,o,(l,u)=>function Ju(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof ml&&o instanceof ml||t instanceof gl&&o instanceof gl?Rr(t.elements,o.elements,vt):t instanceof jl&&o instanceof jl?vt(t._t,o._t):t instanceof gc&&o instanceof gc);var t,o}(l,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class vl extends Xc{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Fa extends Xc{constructor(e,t,o,l,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nd(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function _c(r,e,t){const o=new Map;zn(r.length===t.length);for(let l=0;l<t.length;l++){const u=r[l],_=u.transform,M=e.data.field(u.field);o.set(u.field,Sf(_,M,t[l]))}return o}function Of(r,e,t){const o=new Map;for(const l of r){const u=l.transform,_=t.data.field(l.field);o.set(l.field,Yu(u,_,e))}return o}class $l extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fh extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ph{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Mf(u,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=yl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=yl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Zc();return this.mutations.forEach(l=>{const u=e.get(l.key),_=u.overlayedDocument;let M=this.applyToLocalView(_,u.mutatedFields);M=t.has(l.key)?null:M;const z=ed(_,M);null!==z&&o.set(l.key,z),_.isValidDocument()||_.convertToNoDocument(v.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yi())}isEqual(e){return this.batchId===e.batchId&&Rr(this.mutations,e.mutations,(t,o)=>hh(t,o))&&Rr(this.baseMutations,e.baseMutations,(t,o)=>hh(t,o))}}class mh{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){zn(e.mutations.length===o.length);let l=Df;const u=e.mutations;for(let _=0;_<u.length;_++)l=l.insert(u[_].key,o[_].version);return new mh(e,t,o,l)}}class Jc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vc{constructor(e){this.count=e}}var wo,Pr;function Pf(r){if(void 0===r)return qr("GRPC error has no .code"),At.UNKNOWN;switch(r){case wo.OK:return At.OK;case wo.CANCELLED:return At.CANCELLED;case wo.UNKNOWN:return At.UNKNOWN;case wo.DEADLINE_EXCEEDED:return At.DEADLINE_EXCEEDED;case wo.RESOURCE_EXHAUSTED:return At.RESOURCE_EXHAUSTED;case wo.INTERNAL:return At.INTERNAL;case wo.UNAVAILABLE:return At.UNAVAILABLE;case wo.UNAUTHENTICATED:return At.UNAUTHENTICATED;case wo.INVALID_ARGUMENT:return At.INVALID_ARGUMENT;case wo.NOT_FOUND:return At.NOT_FOUND;case wo.ALREADY_EXISTS:return At.ALREADY_EXISTS;case wo.PERMISSION_DENIED:return At.PERMISSION_DENIED;case wo.FAILED_PRECONDITION:return At.FAILED_PRECONDITION;case wo.ABORTED:return At.ABORTED;case wo.OUT_OF_RANGE:return At.OUT_OF_RANGE;case wo.UNIMPLEMENTED:return At.UNIMPLEMENTED;case wo.DATA_LOSS:return At.DATA_LOSS;default:return rn()}}(Pr=wo||(wo={}))[Pr.OK=0]="OK",Pr[Pr.CANCELLED=1]="CANCELLED",Pr[Pr.UNKNOWN=2]="UNKNOWN",Pr[Pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pr[Pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pr[Pr.NOT_FOUND=5]="NOT_FOUND",Pr[Pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pr[Pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pr[Pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pr[Pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pr[Pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pr[Pr.ABORTED=10]="ABORTED",Pr[Pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pr[Pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pr[Pr.INTERNAL=13]="INTERNAL",Pr[Pr.UNAVAILABLE=14]="UNAVAILABLE",Pr[Pr.DATA_LOSS=15]="DATA_LOSS";class eu{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return id}static getOrCreateInstance(){return null===id&&(id=new eu),id}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let id=null;class bc{constructor(e,t,o,l,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new bc(v.min(),l,Zu(),ca(),Yi())}}class bl{constructor(e,t,o,l,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new bl(o,t,Yi(),Yi(),Yi())}}class Ec{constructor(e,t,o,l){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=l}}class _h{constructor(e,t){this.targetId=e,this.Et=t}}class I{constructor(e,t,o=tr.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class d{constructor(){this.At=0,this.Rt=ee(),this.vt=tr.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Yi(),t=Yi(),o=Yi();return this.Rt.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:rn()}}),new bl(this.vt,this.bt,e,t,o)}xt(){this.Pt=!1,this.Rt=ee()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class g{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=ca(),this.qt=R(),this.Ut=new oe(Rn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const o=this.jt(t);switch(e.state){case 0:this.Wt(t)&&o.Dt(e.resumeToken);break;case 1:o.$t(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.$t(),o.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(o.Mt(),o.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:rn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,l)=>{this.Wt(l)&&t(l)})}Jt(e){var t;const o=e.targetId,l=e.Et.count,u=this.Yt(o);if(u){const _=u.target;if(fc(_))if(0===l){const M=new ye(_.path);this.Qt(o,M,xs.newNoDocument(M,v.min()))}else zn(1===l);else{const M=this.Zt(o);M!==l&&(this.Ht(o),this.Ut=this.Ut.add(o),null===(t=eu.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:M,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((u,_)=>{const M=this.Yt(_);if(M){if(u.current&&fc(M.target)){const z=new ye(M.target.path);null!==this.Lt.get(z)||this.te(_,z)||this.Qt(_,z,xs.newNoDocument(z,e))}u.St&&(t.set(_,u.Ct()),u.xt())}});let o=Yi();this.qt.forEach((u,_)=>{let M=!0;_.forEachWhile(z=>{const Y=this.Yt(z);return!Y||2===Y.purpose||(M=!1,!1)}),M&&(o=o.add(u))}),this.Lt.forEach((u,_)=>_.setReadTime(e));const l=new bc(e,t,this.Ut,this.Lt,o);return this.Lt=ca(),this.qt=R(),this.Ut=new oe(Rn),l}Gt(e,t){if(!this.Wt(e))return;const o=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.Wt(e))return;const l=this.jt(e);this.te(e,t)?l.Nt(t,1):l.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new d,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new oe(Rn),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||on("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new d),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function R(){return new O(ye.comparator)}function ee(){return new O(ye.comparator)}const Ee={asc:"ASCENDING",desc:"DESCENDING"},Et={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sn={and:"AND",or:"OR"};class Nn{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kn(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qi(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function As(r,e){return Kn(r,e.toTimestamp())}function Qr(r){return zn(!!r),v.fromTimestamp(function(e){const t=bo(e);return new H(t.seconds,t.nanos)}(r))}function La(r,e){return(t=r,new P(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wc(r){const e=P.fromString(r);return zn(od(e)),e}function zl(r,e){return La(r.databaseId,e.path)}function ua(r,e){const t=wc(e);if(t.get(1)!==r.databaseId.projectId)throw new T(At.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new T(At.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ye(sd(t))}function tu(r,e){return La(r.databaseId,e)}function El(r){return new P(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sd(r){return zn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Gl(r,e,t){return{name:zl(r,e),fields:t.value.mapValue.fields}}function i_(r,e){return{documents:[tu(r,e.path)]}}function mm(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=tu(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tu(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(z){if(0!==z.length)return _m(Sr.create(z,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(z){if(0!==z.length)return z.map(Y=>{return{field:ql((pe=Y).field),direction:Ky(pe.dir)};var pe})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const _=(Y=e.limit,r.useProto3Json||Ni(Y)?Y:{value:Y});var Y,M,z;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(t.structuredQuery.endAt={before:!(z=e.endAt).inclusive,values:z.position}),t}function vh(r){let e=function rd(r){const e=wc(r);return 4===e.length?P.emptyPath():sd(e)}(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){zn(1===o);const pe=t.from[0];pe.allDescendants?l=pe.collectionId:e=e.child(pe.collectionId)}let u=[];t.where&&(u=function(pe){const qe=r_(pe);return qe instanceof Sr&&Xd(qe)?qe.getFilters():[qe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(pe=>{return new Nl(iu((qe=pe).field),function(yt){switch(yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qe.direction));var qe}));let M=null;t.limit&&(M=function(pe){let qe;return qe="object"==typeof pe?pe.value:pe,Ni(qe)?null:qe}(t.limit));let z=null;var pe;t.startAt&&(z=new Ha((pe=t.startAt).values||[],!!pe.before));let Y=null;return t.endAt&&(Y=function(pe){return new Ha(pe.values||[],!pe.before)}(t.endAt)),function Wc(r,e,t,o,l,u,_,M){return new Na(r,e,t,o,l,u,_,M)}(e,l,_,u,M,"F",z,Y)}function r_(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=iu(e.unaryFilter.field);return br.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=iu(e.unaryFilter.field);return br.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=iu(e.unaryFilter.field);return br.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=iu(e.unaryFilter.field);return br.create(u,"!=",{nullValue:"NULL_VALUE"});default:return rn()}}(r):void 0!==r.fieldFilter?br.create(iu((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Sr.create(e.compositeFilter.filters.map(t=>r_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rn()}}(e.compositeFilter.op))}(r):rn();var e}function Ky(r){return Ee[r]}function gm(r){return Et[r]}function s_(r){return sn[r]}function ql(r){return{fieldPath:r.canonicalString()}}function iu(r){return ue.fromServerFormat(r.fieldPath)}function _m(r){return r instanceof br?function(e){if("=="===e.op){if(Ua(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NAN"}};if(ul(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ua(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NOT_NAN"}};if(ul(e.value))return{unaryFilter:{field:ql(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(e.field),op:gm(e.op),value:e.value}}}(r):r instanceof Sr?function(e){const t=e.getFilters().map(o=>_m(o));return 1===t.length?t[0]:{compositeFilter:{op:s_(e.op),filters:t}}}(r):rn()}function ym(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function od(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class wl{constructor(e,t,o,l,u=v.min(),_=v.min(),M=tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=M}withSequenceNumber(e){return new wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bh{constructor(e){this.se=e}}function Nf(r){const e=vh({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?pc(e,e.limit,"L"):e}class Zl{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he($r(e.integerValue));else if("doubleValue"in e){const o=$r(e.doubleValue);isNaN(o)?this.ae(t,13):(this.ae(t,15),rs(o)?t.he(0):t.he(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ae(t,20),"string"==typeof o?t.le(o):(t.le(`${o.seconds||""}`),t.he(o.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Fs(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ae(t,45),t.he(o.latitude||0),t.he(o.longitude||0)}else"mapValue"in e?Ia(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):rn()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const o=e.fields||{};this.ae(t,55);for(const l of Object.keys(o))this.fe(l,t),this.ue(o[l],t)}ge(e,t){const o=e.values||[];this.ae(t,50);for(const l of o)this.ue(l,t)}_e(e,t){this.ae(t,37),ye.fromName(e).path.forEach(o=>{this.ae(t,60),this.ye(o,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}Zl.pe=new Zl;class Dm{constructor(){this.He=new pd}addToCollectionParentIndex(e,t){return this.He.add(t),mt.resolve()}getCollectionParents(e,t){return mt.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return mt.resolve()}deleteFieldIndex(e,t){return mt.resolve()}getDocumentsMatchingTarget(e,t){return mt.resolve(null)}getIndexType(e,t){return mt.resolve(0)}getFieldIndexes(e,t){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,t){return mt.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,t){return mt.resolve(Ei.min())}updateCollectionGroup(e,t,o){return mt.resolve()}updateIndexEntries(e,t){return mt.resolve()}}class pd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new oe(P.comparator),u=!l.has(o);return this.index[t]=l.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new oe(P.comparator)).toArray()}}new Uint8Array(0);class _a{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new _a(e,_a.DEFAULT_COLLECTION_PERCENTILE,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_a.DEFAULT_COLLECTION_PERCENTILE=10,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_a.DEFAULT=new _a(41943040,_a.DEFAULT_COLLECTION_PERCENTILE,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_a.DISABLED=new _a(-1,0,0);class Va{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Va(0)}static bn(){return new Va(-1)}}class h_{constructor(){this.changes=new Xo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?mt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class p_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ic{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&yl(o.mutation,l,fn.empty(),H.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Yi()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Yi()){const l=Jo();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(u=>{let _=pl();return u.forEach((M,z)=>{_=_.insert(M,z.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const o=Jo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Yi()))}populateOverlays(e,t,o){const l=[];return o.forEach(u=>{t.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((_,M)=>{t.set(_,M)})})}computeViews(e,t,o,l){let u=ca();const _=Hl(),M=Hl();return t.forEach((z,Y)=>{const pe=o.get(Y.key);l.has(Y.key)&&(void 0===pe||pe.mutation instanceof Fa)?u=u.insert(Y.key,Y):void 0!==pe?(_.set(Y.key,pe.mutation.getFieldMask()),yl(pe.mutation,Y,pe.mutation.getFieldMask(),H.now())):_.set(Y.key,fn.empty())}),this.recalculateAndSaveOverlays(e,u).next(z=>(z.forEach((Y,pe)=>_.set(Y,pe)),t.forEach((Y,pe)=>{var qe;return M.set(Y,new p_(pe,null!==(qe=_.get(Y))&&void 0!==qe?qe:null))}),M))}recalculateAndSaveOverlays(e,t){const o=Hl();let l=new O((_,M)=>_-M),u=Yi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const M of _)M.keys().forEach(z=>{const Y=t.get(z);if(null===Y)return;let pe=o.get(z)||fn.empty();pe=M.applyToLocalView(Y,pe),o.set(z,pe);const qe=(l.get(M.batchId)||Yi()).add(z);l=l.insert(M.batchId,qe)})}).next(()=>{const _=[],M=l.getReverseIterator();for(;M.hasNext();){const z=M.getNext(),Y=z.key,pe=z.value,qe=Zc();pe.forEach(yt=>{if(!u.has(yt)){const Gt=ed(t.get(yt),o.get(yt));null!==Gt&&qe.set(yt,Gt),u=u.add(yt)}}),_.push(this.documentOverlayCache.saveOverlays(e,Y,qe))}return mt.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return ye.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):fl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(u=>{const _=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-u.size):mt.resolve(Jo());let M=-1,z=u;return _.next(Y=>mt.forEach(Y,(pe,qe)=>(M<qe.largestBatchId&&(M=qe.largestBatchId),u.get(pe)?mt.resolve():this.remoteDocumentCache.getEntry(e,pe).next(yt=>{z=z.insert(pe,yt)}))).next(()=>this.populateOverlays(e,Y,u)).next(()=>this.computeViews(e,z,Y,Yi())).next(pe=>({batchId:M,changes:Ku(pe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(o=>{let l=pl();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let u=pl();return this.indexManager.getCollectionParents(e,l).next(_=>mt.forEach(_,M=>{const z=(Y=t,pe=M.child(l),new Na(pe,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,pe;return this.getDocumentsMatchingCollectionQuery(e,z,o).next(Y=>{Y.forEach((pe,qe)=>{u=u.insert(pe,qe)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(u=>{l.forEach((M,z)=>{const Y=z.getKey();null===u.get(Y)&&(u=u.insert(Y,xs.newInvalidDocument(Y)))});let _=pl();return u.forEach((M,z)=>{const Y=l.get(M);void 0!==Y&&yl(Y.mutation,z,fn.empty(),H.now()),Bl(t,z)&&(_=_.insert(M,z))}),_})}}class Tl{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return mt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Qr(o.createTime)}),mt.resolve()}getNamedQuery(e,t){return mt.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(o=t).name,query:Nf(o.bundledQuery),readTime:Qr(o.readTime)}),mt.resolve();var o}}class m_{constructor(){this.overlays=new O(ye.comparator),this.ts=new Map}getOverlay(e,t){return mt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Jo();return mt.forEach(t,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,u)=>{this.re(e,t,u)}),mt.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.ts.get(o);return void 0!==l&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.ts.delete(o)),mt.resolve()}getOverlaysForCollection(e,t,o){const l=Jo(),u=t.length+1,_=new ye(t.child("")),M=this.overlays.getIteratorFrom(_);for(;M.hasNext();){const z=M.getNext().value,Y=z.getKey();if(!t.isPrefixOf(Y.path))break;Y.path.length===u&&z.largestBatchId>o&&l.set(z.getKey(),z)}return mt.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let u=new O((Y,pe)=>Y-pe);const _=this.overlays.getIterator();for(;_.hasNext();){const Y=_.getNext().value;if(Y.getKey().getCollectionGroup()===t&&Y.largestBatchId>o){let pe=u.get(Y.largestBatchId);null===pe&&(pe=Jo(),u=u.insert(Y.largestBatchId,pe)),pe.set(Y.getKey(),Y)}}const M=Jo(),z=u.getIterator();for(;z.hasNext()&&(z.getNext().value.forEach((Y,pe)=>M.set(Y,pe)),!(M.size()>=l)););return mt.resolve(M)}re(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const _=this.ts.get(l.largestBatchId).delete(o.key);this.ts.set(l.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new Jc(t,o));let u=this.ts.get(t);void 0===u&&(u=Yi(),this.ts.set(t,u)),this.ts.set(t,u.add(o.key))}}class Kf{constructor(){this.es=new oe(ea.ns),this.ss=new oe(ea.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const o=new ea(e,t);this.es=this.es.add(o),this.ss=this.ss.add(o)}os(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.us(new ea(e,t))}cs(e,t){e.forEach(o=>this.removeReference(o,t))}hs(e){const t=new ye(new P([])),o=new ea(t,e),l=new ea(t,e+1),u=[];return this.ss.forEachInRange([o,l],_=>{this.us(_),u.push(_.key)}),u}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new ye(new P([])),o=new ea(t,e),l=new ea(t,e+1);let u=Yi();return this.ss.forEachInRange([o,l],_=>{u=u.add(_.key)}),u}containsKey(e){const t=new ea(e,0),o=this.es.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ea{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return ye.comparator(e.key,t.key)||Rn(e.ds,t.ds)}static rs(e,t){return Rn(e.ds,t.ds)||ye.comparator(e.key,t.key)}}class Yy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new oe(ea.ns)}checkEmpty(e){return mt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const u=this.ws;this.ws++;const _=new ph(u,t,o,l);this.mutationQueue.push(_);for(const M of l)this._s=this._s.add(new ea(M.key,u)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return mt.resolve(_)}lookupMutationBatch(e,t){return mt.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ys(t+1),u=l<0?0:l;return mt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ea(t,0),l=new ea(t,Number.POSITIVE_INFINITY),u=[];return this._s.forEachInRange([o,l],_=>{const M=this.gs(_.ds);u.push(M)}),mt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new oe(Rn);return t.forEach(l=>{const u=new ea(l,0),_=new ea(l,Number.POSITIVE_INFINITY);this._s.forEachInRange([u,_],M=>{o=o.add(M.ds)})}),mt.resolve(this.ps(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let u=o;ye.isDocumentKey(u)||(u=u.child(""));const _=new ea(new ye(u),0);let M=new oe(Rn);return this._s.forEachWhile(z=>{const Y=z.key.path;return!!o.isPrefixOf(Y)&&(Y.length===l&&(M=M.add(z.ds)),!0)},_),mt.resolve(this.ps(M))}ps(e){const t=[];return e.forEach(o=>{const l=this.gs(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){zn(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let o=this._s;return mt.forEach(t.mutations,l=>{const u=new ea(l.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this._s=o})}En(e){}containsKey(e,t){const o=new ea(t,0),l=this._s.firstAfterOrEqual(o);return mt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return mt.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rm{constructor(e){this.Ts=e,this.docs=new O(ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),u=l?l.size:0,_=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:_}),this.size+=_-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return mt.resolve(o?o.document.mutableCopy():xs.newInvalidDocument(t))}getEntries(e,t){let o=ca();return t.forEach(l=>{const u=this.docs.get(l);o=o.insert(l,u?u.document.mutableCopy():xs.newInvalidDocument(l))}),mt.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let u=ca();const _=t.path,M=new ye(_.child("")),z=this.docs.getIteratorFrom(M);for(;z.hasNext();){const{key:Y,value:{document:pe}}=z.getNext();if(!_.isPrefixOf(Y.path))break;Y.path.length>_.length+1||Bi(mi(pe),o)<=0||(l.has(pe.key)||Bl(t,pe))&&(u=u.insert(pe.key,pe.mutableCopy()))}return mt.resolve(u)}getAllFromCollectionGroup(e,t,o,l){rn()}Es(e,t){return mt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Qy(this)}getSize(e){return mt.resolve(this.size)}}class Qy extends h_{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Jn.addEntry(e,l)):this.Jn.removeEntry(o)}),mt.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class Pm{constructor(e){this.persistence=e,this.As=new Xo(t=>dl(t),Fl),this.lastRemoteSnapshotVersion=v.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Kf,this.targetCount=0,this.bs=Va.vn()}forEachTarget(e,t){return this.As.forEach((o,l)=>t(l)),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Rs&&(this.Rs=t),mt.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Va(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,mt.resolve()}updateTargetData(e,t){return this.Sn(t),mt.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,t,o){let l=0;const u=[];return this.As.forEach((_,M)=>{M.sequenceNumber<=t&&null===o.get(M.targetId)&&(this.As.delete(_),u.push(this.removeMatchingKeysForTargetId(e,M.targetId)),l++)}),mt.waitFor(u).next(()=>l)}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,t){const o=this.As.get(t)||null;return mt.resolve(o)}addMatchingKeys(e,t,o){return this.vs.os(t,o),mt.resolve()}removeMatchingKeys(e,t,o){this.vs.cs(t,o);const l=this.persistence.referenceDelegate,u=[];return l&&t.forEach(_=>{u.push(l.markPotentiallyOrphaned(e,_))}),mt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),mt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.vs.fs(t);return mt.resolve(o)}containsKey(e,t){return mt.resolve(this.vs.containsKey(t))}}class Zf{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new jn(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new Pm(this),this.indexManager=new Dm,this.remoteDocumentCache=new Rm(o=>this.referenceDelegate.Cs(o)),this.serializer=new bh(t),this.xs=new Tl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ps[e.toKey()];return o||(o=new Yy(t,this.referenceDelegate),this.Ps[e.toKey()]=o),o}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,o){on("MemoryPersistence","Starting transaction:",e);const l=new g_(this.Vs.next());return this.referenceDelegate.Ns(),o(l).next(u=>this.referenceDelegate.ks(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Os(e,t){return mt.or(Object.values(this.Ps).map(o=>()=>o.containsKey(e,t)))}}class g_ extends fs{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.$s=new Kf,this.Ms=null}static Fs(e){return new vd(e)}get Bs(){if(this.Ms)return this.Ms;throw rn()}addReference(e,t,o){return this.$s.addReference(o,t),this.Bs.delete(o.toString()),mt.resolve()}removeReference(e,t,o){return this.$s.removeReference(o,t),this.Bs.add(o.toString()),mt.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),mt.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(l=>this.Bs.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(u=>this.Bs.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.Bs,o=>{const l=ye.fromPath(o);return this.Ls(e,l).next(u=>{u||t.removeEntry(l,v.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(o=>{o?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return mt.or([()=>mt.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Xf{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Vi=o,this.Si=l}static Di(e,t){let o=Yi(),l=Yi();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Xf(e,t.fromCache,o,l)}}class Nm{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,o,l){return this.Ni(e,t).next(u=>u||this.ki(e,t,l,o)).next(u=>u||this.Oi(e,t))}Ni(e,t){if(Ho(t))return mt.resolve(null);let o=Vo(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=pc(t,null,"F"),o=Vo(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const _=Yi(...u);return this.xi.getDocuments(e,_).next(M=>this.indexManager.getMinOffset(e,o).next(z=>{const Y=this.$i(t,M);return this.Mi(t,Y,_,z.readTime)?this.Ni(e,pc(t,null,"F")):this.Fi(e,Y,t,z)}))})))}ki(e,t,o,l){return Ho(t)||l.isEqual(v.min())?this.Oi(e,t):this.xi.getDocuments(e,o).next(u=>{const _=this.$i(t,u);return this.Mi(t,_,o,l)?this.Oi(e,t):(fa()<=Ne.in.DEBUG&&on("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qu(t)),this.Fi(e,_,t,function ri(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,l=v.fromTimestamp(1e9===o?new H(t+1,0):new H(t,o));return new Ei(l,ye.empty(),e)}(l,-1)))})}$i(e,t){let o=new oe(Kc(e));return t.forEach((l,u)=>{Bl(e,u)&&(o=o.add(u))}),o}Mi(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Oi(e,t){return fa()<=Ne.in.DEBUG&&on("QueryEngine","Using full collection scan to execute query:",qu(t)),this.xi.getDocumentsMatchingQuery(e,t,Ei.min())}Fi(e,t,o,l){return this.xi.getDocumentsMatchingQuery(e,o,l).next(u=>(t.forEach(_=>{u=u.insert(_.key,_)}),u))}}class Fm{constructor(e,t,o,l){this.persistence=e,this.Bi=t,this.serializer=l,this.Li=new O(Rn),this.qi=new Xo(u=>dl(u),Fl),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(o)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ic(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function Vm(r,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,p.Z)(function*(r,e){const t=In(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(u=>(l=u,t.Gi(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const _=[],M=[];let z=Yi();for(const Y of l){_.push(Y.batchId);for(const pe of Y.mutations)z=z.add(pe.key)}for(const Y of u){M.push(Y.batchId);for(const pe of Y.mutations)z=z.add(pe.key)}return t.localDocuments.getDocuments(o,z).next(Y=>({Qi:Y,removedBatchIds:_,addedBatchIds:M}))})})}),Jf.apply(this,arguments)}function ep(r){const e=In(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function y_(r,e){const t=In(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function xc(r,e,t){return np.apply(this,arguments)}function np(){return np=(0,p.Z)(function*(r,e,t){const o=In(r),l=o.Li.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,_=>o.persistence.referenceDelegate.removeTarget(_,l)))}catch(_){if(!Fo(_))throw _;on("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.Li=o.Li.remove(e),o.qi.delete(l.target)}),np.apply(this,arguments)}function bd(r,e,t){const o=In(r);let l=v.min(),u=Yi();return o.persistence.runTransaction("Execute query","readonly",_=>function(M,z,Y){const pe=In(M),qe=pe.qi.get(Y);return void 0!==qe?mt.resolve(pe.Li.get(qe)):pe.Ds.getTargetData(z,Y)}(o,_,Vo(e)).next(M=>{if(M)return l=M.lastLimboFreeSnapshotVersion,o.Ds.getMatchingKeysForTargetId(_,M.targetId).next(z=>{u=z})}).next(()=>o.Bi.getDocumentsMatchingQuery(_,e,t?l:v.min(),t?u:Yi())).next(M=>(function v_(r,e,t){let o=r.Ui.get(e)||v.min();t.forEach((l,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Ui.set(e,o)}(o,function qc(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),M),{documents:M,Wi:u})))}class Ph{constructor(){this.activeTargetIds=Zu()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zm{constructor(){this.Br=new Ph,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,o){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Ph,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class du{qr(e){}shutdown(){}}class Gm{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){on("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){on("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ed=null;function hu(){return null===Ed?Ed=268435456+Math.round(2147483648*Math.random()):Ed++,"0x"+Ed.toString(16)}const b_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wm{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const oa="WebChannelConnection";class E_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,o,l,u){const _=hu(),M=this.ao(e,t);on("RestConnection",`Sending RPC '${e}' ${_}:`,M,o);const z={};return this.ho(z,l,u),this.lo(e,M,z,o).then(Y=>(on("RestConnection",`Received RPC '${e}' ${_}: `,Y),Y),Y=>{throw Li("RestConnection",`RPC '${e}' ${_} failed with error: `,Y,"url: ",M,"request:",o),Y})}fo(e,t,o,l,u,_){return this.co(e,t,o,l,u)}ho(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+So,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,u)=>e[u]=l),o&&o.headers.forEach((l,u)=>e[u]=l)}ao(e,t){return`${this.ro}/v1/${t}:${b_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,o,l){const u=hu();return new Promise((_,M)=>{const z=new ha;z.setWithCredentials(!0),z.listenOnce(ko.COMPLETE,()=>{try{switch(z.getLastErrorCode()){case ao.NO_ERROR:const pe=z.getResponseJson();on(oa,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(pe)),_(pe);break;case ao.TIMEOUT:on(oa,`RPC '${e}' ${u} timed out`),M(new T(At.DEADLINE_EXCEEDED,"Request time out"));break;case ao.HTTP_ERROR:const qe=z.getStatus();if(on(oa,`RPC '${e}' ${u} failed with status:`,qe,"response text:",z.getResponseText()),qe>0){let yt=z.getResponseJson();Array.isArray(yt)&&(yt=yt[0]);const Gt=yt?.error;if(Gt&&Gt.status&&Gt.message){const vn=function($n){const li=$n.toLowerCase().replace(/_/g,"-");return Object.values(At).indexOf(li)>=0?li:At.UNKNOWN}(Gt.status);M(new T(vn,Gt.message))}else M(new T(At.UNKNOWN,"Server responded with status "+z.getStatus()))}else M(new T(At.UNAVAILABLE,"Connection failed."));break;default:rn()}}finally{on(oa,`RPC '${e}' ${u} completed.`)}});const Y=JSON.stringify(l);on(oa,`RPC '${e}' ${u} sending request:`,l),z.send(t,"POST",Y,o,15)})}wo(e,t,o){const l=hu(),u=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=xo(),M=na(),z={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(z.xmlHttpFactory=new da({})),this.ho(z.initMessageHeaders,t,o),z.encodeInitMessageHeaders=!0;const Y=u.join("");on(oa,`Creating RPC '${e}' stream ${l}: ${Y}`,z);const pe=_.createWebChannel(Y,z);let qe=!1,yt=!1;const Gt=new Wm({Wr:$n=>{yt?on(oa,`Not sending because RPC '${e}' stream ${l} is closed:`,$n):(qe||(on(oa,`Opening RPC '${e}' stream ${l} transport.`),pe.open(),qe=!0),on(oa,`RPC '${e}' stream ${l} sending:`,$n),pe.send($n))},Hr:()=>pe.close()}),vn=($n,li,Xr)=>{$n.listen(li,Zs=>{try{Xr(Zs)}catch(Nr){setTimeout(()=>{throw Nr},0)}})};return vn(pe,la.EventType.OPEN,()=>{yt||on(oa,`RPC '${e}' stream ${l} transport opened.`)}),vn(pe,la.EventType.CLOSE,()=>{yt||(yt=!0,on(oa,`RPC '${e}' stream ${l} transport closed`),Gt.so())}),vn(pe,la.EventType.ERROR,$n=>{yt||(yt=!0,Li(oa,`RPC '${e}' stream ${l} transport errored:`,$n),Gt.so(new T(At.UNAVAILABLE,"The operation could not be completed")))}),vn(pe,la.EventType.MESSAGE,$n=>{var li;if(!yt){const Xr=$n.data[0];zn(!!Xr);const Nr=Xr.error||(null===(li=Xr[0])||void 0===li?void 0:li.error);if(Nr){on(oa,`RPC '${e}' stream ${l} received error:`,Nr);const zo=Nr.status;let Co=function(Oa){const oc=wo[Oa];if(void 0!==oc)return Pf(oc)}(zo),Ys=Nr.message;void 0===Co&&(Co=At.INTERNAL,Ys="Unknown error status: "+zo+" with message "+Nr.message),yt=!0,Gt.so(new T(Co,Ys)),pe.close()}else on(oa,`RPC '${e}' stream ${l} received:`,Xr),Gt.io(Xr)}}),vn(M,Wo.STAT_EVENT,$n=>{$n.stat===Pa.PROXY?on(oa,`RPC '${e}' stream ${l} detected buffering proxy`):$n.stat===Pa.NOPROXY&&on(oa,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Gt.no()},0),Gt}}function kh(){return typeof document<"u"?document:null}function wd(r){return new Nn(r,!0)}class Nh{constructor(e,t,o=1e3,l=1.5,u=6e4){this.Ws=e,this.timerId=t,this._o=o,this.mo=l,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),l=Math.max(0,t-o);l>0&&on("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,l,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Km{constructor(e,t,o,l,u,_,M,z){this.Ws=e,this.bo=o,this.Po=l,this.connection=u,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=M,this.listener=z,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Nh(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,p.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,p.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var o=this;return(0,p.Z)(function*(){o.Bo(),o.Lo(),o.Co.cancel(),o.Vo++,4!==e?o.Co.reset():t&&t.code===At.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),o.Co.Eo()):t&&t.code===At.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Vo===t&&this.Ko(o,l)},o=>{e(()=>{const l=new T(At.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Go(l)})})}Ko(e,t){const o=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{o(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(l=>{o(()=>this.Go(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}ko(){var e=this;this.state=5,this.Co.Ao((0,p.Z)(function*(){e.state=0,e.start()}))}Go(e){return on("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(on("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zm extends Km{constructor(e,t,o,l,u,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,_),this.serializer=u}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function yh(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:rn(),l=e.targetChange.targetIds||[],u=function(z,Y){return z.useProto3Json?(zn(void 0===Y||"string"==typeof Y),tr.fromBase64String(Y||"")):(zn(void 0===Y||Y instanceof Uint8Array),tr.fromUint8Array(Y||new Uint8Array))}(r,e.targetChange.resumeToken),_=e.targetChange.cause,M=_&&function(z){const Y=void 0===z.code?At.UNKNOWN:Pf(z.code);return new T(Y,z.message||"")}(_);t=new I(o,l,u,M||null)}else if("documentChange"in e){const o=e.documentChange,l=ua(r,o.document.name),u=Qr(o.document.updateTime),_=o.document.createTime?Qr(o.document.createTime):v.min(),M=new Oo({mapValue:{fields:o.document.fields}}),z=xs.newFoundDocument(l,u,_,M);t=new Ec(o.targetIds||[],o.removedTargetIds||[],z.key,z)}else if("documentDelete"in e){const o=e.documentDelete,l=ua(r,o.document),u=o.readTime?Qr(o.readTime):v.min(),_=xs.newNoDocument(l,u);t=new Ec([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,l=ua(r,o.document);t=new Ec([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return rn();{const o=e.filter,u=new vc(o.count||0);t=new _h(o.targetId,u)}}var z;return t}(this.serializer,e),o=function(l){if(!("targetChange"in l))return v.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?v.min():u.readTime?Qr(u.readTime):v.min()}(e);return this.listener.zo(t,o)}jo(e){const t={};t.database=El(this.serializer),t.addTarget=function(l,u){let _;const M=u.target;return _=fc(M)?{documents:i_(l,M)}:{query:mm(l,M)},_.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?_.resumeToken=Qi(l,u.resumeToken):u.snapshotVersion.compareTo(v.min())>0&&(_.readTime=Kn(l,u.snapshotVersion.toTimestamp())),_}(this.serializer,e);const o=function kf(r,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=El(this.serializer),t.removeTarget=e,this.Fo(t)}}class Ym extends Km{constructor(e,t,o,l,u,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,_),this.serializer=u,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(zn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function qy(r,e){return r&&r.length>0?(zn(void 0!==e),r.map(t=>function(o,l){let u=Qr(o.updateTime?o.updateTime:l);return u.isEqual(v.min())&&(u=Qr(l)),new fm(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Qr(e.commitTime);return this.listener.Zo(o,t)}return zn(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=El(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function Ja(r,e){let t;if(e instanceof vl)t={update:Gl(r,e.key,e.value)};else if(e instanceof $l)t={delete:zl(r,e.key)};else if(e instanceof Fa)t={update:Gl(r,e.key,e.data),updateMask:ym(e.fieldMask)};else{if(!(e instanceof fh))return rn();t={verify:zl(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,u){const _=u.transform;if(_ instanceof gc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof gl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof jl)return{fieldPath:u.field.canonicalString(),increment:_._t};throw rn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:As(r,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:rn()),t;var l}(this.serializer,o))};this.Fo(t)}}class lp extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=l,this.eu=!1}nu(){if(this.eu)throw new T(At.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.co(e,t,o,l,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new T(At.UNKNOWN,l.toString())})}fo(e,t,o,l){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,_])=>this.connection.fo(e,t,o,u,_,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===At.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new T(At.UNKNOWN,u.toString())})}terminate(){this.eu=!0}}class w_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(qr(t),this.ru=!1):on("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class Jy{constructor(e,t,o,l,u){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=u,this._u.qr(M=>{o.enqueueAndForget((0,p.Z)(function*(){var z;$a(_)&&(on("RemoteStore","Restarting streams for network reachability change."),yield(z=(0,p.Z)(function*(Y){const pe=In(Y);pe.du.add(4),yield fu(pe),pe.mu.set("Unknown"),pe.du.delete(4),yield il(pe)}),function(Y){return z.apply(this,arguments)})(_))}))}),this.mu=new w_(o,l)}}function il(r){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,p.Z)(function*(r){if($a(r))for(const e of r.wu)yield e(!0)}),Fh.apply(this,arguments)}function fu(r){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,p.Z)(function*(r){for(const e of r.wu)yield e(!1)}),Lh.apply(this,arguments)}function Vh(r,e){const t=In(r);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),Mc(t)?Td(t):gu(t).No()&&pu(t,e))}function Dd(r,e){const t=In(r),o=gu(t);t.fu.delete(e),o.No()&&Ac(t,e),0===t.fu.size&&(o.No()?o.$o():$a(t)&&t.mu.set("Unknown"))}function pu(r,e){r.gu.Ot(e.targetId),gu(r).jo(e)}function Ac(r,e){r.gu.Ot(e),gu(r).Wo(e)}function Td(r){r.gu=new g({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>r.fu.get(e)||null}),gu(r).start(),r.mu.ou()}function Mc(r){return $a(r)&&!gu(r).xo()&&r.fu.size>0}function $a(r){return 0===In(r).du.size}function Id(r){r.gu=void 0}function Qm(r){return xd.apply(this,arguments)}function xd(){return xd=(0,p.Z)(function*(r){r.fu.forEach((e,t)=>{pu(r,e)})}),xd.apply(this,arguments)}function cp(r,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,p.Z)(function*(r,e){Id(r),Mc(r)?(r.mu.au(e),Td(r)):r.mu.set("Unknown")}),Sd.apply(this,arguments)}function Xm(r,e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,p.Z)(function*(r,e,t){if(r.mu.set("Online"),e instanceof I&&2===e.state&&e.cause)try{yield(o=(0,p.Z)(function*(l,u){const _=u.cause;for(const M of u.targetIds)l.fu.has(M)&&(yield l.remoteSyncer.rejectListen(M,_),l.fu.delete(M),l.gu.removeTarget(M))}),function(l,u){return o.apply(this,arguments)})(r,e)}catch(o){on("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Bh(r,o)}else if(e instanceof Ec?r.gu.Kt(e):e instanceof _h?r.gu.Jt(e):r.gu.zt(e),!t.isEqual(v.min()))try{const o=yield ep(r.localStore);t.compareTo(o)>=0&&(yield function(l,u){const _=l.gu.Xt(u);return _.targetChanges.forEach((M,z)=>{if(M.resumeToken.approximateByteSize()>0){const Y=l.fu.get(z);Y&&l.fu.set(z,Y.withResumeToken(M.resumeToken,u))}}),_.targetMismatches.forEach(M=>{const z=l.fu.get(M);if(!z)return;l.fu.set(M,z.withResumeToken(tr.EMPTY_BYTE_STRING,z.snapshotVersion)),Ac(l,M);const Y=new wl(z.target,M,1,z.sequenceNumber);pu(l,Y)}),l.remoteSyncer.applyRemoteEvent(_)}(r,t))}catch(o){on("RemoteStore","Failed to raise snapshot:",o),yield Bh(r,o)}var o}),Ad.apply(this,arguments)}function Bh(r,e,t){return up.apply(this,arguments)}function up(){return up=(0,p.Z)(function*(r,e,t){if(!Fo(e))throw e;r.du.add(1),yield fu(r),r.mu.set("Offline"),t||(t=()=>ep(r.localStore)),r.asyncQueue.enqueueRetryable((0,p.Z)(function*(){on("RemoteStore","Retrying IndexedDB access"),yield t(),r.du.delete(1),yield il(r)}))}),up.apply(this,arguments)}function dp(r,e){return e().catch(t=>Bh(r,t,e))}function mu(r){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,p.Z)(function*(r){const e=In(r),t=Jl(e);let o=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;Jm(e);)try{const l=yield y_(e.localStore,o);if(null===l){0===e.lu.length&&t.$o();break}o=l.batchId,C_(e,l)}catch(l){yield Bh(e,l)}eg(e)&&ya(e)}),Uh.apply(this,arguments)}function Jm(r){return $a(r)&&r.lu.length<10}function C_(r,e){r.lu.push(e);const t=Jl(r);t.No()&&t.Jo&&t.Yo(e.mutations)}function eg(r){return $a(r)&&!Jl(r).xo()&&r.lu.length>0}function ya(r){Jl(r).start()}function tg(r){return hp.apply(this,arguments)}function hp(){return hp=(0,p.Z)(function*(r){Jl(r).tu()}),hp.apply(this,arguments)}function ev(r){return Md.apply(this,arguments)}function Md(){return Md=(0,p.Z)(function*(r){const e=Jl(r);for(const t of r.lu)e.Yo(t.mutations)}),Md.apply(this,arguments)}function ng(r,e,t){return fp.apply(this,arguments)}function fp(){return fp=(0,p.Z)(function*(r,e,t){const o=r.lu.shift(),l=mh.from(o,e,t);yield dp(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield mu(r)}),fp.apply(this,arguments)}function D_(r,e){return pp.apply(this,arguments)}function pp(){return pp=(0,p.Z)(function*(r,e){var t;e&&Jl(r).Jo&&(yield(t=(0,p.Z)(function*(o,l){if(function pm(r){switch(r){default:return rn();case At.CANCELLED:case At.UNKNOWN:case At.DEADLINE_EXCEEDED:case At.RESOURCE_EXHAUSTED:case At.INTERNAL:case At.UNAVAILABLE:case At.UNAUTHENTICATED:return!1;case At.INVALID_ARGUMENT:case At.NOT_FOUND:case At.ALREADY_EXISTS:case At.PERMISSION_DENIED:case At.FAILED_PRECONDITION:case At.ABORTED:case At.OUT_OF_RANGE:case At.UNIMPLEMENTED:case At.DATA_LOSS:return!0}}(u=l.code)&&u!==At.ABORTED){const _=o.lu.shift();Jl(o).Oo(),yield dp(o,()=>o.remoteSyncer.rejectFailedWrite(_.batchId,l)),yield mu(o)}var u}),function(o,l){return t.apply(this,arguments)})(r,e)),eg(r)&&ya(r)}),pp.apply(this,arguments)}function mp(r,e){return gp.apply(this,arguments)}function gp(){return gp=(0,p.Z)(function*(r,e){const t=In(r);t.asyncQueue.verifyOperationInProgress(),on("RemoteStore","RemoteStore received new credentials");const o=$a(t);t.du.add(3),yield fu(t),o&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield il(t)}),gp.apply(this,arguments)}function Od(){return Od=(0,p.Z)(function*(r,e){const t=In(r);e?(t.du.delete(2),yield il(t)):e||(t.du.add(2),yield fu(t),t.mu.set("Unknown"))}),Od.apply(this,arguments)}function gu(r){return r.yu||(r.yu=function(e,t,o){const l=In(e);return l.nu(),new Zm(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Jr:Qm.bind(null,r),Zr:cp.bind(null,r),zo:Xm.bind(null,r)}),r.wu.push(function(){var e=(0,p.Z)(function*(t){t?(r.yu.Oo(),Mc(r)?Td(r):r.mu.set("Unknown")):(yield r.yu.stop(),Id(r))});return function(t){return e.apply(this,arguments)}}())),r.yu}function Jl(r){return r.pu||(r.pu=function(e,t,o){const l=In(e);return l.nu(),new Ym(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Jr:tg.bind(null,r),Zr:D_.bind(null,r),Xo:ev.bind(null,r),Zo:ng.bind(null,r)}),r.wu.push(function(){var e=(0,p.Z)(function*(t){t?(r.pu.Oo(),yield mu(r)):(yield r.pu.stop(),r.lu.length>0&&(on("RemoteStore",`Stopping write stream with ${r.lu.length} pending writes`),r.lu=[]))});return function(t){return e.apply(this,arguments)}}())),r.pu}class yp{constructor(e,t,o,l,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=u,this.deferred=new q,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,o,l,u){const _=Date.now()+o,M=new yp(e,t,_,l,u);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(At.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(r,e){if(qr("AsyncQueue",`${e}: ${r}`),Fo(r))return new T(At.UNAVAILABLE,`${e}: ${r}`);throw r}class yu{constructor(e){this.comparator=e?(t,o)=>e(t,o)||ye.comparator(t.key,o.key):(t,o)=>ye.comparator(t.key,o.key),this.keyedMap=pl(),this.sortedSet=new O(this.comparator)}static emptySet(e){return new yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=o.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new yu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class za{constructor(){this.Iu=new O(ye.comparator)}track(e){const t=e.doc.key,o=this.Iu.get(t);o?0!==e.type&&3===o.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==o.type?this.Iu=this.Iu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Iu=this.Iu.remove(t):1===e.type&&2===o.type?this.Iu=this.Iu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):rn():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,o)=>{e.push(o)}),e}}class ec{constructor(e,t,o,l,u,_,M,z,Y){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=u,this.fromCache=_,this.syncStateChanged=M,this.excludesMetadataChanges=z,this.hasCachedResults=Y}static fromInitialDocuments(e,t,o,l,u){const _=[];return t.forEach(M=>{_.push({type:0,doc:M})}),new ec(e,t,yu.emptySet(t),_,o,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class T_{constructor(){this.Eu=void 0,this.listeners=[]}}class I_{constructor(){this.queries=new Xo(e=>Wu(e),mc),this.onlineState="Unknown",this.Au=new Set}}function Hh(r,e){return vp.apply(this,arguments)}function vp(){return vp=(0,p.Z)(function*(r,e){const t=In(r),o=e.query;let l=!1,u=t.queries.get(o);if(u||(l=!0,u=new T_),l)try{u.Eu=yield t.onListen(o)}catch(_){const M=_u(_,`Initialization of query '${qu(e.query)}' failed`);return void e.onError(M)}t.queries.set(o,u),u.listeners.push(e),e.Ru(t.onlineState),u.Eu&&e.vu(u.Eu)&&Cp(t)}),vp.apply(this,arguments)}function bp(r,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,p.Z)(function*(r,e){const t=In(r),o=e.query;let l=!1;const u=t.queries.get(o);if(u){const _=u.listeners.indexOf(e);_>=0&&(u.listeners.splice(_,1),l=0===u.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),Ep.apply(this,arguments)}function wp(r,e){const t=In(r);let o=!1;for(const l of e){const _=t.queries.get(l.query);if(_){for(const M of _.listeners)M.vu(l)&&(o=!0);_.Eu=l}}o&&Cp(t)}function x_(r,e,t){const o=In(r),l=o.queries.get(e);if(l)for(const u of l.listeners)u.onError(t);o.queries.delete(e)}function Cp(r){r.Au.forEach(e=>{e.next()})}class vu{constructor(e,t,o){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new ec(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class S_{constructor(e){this.key=e}}class Tp{constructor(e){this.key=e}}class Ip{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Yi(),this.mutatedKeys=Yi(),this.Ku=Kc(e),this.Gu=new yu(this.Ku)}get Qu(){return this.Lu}zu(e,t){const o=t?t.ju:new za,l=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,_=l,M=!1;const z="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Y="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((pe,qe)=>{const yt=l.get(pe),Gt=Bl(this.query,qe)?qe:null,vn=!!yt&&this.mutatedKeys.has(yt.key),$n=!!Gt&&(Gt.hasLocalMutations||this.mutatedKeys.has(Gt.key)&&Gt.hasCommittedMutations);let li=!1;yt&&Gt?yt.data.isEqual(Gt.data)?vn!==$n&&(o.track({type:3,doc:Gt}),li=!0):this.Wu(yt,Gt)||(o.track({type:2,doc:Gt}),li=!0,(z&&this.Ku(Gt,z)>0||Y&&this.Ku(Gt,Y)<0)&&(M=!0)):!yt&&Gt?(o.track({type:0,doc:Gt}),li=!0):yt&&!Gt&&(o.track({type:1,doc:yt}),li=!0,(z||Y)&&(M=!0)),li&&(Gt?(_=_.add(Gt),u=$n?u.add(pe):u.delete(pe)):(_=_.delete(pe),u=u.delete(pe)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const pe="F"===this.query.limitType?_.last():_.first();_=_.delete(pe.key),u=u.delete(pe.key),o.track({type:1,doc:pe})}return{Gu:_,ju:o,Mi:M,mutatedKeys:u}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.ju.Tu();u.sort((Y,pe)=>function(qe,yt){const Gt=vn=>{switch(vn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn()}};return Gt(qe)-Gt(yt)}(Y.type,pe.type)||this.Ku(Y.doc,pe.doc)),this.Hu(o);const _=t?this.Ju():[],M=0===this.Uu.size&&this.current?1:0,z=M!==this.qu;return this.qu=M,0!==u.length||z?{snapshot:new ec(this.query,e.Gu,l,u,e.mutatedKeys,0===M,z,!1,!!o&&o.resumeToken.approximateByteSize()>0),Yu:_}:{Yu:_}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new za,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Yi(),this.Gu.forEach(o=>{this.Zu(o.key)&&(this.Uu=this.Uu.add(o.key))});const t=[];return e.forEach(o=>{this.Uu.has(o)||t.push(new Tp(o))}),this.Uu.forEach(o=>{e.has(o)||t.push(new S_(o))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Yi();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return ec.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class ig{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class rg{constructor(e){this.key=e,this.ec=!1}}class xp{constructor(e,t,o,l,u,_){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=_,this.nc={},this.sc=new Xo(M=>Wu(M),mc),this.ic=new Map,this.rc=new Set,this.oc=new O(ye.comparator),this.uc=new Map,this.cc=new Kf,this.ac={},this.hc=new Map,this.lc=Va.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Il(r,e){return bu.apply(this,arguments)}function bu(){return bu=(0,p.Z)(function*(r,e){const t=function Nd(r){const e=In(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=og.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nv.bind(null,e),e.nc.zo=wp.bind(null,e.eventManager),e.nc.wc=x_.bind(null,e.eventManager),e}(r);let o,l;const u=t.sc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),l=u.view.tc();else{const _=yield function uu(r,e){const t=In(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Ds.getTargetData(o,e).next(u=>u?(l=u,mt.resolve(l)):t.Ds.allocateTargetId(o).next(_=>(l=new wl(e,_,0,o.currentSequenceNumber),t.Ds.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.Li.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Li=t.Li.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}(t.localStore,Vo(e));t.isPrimaryClient&&Vh(t.remoteStore,_);const M=t.sharedClientState.addLocalQueryTarget(_.targetId);o=_.targetId,l=yield function Eu(r,e,t,o,l){return Oc.apply(this,arguments)}(t,e,o,"current"===M,_.resumeToken)}return l}),bu.apply(this,arguments)}function Oc(){return Oc=(0,p.Z)(function*(r,e,t,o,l){r.dc=(qe,yt,Gt)=>{return(vn=(0,p.Z)(function*($n,li,Xr,Zs){let Nr=li.view.zu(Xr);Nr.Mi&&(Nr=yield bd($n.localStore,li.query,!1).then(({documents:Ys})=>li.view.zu(Ys,Nr)));const zo=Zs&&Zs.targetChanges.get(li.targetId),Co=li.view.applyChanges(Nr,$n.isPrimaryClient,zo);return Pp($n,li.targetId,Co.Yu),Co.snapshot}),function($n,li,Xr,Zs){return vn.apply(this,arguments)})(r,qe,yt,Gt);var vn};const u=yield bd(r.localStore,e,!0),_=new Ip(e,u.Wi),M=_.zu(u.documents),z=bl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,l),Y=_.applyChanges(M,r.isPrimaryClient,z);Pp(r,t,Y.Yu);const pe=new ig(e,t,_);return r.sc.set(e,pe),r.ic.has(t)?r.ic.get(t).push(e):r.ic.set(t,[e]),Y.snapshot}),Oc.apply(this,arguments)}function A_(r,e){return $h.apply(this,arguments)}function $h(){return $h=(0,p.Z)(function*(r,e){const t=In(r),o=t.sc.get(e),l=t.ic.get(o.targetId);if(l.length>1)return t.ic.set(o.targetId,l.filter(u=>!mc(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield xc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Dd(t.remoteStore,o.targetId),wu(t,o.targetId)}).catch(xr))):(wu(t,o.targetId),yield xc(t.localStore,o.targetId,!0))}),$h.apply(this,arguments)}function Sp(){return Sp=(0,p.Z)(function*(r,e,t){const o=function tc(r){const e=In(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O_.bind(null,e),e}(r);try{const l=yield function(u,_){const M=In(u),z=H.now(),Y=_.reduce((yt,Gt)=>yt.add(Gt.key),Yi());let pe,qe;return M.persistence.runTransaction("Locally write mutations","readwrite",yt=>{let Gt=ca(),vn=Yi();return M.Ki.getEntries(yt,Y).next($n=>{Gt=$n,Gt.forEach((li,Xr)=>{Xr.isValidDocument()||(vn=vn.add(li))})}).next(()=>M.localDocuments.getOverlayedDocuments(yt,Gt)).next($n=>{pe=$n;const li=[];for(const Xr of _){const Zs=td(Xr,pe.get(Xr.key).overlayedDocument);null!=Zs&&li.push(new Fa(Xr.key,Zs,dc(Zs.value.mapValue),Ss.exists(!0)))}return M.mutationQueue.addMutationBatch(yt,z,li,_)}).next($n=>{qe=$n;const li=$n.applyToLocalDocumentSet(pe,vn);return M.documentOverlayCache.saveOverlays(yt,$n.batchId,li)})}).then(()=>({batchId:qe.batchId,changes:Ku(pe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(u,_,M){let z=u.ac[u.currentUser.toKey()];z||(z=new O(Rn)),z=z.insert(_,M),u.ac[u.currentUser.toKey()]=z}(o,l.batchId,t),yield xl(o,l.changes),yield mu(o.remoteStore)}catch(l){const u=_u(l,"Failed to persist write");t.reject(u)}}),Sp.apply(this,arguments)}function og(r,e){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,p.Z)(function*(r,e){const t=In(r);try{const o=yield function Bm(r,e){const t=In(r),o=e.snapshotVersion;let l=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const _=t.Ki.newChangeBuffer({trackRemovals:!0});l=t.Li;const M=[];e.targetChanges.forEach((pe,qe)=>{const yt=l.get(qe);if(!yt)return;M.push(t.Ds.removeMatchingKeys(u,pe.removedDocuments,qe).next(()=>t.Ds.addMatchingKeys(u,pe.addedDocuments,qe)));let Gt=yt.withSequenceNumber(u.currentSequenceNumber);var vn,$n,li;e.targetMismatches.has(qe)?Gt=Gt.withResumeToken(tr.EMPTY_BYTE_STRING,v.min()).withLastLimboFreeSnapshotVersion(v.min()):pe.resumeToken.approximateByteSize()>0&&(Gt=Gt.withResumeToken(pe.resumeToken,o)),l=l.insert(qe,Gt),$n=Gt,li=pe,(0===(vn=yt).resumeToken.approximateByteSize()||$n.snapshotVersion.toMicroseconds()-vn.snapshotVersion.toMicroseconds()>=3e8||li.addedDocuments.size+li.modifiedDocuments.size+li.removedDocuments.size>0)&&M.push(t.Ds.updateTargetData(u,Gt))});let z=ca(),Y=Yi();if(e.documentUpdates.forEach(pe=>{e.resolvedLimboDocuments.has(pe)&&M.push(t.persistence.referenceDelegate.updateLimboDocument(u,pe))}),M.push(function tp(r,e,t){let o=Yi(),l=Yi();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let _=ca();return t.forEach((M,z)=>{const Y=u.get(M);z.isFoundDocument()!==Y.isFoundDocument()&&(l=l.add(M)),z.isNoDocument()&&z.version.isEqual(v.min())?(e.removeEntry(M,z.readTime),_=_.insert(M,z)):!Y.isValidDocument()||z.version.compareTo(Y.version)>0||0===z.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(z),_=_.insert(M,z)):on("LocalStore","Ignoring outdated watch update for ",M,". Current version:",Y.version," Watch version:",z.version)}),{zi:_,ji:l}})}(u,_,e.documentUpdates).next(pe=>{z=pe.zi,Y=pe.ji})),!o.isEqual(v.min())){const pe=t.Ds.getLastRemoteSnapshotVersion(u).next(qe=>t.Ds.setTargetsMetadata(u,u.currentSequenceNumber,o));M.push(pe)}return mt.waitFor(M).next(()=>_.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,z,Y)).next(()=>z)}).then(u=>(t.Li=l,u))}(t.localStore,e);e.targetChanges.forEach((l,u)=>{const _=t.uc.get(u);_&&(zn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.ec=!0:l.modifiedDocuments.size>0?zn(_.ec):l.removedDocuments.size>0&&(zn(_.ec),_.ec=!1))}),yield xl(t,o,e)}catch(o){yield xr(o)}}),Rc.apply(this,arguments)}function ag(r,e,t){const o=In(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.sc.forEach((u,_)=>{const M=_.view.Ru(e);M.snapshot&&l.push(M.snapshot)}),function(u,_){const M=In(u);M.onlineState=_;let z=!1;M.queries.forEach((Y,pe)=>{for(const qe of pe.listeners)qe.Ru(_)&&(z=!0)}),z&&Cp(M)}(o.eventManager,e),l.length&&o.nc.zo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function nv(r,e,t){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,p.Z)(function*(r,e,t){const o=In(r);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.uc.get(e),u=l&&l.key;if(u){let _=new O(ye.comparator);_=_.insert(u,xs.newNoDocument(u,v.min()));const M=Yi().add(u),z=new bc(v.min(),new Map,new oe(Rn),_,M);yield og(o,z),o.oc=o.oc.remove(u),o.uc.delete(e),kp(o)}else yield xc(o.localStore,e,!1).then(()=>wu(o,e,t)).catch(xr)}),Ap.apply(this,arguments)}function M_(r,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,p.Z)(function*(r,e){const t=In(r),o=e.batch.batchId;try{const l=yield function qi(r,e){const t=In(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),u=t.Ki.newChangeBuffer({trackRemovals:!0});return function(_,M,z,Y){const pe=z.batch,qe=pe.keys();let yt=mt.resolve();return qe.forEach(Gt=>{yt=yt.next(()=>Y.getEntry(M,Gt)).next(vn=>{const $n=z.docVersions.get(Gt);zn(null!==$n),vn.version.compareTo($n)<0&&(pe.applyToRemoteDocument(vn,z),vn.isValidDocument()&&(vn.setReadTime(z.commitVersion),Y.addEntry(vn)))})}),yt.next(()=>_.mutationQueue.removeMutationBatch(M,pe))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(_){let M=Yi();for(let z=0;z<_.mutationResults.length;++z)_.mutationResults[z].transformResults.length>0&&(M=M.add(_.batch.mutations[z].key));return M}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}(t.localStore,e);Pd(t,o,null),zh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield xl(t,l)}catch(l){yield xr(l)}}),Mp.apply(this,arguments)}function O_(r,e,t){return Op.apply(this,arguments)}function Op(){return Op=(0,p.Z)(function*(r,e,t){const o=In(r);try{const l=yield function(u,_){const M=In(u);return M.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let Y;return M.mutationQueue.lookupMutationBatch(z,_).next(pe=>(zn(null!==pe),Y=pe.keys(),M.mutationQueue.removeMutationBatch(z,pe))).next(()=>M.mutationQueue.performConsistencyCheck(z)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(z,Y,_)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(z,Y)).next(()=>M.localDocuments.getDocuments(z,Y))})}(o.localStore,e);Pd(o,e,t),zh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield xl(o,l)}catch(l){yield xr(l)}}),Op.apply(this,arguments)}function zh(r,e){(r.hc.get(e)||[]).forEach(t=>{t.resolve()}),r.hc.delete(e)}function Pd(r,e,t){const o=In(r);let l=o.ac[o.currentUser.toKey()];if(l){const u=l.get(e);u&&(t?u.reject(t):u.resolve(),l=l.remove(e)),o.ac[o.currentUser.toKey()]=l}}function wu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.ic.get(e))r.sc.delete(o),t&&r.nc.wc(o,t);r.ic.delete(e),r.isPrimaryClient&&r.cc.hs(e).forEach(o=>{r.cc.containsKey(o)||Gh(r,o)})}function Gh(r,e){r.rc.delete(e.path.canonicalString());const t=r.oc.get(e);null!==t&&(Dd(r.remoteStore,t),r.oc=r.oc.remove(e),r.uc.delete(t),kp(r))}function Pp(r,e,t){for(const o of t)o instanceof S_?(r.cc.addReference(o.key,e),P_(r,o)):o instanceof Tp?(on("SyncEngine","Document no longer in limbo: "+o.key),r.cc.removeReference(o.key,e),r.cc.containsKey(o.key)||Gh(r,o.key)):rn()}function P_(r,e){const t=e.key,o=t.path.canonicalString();r.oc.get(t)||r.rc.has(o)||(on("SyncEngine","New document in limbo: "+t),r.rc.add(o),kp(r))}function kp(r){for(;r.rc.size>0&&r.oc.size<r.maxConcurrentLimboResolutions;){const e=r.rc.values().next().value;r.rc.delete(e);const t=new ye(P.fromString(e)),o=r.lc.next();r.uc.set(o,new rg(t)),r.oc=r.oc.insert(t,o),Vh(r.remoteStore,new wl(Vo(hl(t.path)),o,2,jn.ct))}}function xl(r,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,p.Z)(function*(r,e,t){const o=In(r),l=[],u=[],_=[];var M;o.sc.isEmpty()||(o.sc.forEach((M,z)=>{_.push(o.dc(z,e,t).then(Y=>{if((Y||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(z.targetId,Y?.fromCache?"not-current":"current"),Y){l.push(Y);const pe=Xf.Di(z.targetId,Y);u.push(pe)}}))}),yield Promise.all(_),o.nc.zo(l),yield(M=(0,p.Z)(function*(z,Y){const pe=In(z);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",qe=>mt.forEach(Y,yt=>mt.forEach(yt.Vi,Gt=>pe.persistence.referenceDelegate.addReference(qe,yt.targetId,Gt)).next(()=>mt.forEach(yt.Si,Gt=>pe.persistence.referenceDelegate.removeReference(qe,yt.targetId,Gt)))))}catch(qe){if(!Fo(qe))throw qe;on("LocalStore","Failed to update sequence numbers: "+qe)}for(const qe of Y){const yt=qe.targetId;if(!qe.fromCache){const Gt=pe.Li.get(yt),$n=Gt.withLastLimboFreeSnapshotVersion(Gt.snapshotVersion);pe.Li=pe.Li.insert(yt,$n)}}}),function(z,Y){return M.apply(this,arguments)})(o.localStore,u))}),Np.apply(this,arguments)}function k_(r,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,p.Z)(function*(r,e){const t=In(r);if(!t.currentUser.isEqual(e)){on("SyncEngine","User change. New user:",e.toKey());const o=yield Vm(t.localStore,e);t.currentUser=e,(l=t).hc.forEach(_=>{_.forEach(M=>{M.reject(new T(At.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.hc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield xl(t,o.Qi)}var l}),Fp.apply(this,arguments)}function lg(r,e){const t=In(r),o=t.uc.get(e);if(o&&o.ec)return Yi().add(o.key);{let l=Yi();const u=t.ic.get(e);if(!u)return l;for(const _ of u){const M=t.sc.get(_);l=l.unionWith(M.view.Qu)}return l}}class nc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.serializer=wd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Lm(r,e,t,o){return new Fm(r,e,t,o)}(this.persistence,new Nm,e.initialUser,this.serializer)}createPersistence(e){return new Zf(vd.Fs,this.serializer)}createSharedClientState(e){return new zm}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wa{initialize(e,t){var o=this;return(0,p.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>ag(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=k_.bind(null,o.syncEngine),yield function _p(r,e){return Od.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new I_}createDatastore(e){const t=wd(e.databaseInfo.databaseId),o=new E_(e.databaseInfo);return new lp(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,u=M=>ag(this.syncEngine,M,0),_=Gm.D()?new Gm:new du,new Jy(t,o,l,u,_);var t,o,l,u,_}createSyncEngine(e,t){return function(o,l,u,_,M,z,Y){const pe=new xp(o,l,u,_,M,z);return Y&&(pe.fc=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const o=In(t);on("RemoteStore","RemoteStore shutting down."),o.du.add(5),yield fu(o),o._u.shutdown(),o.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Al{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hg{constructor(e,t,o,l){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=hs.UNAUTHENTICATED,this.clientId=Kr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,p.Z)(function*(M){on("FirestoreClient","Received user=",M.uid),yield u.authCredentialListener(M),u.user=M});return function(M){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(on("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(At.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new q;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=_u(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Fd(r,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),on("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var l=(0,p.Z)(function*(u){o.isEqual(u)||(yield Vm(e.localStore,u),o=u)});return function(u){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Zh.apply(this,arguments)}function Yh(r,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Xh(r){return Hp.apply(this,arguments)}(r);on("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(l=>mp(e.remoteStore,l)),r.setAppCheckTokenChangeListener((l,u)=>mp(e.remoteStore,u)),r._onlineComponents=e}),Qh.apply(this,arguments)}function Hp(){return Hp=(0,p.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){on("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Fd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Up(r){return"FirebaseError"===r.name?r.code===At.FAILED_PRECONDITION||r.code===At.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;Li("Error using user provided cache. Falling back to memory cache: "+t),yield Fd(r,new nc)}}else on("FirestoreClient","Using default OfflineComponentProvider"),yield Fd(r,new nc);return r._offlineComponents}),Hp.apply(this,arguments)}function Jh(r){return ef.apply(this,arguments)}function ef(){return ef=(0,p.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(on("FirestoreClient","Using user provided OnlineComponentProvider"),yield Yh(r,r._uninitializedComponentsProvider._online)):(on("FirestoreClient","Using default OnlineComponentProvider"),yield Yh(r,new Wa))),r._onlineComponents}),ef.apply(this,arguments)}function Ml(r){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,p.Z)(function*(r){const e=yield Jh(r),t=e.eventManager;return t.onListen=Il.bind(null,e.syncEngine),t.onUnlisten=A_.bind(null,e.syncEngine),t}),Iu.apply(this,arguments)}const Wp=new Map;function qp(r,e,t){if(!t)throw new T(At.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Kp(r){if(!ye.isDocumentKey(r))throw new T(At.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zp(r){if(ye.isDocumentKey(r))throw new T(At.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ud(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":rn()}function kr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new T(At.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ud(r);throw new T(At.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Qp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new T(At.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(At.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function yg(r,e,t,o){if(!0===e&&!0===o)throw new T(At.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xu{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(At.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(At.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new se;switch(t.type){case"firstParty":return new Hn(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new T(At.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Wp.get(e);t&&(on("ComponentProvider","Removing Datastore"),Wp.delete(e),t.terminate())}(this),Promise.resolve()}}class ho{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ho(this.firestore,e,this._key)}}class jo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new jo(this.firestore,e,this._query)}}class qa extends jo{constructor(e,t,o){super(e,t,hl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ho(this.firestore,null,new ye(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function vg(r,e,...t){if(r=(0,Pe.m9)(r),qp("collection","path",e),r instanceof xu){const o=P.fromString(e,...t);return Zp(o),new qa(r,null,o)}{if(!(r instanceof ho||r instanceof qa))throw new T(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(P.fromString(e,...t));return Zp(o),new qa(r.firestore,null,o)}}function Jp(r,e,...t){if(r=(0,Pe.m9)(r),1===arguments.length&&(e=Kr.A()),qp("doc","path",e),r instanceof xu){const o=P.fromString(e,...t);return Kp(o),new ho(r,null,new ye(o))}{if(!(r instanceof ho||r instanceof qa))throw new T(At.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(P.fromString(e,...t));return Kp(o),new ho(r.firestore,r instanceof qa?r.converter:null,new ye(o))}}class rf{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Nh(this,"async_queue_retry"),this.qc=()=>{const t=kh();t&&on("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=kh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=kh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new q;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,p.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Fo(t))throw t;on("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(o=>{throw this.Mc=o,this.Fc=!1,qr("INTERNAL UNHANDLED ERROR: ",function(u){let _=u.message||"";return u.stack&&(_=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),_}(o)),o}).then(o=>(this.Fc=!1,o))));return this.Nc=t,t}enqueueAfterDelay(e,t,o){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const l=yp.createAndSchedule(this,e,t,o,u=>this.Qc(u));return this.$c.push(l),l}Uc(){this.Mc&&rn()}verifyOperationInProgress(){}zc(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function rl(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(r)}class Es extends xu{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new rf,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sf(this),this._firestoreClient.terminate()}}function tm(r,e){const t="object"==typeof r?r:(0,f.Mq)(),o="string"==typeof r?r:e||"(default)",l=(0,f.qX)(t,"firestore").getImmediate({identifier:o});if(!l._initialized){const u=(0,Pe.P0)("firestore");u&&function Xp(r,e,t,o={}){var l;const u=(r=kr(r,xu))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Li("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let _,M;if("string"==typeof o.mockUserToken)_=o.mockUserToken,M=hs.MOCK_USER;else{_=(0,Pe.Sg)(o.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const z=o.mockUserToken.sub||o.mockUserToken.user_id;if(!z)throw new T(At.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new hs(z)}r._authCredentials=new Le(new F(_,M))}}(l,...u)}return l}function Ro(r){return r._firestoreClient||sf(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function sf(r){var e,t,o;const l=r._freezeSettings(),u=(M=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new L(r._databaseId,M,r._persistenceKey,(Y=l).host,Y.ssl,Y.experimentalForceLongPolling,Y.experimentalAutoDetectLongPolling,Y.useFetchStreams));var M,Y;r._firestoreClient=new hg(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=l.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(tr.fromBase64String(e))}catch(t){throw new T(At.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ic(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ka{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(At.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ue(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class im{constructor(e){this._methodName=e}}class af{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(At.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(At.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rn(this._lat,e._lat)||Rn(this._long,e._long)}}const j_=/^__.*__$/;class wg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new vl(e,this.data,t,this.fieldTransforms)}}class $_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lf(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rn()}}class Au{constructor(e,t,o,l,u,_){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=l,void 0===u&&this.Jc(),this.fieldTransforms=u||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Au(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Zc({path:o,ta:!1});return l.ea(e),l}na(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Zc({path:o,ta:!1});return l.Jc(),l}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Fc(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(lf(this.Yc)&&j_.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class sl{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||wd(e)}ua(e,t,o,l=!1){return new Au({Yc:e,methodName:t,oa:o,path:ue.emptyPath(),ta:!1,ra:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mu(r){const e=r._freezeSettings(),t=wd(r._databaseId);return new sl(r._databaseId,!!e.ignoreUndefinedProperties,t)}function cf(r,e,t,o,l,u={}){const _=r.ua(u.merge||u.mergeFields?2:0,e,t,l);uf("Data must be an object, but it was:",_,o);const M=Ou(o,_);let z,Y;if(u.merge)z=new fn(_.fieldMask),Y=_.fieldTransforms;else if(u.mergeFields){const pe=[];for(const qe of u.mergeFields){const yt=jd(e,qe,t);if(!_.contains(yt))throw new T(At.INVALID_ARGUMENT,`Field '${yt}' is specified in your field mask but missing from your input data.`);Mg(pe,yt)||pe.push(yt)}z=new fn(pe),Y=_.fieldTransforms.filter(qe=>z.covers(qe.field))}else z=null,Y=_.fieldTransforms;return new wg(new Oo(M),z,Y)}class ba extends im{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ba}}function Ol(r,e){if(Sg(r=(0,Pe.m9)(r)))return uf("Unsupported field value:",e,r),Ou(r,e);if(r instanceof im)return function(t,o){if(!lf(o.Yc))throw o.ia(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ia(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,o){const l=[];let u=0;for(const _ of t){let M=Ol(_,o.sa(u));null==M&&(M={nullValue:"NULL_VALUE"}),l.push(M),u++}return{arrayValue:{values:l}}}(r,e)}return function(t,o){if(null===(t=(0,Pe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xf(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=H.fromDate(t);return{timestampValue:Kn(o.serializer,l)}}if(t instanceof H){const l=new H(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kn(o.serializer,l)}}if(t instanceof af)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ic)return{bytesValue:Qi(o.serializer,t._byteString)};if(t instanceof ho){const l=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(l))throw o.ia(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:La(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ia(`Unsupported field value: ${Ud(t)}`)}(r,e)}function Ou(r,e){const t={};return y(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):C(r,(o,l)=>{const u=Ol(l,e.Xc(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function Sg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof H||r instanceof af||r instanceof ic||r instanceof ho||r instanceof im)}function uf(r,e,t){if(!Sg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ud(t);throw e.ia("an object"===o?r+" a custom object":r+" "+o)}var o}function jd(r,e,t){if((e=(0,Pe.m9)(e))instanceof Ka)return e._internalPath;if("string"==typeof e)return $d(r,e);throw Fc("Field path arguments must be of type string or ",r,!1,void 0,t)}const Ag=new RegExp("[~\\*/\\[\\]]");function $d(r,e,t){if(e.search(Ag)>=0)throw Fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ka(...e.split("."))._internalPath}catch{throw Fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Fc(r,e,t,o,l){const u=o&&!o.isEmpty(),_=void 0!==l;let M=`Function ${e}() called with invalid data`;t&&(M+=" (via `toFirestore()`)"),M+=". ";let z="";return(u||_)&&(z+=" (found",u&&(z+=` in field ${o}`),_&&(z+=` in document ${l}`),z+=")"),new T(At.INVALID_ARGUMENT,M+r+z)}function Mg(r,e){return r.some(t=>t.isEqual(e))}class df{constructor(e,t,o,l,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ho(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Og(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ru("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Og extends df{data(){return super.data()}}function Ru(r,e){return"string"==typeof e?$d(r,e):e instanceof Ka?e._internalPath:e._delegate._internalPath}function zd(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new T(At.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hf{}class Rg extends hf{}function Pg(r,e,...t){let o=[];e instanceof hf&&o.push(e),o=o.concat(t),function(l){const u=l.filter(M=>M instanceof Lc).length,_=l.filter(M=>M instanceof Pu).length;if(u>1||u>0&&_>0)throw new T(At.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)r=l._apply(r);return r}class Pu extends Rg{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Pu(e,t,o)}_apply(e){const t=this._parse(e);return Vg(e._query,t),new jo(e.firestore,e.converter,Gu(e._query,t))}_parse(e){const t=Mu(e.firestore);return function(l,u,_,M,z,Y,pe){let qe;if(z.isKeyField()){if("array-contains"===Y||"array-contains-any"===Y)throw new T(At.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Y}' queries on documentId().`);if("in"===Y||"not-in"===Y){Lg(pe,Y);const yt=[];for(const Gt of pe)yt.push(Fg(M,l,Gt));qe={arrayValue:{values:yt}}}else qe=Fg(M,l,pe)}else"in"!==Y&&"not-in"!==Y&&"array-contains-any"!==Y||Lg(pe,Y),qe=function xg(r,e,t,o=!1){return Ol(t,r.ua(o?4:3,e))}(_,"where",pe,"in"===Y||"not-in"===Y);return br.create(z,Y,qe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function kg(r,e,t){const o=e,l=Ru("where",r);return Pu._create(l,o,t)}class Lc extends hf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lc(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let u=o;const _=l.getFlattenedFilters();for(const M of _)Vg(u,M),u=Gu(u,M)}(e._query,t),new jo(e.firestore,e.converter,Gu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Fg(r,e,t){if("string"==typeof(t=(0,Pe.m9)(t))){if(""===t)throw new T(At.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fl(e)&&-1!==t.indexOf("/"))throw new T(At.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(P.fromString(t));if(!ye.isDocumentKey(o))throw new T(At.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ai(r,new ye(o))}if(t instanceof ho)return ai(r,t._key);throw new T(At.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ud(t)}.`)}function Lg(r,e){if(!Array.isArray(r)||0===r.length)throw new T(At.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vg(r,e){if(e.isInequality()){const o=Vl(r),l=e.field;if(null!==o&&!o.isEqual(l))throw new T(At.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const u=ja(r);null!==u&&function Bg(r,e,t){if(!t.isEqual(e))throw new T(At.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,l,u)}const t=function(o,l){for(const u of o)for(const _ of u.getFlattenedFilters())if(l.indexOf(_.op)>=0)return _.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new T(At.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class q_{convertValue(e,t="none"){switch(it(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rn()}}convertObject(e,t){const o={};return C(e.fields,(l,u)=>{o[l]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new af($r(e.latitude),$r(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ma(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Da(e));default:return null}}convertTimestamp(e){const t=bo(e);return new H(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=P.fromString(e);zn(od(o));const l=new $(o.get(1),o.get(3)),u=new ye(o.popFirst(5));return l.isEqual(t)||qr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function gf(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vc extends df{constructor(e,t,o,l,u,_){super(e,t,o,l,_),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Ru("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class ku extends Vc{data(e={}){return super.data(e)}}class sc{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new ku(this._firestore,this._userDataWriter,o.key,o,new rc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(At.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(_=>({type:"added",doc:new ku(o._firestore,o._userDataWriter,_.doc.key,_.doc,new rc(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(_=>l||3!==_.type).map(_=>{const M=new ku(o._firestore,o._userDataWriter,_.doc.key,_.doc,new rc(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let z=-1,Y=-1;return 0!==_.type&&(z=u.indexOf(_.doc.key),u=u.delete(_.doc.key)),1!==_.type&&(u=u.add(_.doc),Y=u.indexOf(_.doc.key)),{type:Bc(_.type),doc:M,oldIndex:z,newIndex:Y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Bc(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rn()}}function J_(r){r=kr(r,ho);const e=kr(r.firestore,Es);return function Bd(r,e,t={}){const o=new q;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(l,u,_,M,z){const Y=new Al({next:qe=>{u.enqueueAndForget(()=>bp(l,pe));const yt=qe.docs.has(_);!yt&&qe.fromCache?z.reject(new T(At.UNAVAILABLE,"Failed to get document because the client is offline.")):yt&&qe.fromCache&&M&&"server"===M.source?z.reject(new T(At.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(qe)},error:qe=>z.reject(qe)}),pe=new vu(hl(_.path),Y,{includeMetadataChanges:!0,xu:!0});return Hh(l,pe)}(yield Ml(r),r.asyncQueue,e,t,o)})),o.promise}(Ro(e),r._key).then(t=>Nu(e,r,t))}class Ma extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ho(this.firestore,null,t)}}function vv(r){r=kr(r,jo);const e=kr(r.firestore,Es),t=Ro(e),o=new Ma(e);return zd(r._query),function $p(r,e,t={}){const o=new q;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(l,u,_,M,z){const Y=new Al({next:qe=>{u.enqueueAndForget(()=>bp(l,pe)),qe.fromCache&&"server"===M.source?z.reject(new T(At.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(qe)},error:qe=>z.reject(qe)}),pe=new vu(_,Y,{includeMetadataChanges:!0,xu:!0});return Hh(l,pe)}(yield Ml(r),r.asyncQueue,e,t,o)})),o.promise}(t,r._query).then(l=>new sc(e,o,r,l))}function bv(r,e,t){r=kr(r,ho);const o=kr(r.firestore,Es),l=gf(r.converter,e,t);return Wd(o,[cf(Mu(o),"setDoc",r._key,l,null!==r.converter,t).toMutation(r._key,Ss.none())])}function Ai(r,e,t,...o){r=kr(r,ho);const l=kr(r.firestore,Es),u=Mu(l);let _;return _="string"==typeof(e=(0,Pe.m9)(e))||e instanceof Ka?function Ig(r,e,t,o,l,u){const _=r.ua(1,e,t),M=[jd(e,o,t)],z=[l];if(u.length%2!=0)throw new T(At.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let yt=0;yt<u.length;yt+=2)M.push(jd(e,u[yt])),z.push(u[yt+1]);const Y=[],pe=Oo.empty();for(let yt=M.length-1;yt>=0;--yt)if(!Mg(Y,M[yt])){const Gt=M[yt];let vn=z[yt];vn=(0,Pe.m9)(vn);const $n=_.na(Gt);if(vn instanceof ba)Y.push(Gt);else{const li=Ol(vn,$n);null!=li&&(Y.push(Gt),pe.set(Gt,li))}}const qe=new fn(Y);return new $_(pe,qe,_.fieldTransforms)}(u,"updateDoc",r._key,e,t,o):function Tg(r,e,t,o){const l=r.ua(1,e,t);uf("Data must be an object, but it was:",l,o);const u=[],_=Oo.empty();C(o,(z,Y)=>{const pe=$d(e,z,t);Y=(0,Pe.m9)(Y);const qe=l.na(pe);if(Y instanceof ba)u.push(pe);else{const yt=Ol(Y,qe);null!=yt&&(u.push(pe),_.set(pe,yt))}});const M=new fn(u);return new $_(_,M,l.fieldTransforms)}(u,"updateDoc",r._key,e),Wd(l,[_.toMutation(r._key,Ss.exists(!0))])}function ny(r){return Wd(kr(r.firestore,Es),[new $l(r._key,Ss.none())])}function iy(r,e){const t=kr(r.firestore,Es),o=Jp(r),l=gf(r.converter,e);return Wd(t,[cf(Mu(r.firestore),"addDoc",o._key,l,null!==r.converter,{}).toMutation(o._key,Ss.exists(!1))]).then(()=>o)}function ry(r,...e){var t,o,l;r=(0,Pe.m9)(r);let u={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||rl(e[_])||(u=e[_],_++);const M={includeMetadataChanges:u.includeMetadataChanges};if(rl(e[_])){const qe=e[_];e[_]=null===(t=qe.next)||void 0===t?void 0:t.bind(qe),e[_+1]=null===(o=qe.error)||void 0===o?void 0:o.bind(qe),e[_+2]=null===(l=qe.complete)||void 0===l?void 0:l.bind(qe)}let z,Y,pe;if(r instanceof ho)Y=kr(r.firestore,Es),pe=hl(r._key.path),z={next:qe=>{e[_]&&e[_](Nu(Y,r,qe))},error:e[_+1],complete:e[_+2]};else{const qe=kr(r,jo);Y=kr(qe.firestore,Es),pe=qe._query;const yt=new Ma(Y);z={next:Gt=>{e[_]&&e[_](new sc(Y,yt,qe,Gt))},error:e[_+1],complete:e[_+2]},zd(r._query)}return function(qe,yt,Gt,vn){const $n=new Al(vn),li=new vu(yt,$n,Gt);return qe.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Hh(yield Ml(qe),li)})),()=>{$n.yc(),qe.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return bp(yield Ml(qe),li)}))}}(Ro(Y),pe,M,z)}function Wd(r,e){return function(t,o){const l=new q;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function sg(r,e,t){return Sp.apply(this,arguments)}(yield function Vd(r){return Jh(r).then(e=>e.syncEngine)}(t),o,l)})),l.promise}(Ro(r),e)}function Nu(r,e,t){const o=t.docs.get(e._key),l=new Ma(r);return new Vc(r,l,e._key,o,new rc(t.hasPendingWrites,t.fromCache),e.converter)}!function(r,e=!0){So=f.Jn,(0,f.Xd)(new le.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const u=t.getProvider("app").getImmediate(),_=new Es(new It(t.getProvider("auth-internal")),new Wi(t.getProvider("app-check-internal")),function(M,z){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new T(At.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $(M.options.projectId,z)}(u,o),u);return l=Object.assign({useFetchStreams:e},l),_._setSettings(l),_},"PUBLIC").setMultipleInstances(!0)),(0,f.KN)(ia,"3.10.0",r),(0,f.KN)(ia,"3.10.0","esm2017")}()},2090:(bn,ot,B)=>{B.d(ot,{$s:()=>fe,BH:()=>Oe,L:()=>Ge,LL:()=>We,P0:()=>Pn,Pz:()=>Ce,Sg:()=>ct,UG:()=>lt,US:()=>_e,ZR:()=>jt,aH:()=>Me,b$:()=>wt,eu:()=>Vt,hl:()=>Wt,m9:()=>Mt,ne:()=>Rt,pd:()=>xt,q4:()=>gn,ru:()=>Zt,tV:()=>ce,uI:()=>rt,vZ:()=>di,w1:()=>tt,xO:()=>Ti,xb:()=>Di,z$:()=>Nt,zI:()=>pn,zd:()=>lr});const Ne=function(we){const be=[];let Ve=0;for(let dt=0;dt<we.length;dt++){let Qe=we.charCodeAt(dt);Qe<128?be[Ve++]=Qe:Qe<2048?(be[Ve++]=Qe>>6|192,be[Ve++]=63&Qe|128):55296==(64512&Qe)&&dt+1<we.length&&56320==(64512&we.charCodeAt(dt+1))?(Qe=65536+((1023&Qe)<<10)+(1023&we.charCodeAt(++dt)),be[Ve++]=Qe>>18|240,be[Ve++]=Qe>>12&63|128,be[Ve++]=Qe>>6&63|128,be[Ve++]=63&Qe|128):(be[Ve++]=Qe>>12|224,be[Ve++]=Qe>>6&63|128,be[Ve++]=63&Qe|128)}return be},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,be){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ve=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,dt=[];for(let Qe=0;Qe<we.length;Qe+=3){const ln=we[Qe],Be=Qe+1<we.length,Re=Be?we[Qe+1]:0,me=Qe+2<we.length,ie=me?we[Qe+2]:0;let $e=(15&Re)<<2|ie>>6,ze=63&ie;me||(ze=64,Be||($e=64)),dt.push(Ve[ln>>2],Ve[(3&ln)<<4|Re>>4],Ve[$e],Ve[ze])}return dt.join("")},encodeString(we,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(we):this.encodeByteArray(Ne(we),be)},decodeString(we,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(we):function(we){const be=[];let Ve=0,dt=0;for(;Ve<we.length;){const Qe=we[Ve++];if(Qe<128)be[dt++]=String.fromCharCode(Qe);else if(Qe>191&&Qe<224){const ln=we[Ve++];be[dt++]=String.fromCharCode((31&Qe)<<6|63&ln)}else if(Qe>239&&Qe<365){const me=((7&Qe)<<18|(63&we[Ve++])<<12|(63&we[Ve++])<<6|63&we[Ve++])-65536;be[dt++]=String.fromCharCode(55296+(me>>10)),be[dt++]=String.fromCharCode(56320+(1023&me))}else{const ln=we[Ve++],Be=we[Ve++];be[dt++]=String.fromCharCode((15&Qe)<<12|(63&ln)<<6|63&Be)}}return be.join("")}(this.decodeStringToByteArray(we,be))},decodeStringToByteArray(we,be){this.init_();const Ve=be?this.charToByteMapWebSafe_:this.charToByteMap_,dt=[];for(let Qe=0;Qe<we.length;){const ln=Ve[we.charAt(Qe++)],Re=Qe<we.length?Ve[we.charAt(Qe)]:0;++Qe;const ie=Qe<we.length?Ve[we.charAt(Qe)]:64;++Qe;const re=Qe<we.length?Ve[we.charAt(Qe)]:64;if(++Qe,null==ln||null==Re||null==ie||null==re)throw new Ie;dt.push(ln<<2|Re>>4),64!==ie&&(dt.push(Re<<4&240|ie>>2),64!==re&&dt.push(ie<<6&192|re))}return dt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(we){return function(we){const be=Ne(we);return _e.encodeByteArray(be,!0)}(we).replace(/\./g,"")},ce=function(we){try{return _e.decodeString(we,!0)}catch(be){console.error("base64Decode failed: ",be)}return null},Qt=()=>{try{return function gt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const we=process.env.__FIREBASE_DEFAULTS__;return we?JSON.parse(we):void 0})()||(()=>{if(typeof document>"u")return;let we;try{we=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const be=we&&ce(we[1]);return be&&JSON.parse(be)})()}catch(we){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${we}`)}},gn=we=>{var be,Ve;return null===(Ve=null===(be=Qt())||void 0===be?void 0:be.emulatorHosts)||void 0===Ve?void 0:Ve[we]},Pn=we=>{const be=gn(we);if(!be)return;const Ve=be.lastIndexOf(":");if(Ve<=0||Ve+1===be.length)throw new Error(`Invalid host ${be} with no separate hostname and port!`);const dt=parseInt(be.substring(Ve+1),10);return"["===be[0]?[be.substring(1,Ve-1),dt]:[be.substring(0,Ve),dt]},Me=()=>{var we;return null===(we=Qt())||void 0===we?void 0:we.config},Ce=we=>{var be;return null===(be=Qt())||void 0===be?void 0:be[`_${we}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,Ve)=>{this.resolve=be,this.reject=Ve})}wrapCallback(be){return(Ve,dt)=>{Ve?this.reject(Ve):this.resolve(dt),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(Ve):be(Ve,dt))}}}function ct(we,be){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const dt=be||"demo-project",Qe=we.iat||0,ln=we.sub||we.user_id;if(!ln)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${dt}`,aud:dt,iat:Qe,exp:Qe+3600,auth_time:Qe,sub:ln,user_id:ln,firebase:{sign_in_provider:"custom",identities:{}}},we);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(Be)),""].join(".")}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function lt(){var we;const be=null===(we=Qt())||void 0===we?void 0:we.forceEnvironment;if("node"===be)return!0;if("browser"===be)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Zt(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tt(){const we=Nt();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function Wt(){try{return"object"==typeof indexedDB}catch{return!1}}function Vt(){return new Promise((we,be)=>{try{let Ve=!0;const dt="validate-browser-context-for-indexeddb-analytics-module",Qe=self.indexedDB.open(dt);Qe.onsuccess=()=>{Qe.result.close(),Ve||self.indexedDB.deleteDatabase(dt),we(!0)},Qe.onupgradeneeded=()=>{Ve=!1},Qe.onerror=()=>{var ln;be((null===(ln=Qe.error)||void 0===ln?void 0:ln.message)||"")}}catch(Ve){be(Ve)}})}function pn(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class jt extends Error{constructor(be,Ve,dt){super(Ve),this.code=be,this.customData=dt,this.name="FirebaseError",Object.setPrototypeOf(this,jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(be,Ve,dt){this.service=be,this.serviceName=Ve,this.errors=dt}create(be,...Ve){const dt=Ve[0]||{},Qe=`${this.service}/${be}`,ln=this.errors[be],Be=ln?function et(we,be){return we.replace(Tt,(Ve,dt)=>{const Qe=be[dt];return null!=Qe?String(Qe):`<${dt}?>`})}(ln,dt):"Error";return new jt(Qe,`${this.serviceName}: ${Be} (${Qe}).`,dt)}}const Tt=/\{\$([^}]+)}/g;function Di(we){for(const be in we)if(Object.prototype.hasOwnProperty.call(we,be))return!1;return!0}function di(we,be){if(we===be)return!0;const Ve=Object.keys(we),dt=Object.keys(be);for(const Qe of Ve){if(!dt.includes(Qe))return!1;const ln=we[Qe],Be=be[Qe];if(gi(ln)&&gi(Be)){if(!di(ln,Be))return!1}else if(ln!==Be)return!1}for(const Qe of dt)if(!Ve.includes(Qe))return!1;return!0}function gi(we){return null!==we&&"object"==typeof we}function Ti(we){const be=[];for(const[Ve,dt]of Object.entries(we))Array.isArray(dt)?dt.forEach(Qe=>{be.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Qe))}):be.push(encodeURIComponent(Ve)+"="+encodeURIComponent(dt));return be.length?"&"+be.join("&"):""}function lr(we){const be={};return we.replace(/^\?/,"").split("&").forEach(dt=>{if(dt){const[Qe,ln]=dt.split("=");be[decodeURIComponent(Qe)]=decodeURIComponent(ln)}}),be}function xt(we){const be=we.indexOf("?");if(!be)return"";const Ve=we.indexOf("#",be);return we.substring(be,Ve>0?Ve:void 0)}function Rt(we,be){const Ve=new zt(we,be);return Ve.subscribe.bind(Ve)}class zt{constructor(be,Ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ve,this.task.then(()=>{be(this)}).catch(dt=>{this.error(dt)})}next(be){this.forEachObserver(Ve=>{Ve.next(be)})}error(be){this.forEachObserver(Ve=>{Ve.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,Ve,dt){let Qe;if(void 0===be&&void 0===Ve&&void 0===dt)throw new Error("Missing Observer.");Qe=function ti(we,be){if("object"!=typeof we||null===we)return!1;for(const Ve of be)if(Ve in we&&"function"==typeof we[Ve])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:Ve,complete:dt},void 0===Qe.next&&(Qe.next=Gn),void 0===Qe.error&&(Qe.error=Gn),void 0===Qe.complete&&(Qe.complete=Gn);const ln=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Qe.error(this.finalError):Qe.complete()}catch{}}),this.observers.push(Qe),ln}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let Ve=0;Ve<this.observers.length;Ve++)this.sendOne(Ve,be)}sendOne(be,Ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{Ve(this.observers[be])}catch(dt){typeof console<"u"&&console.error&&console.error(dt)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}const Ut=1e3,De=2,ve=144e5,ge=.5;function fe(we,be=Ut,Ve=De){const dt=be*Math.pow(Ve,we),Qe=Math.round(ge*dt*(Math.random()-.5)*2);return Math.min(ve,dt+Qe)}function Mt(we){return we&&we._delegate?we._delegate:we}},352:(bn,ot,B)=>{B.d(ot,{H:()=>p});var p=(()=>{return(f=p||(p={})).USER="USER",f.ADMIN="ADMIN",p;var f})()},4998:(bn,ot,B)=>{B.d(ot,{B:()=>Pe});var p=B(7579);var le=B(1571),Ne=B(529);let Pe=(()=>{class _e{constructor(Ae){this.http=Ae,this.isUserLogin$=new p.x,this.url="http://localhost:3000",this.api={auth:`${this.url}/auth`}}login(Ae){return this.http.get(`${this.api.auth}?email=${Ae.email}&password=${Ae.password}`)}}return _e.\u0275fac=function(Ae){return new(Ae||_e)(le.LFG(Ne.eN))},_e.\u0275prov=le.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})()},608:(bn,ot,B)=>{B.d(ot,{H:()=>Ne});var p=B(89),f=B(5525),le=B(1571);let Ne=(()=>{class Pe{constructor(Ie){this.afs=Ie,this.categoryCollection=(0,f.hJ)(this.afs,"categories")}getAllFirebase(){return(0,p.BS)(this.categoryCollection,{idField:"id"})}getOneFirebase(Ie){const Ae=(0,p.JU)(this.afs,`categories/${Ie}`);return(0,p._1)(Ae,{idField:"id"})}createFirebase(Ie){return(0,p.ET)(this.categoryCollection,Ie)}updateFirebase(Ie,Ae){const Ge=(0,p.JU)(this.afs,`categories/${Ae}`);return(0,p.r7)(Ge,{...Ie})}deleteFirebase(Ie){const Ae=(0,p.JU)(this.afs,`categories/${Ie}`);return(0,p.oe)(Ae)}}return Pe.\u0275fac=function(Ie){return new(Ie||Pe)(le.LFG(p.gg))},Pe.\u0275prov=le.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()},303:(bn,ot,B)=>{B.d(ot,{p:()=>le});var p=B(7579),f=B(1571);let le=(()=>{class Ne{constructor(){this.changeBasket=new p.x}}return Ne.\u0275fac=function(_e){return new(_e||Ne)},Ne.\u0275prov=f.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},9424:(bn,ot,B)=>{B.d(ot,{m:()=>Pn});var p=B(3903),f=B(9549),Ne=(B(3353),B(1571));let Ge=(()=>{class Me{}return Me.\u0275fac=function(Oe){return new(Oe||Me)},Me.\u0275mod=Ne.oAB({type:Me}),Me.\u0275inj=Ne.cJS({}),Me})();var ce=B(3238);let Ht=(()=>{class Me{}return Me.\u0275fac=function(Oe){return new(Oe||Me)},Me.\u0275mod=Ne.oAB({type:Me}),Me.\u0275inj=Ne.cJS({imports:[ce.BQ,f.lN,f.lN,Ge,ce.BQ]}),Me})();var Qt=B(433);const gn=[p.Is,f.lN,Ht];let Pn=(()=>{class Me{}return Me.\u0275fac=function(Oe){return new(Oe||Me)},Me.\u0275mod=Ne.oAB({type:Me}),Me.\u0275inj=Ne.cJS({imports:[gn,Qt.u5,Qt.UX,p.Is,f.lN,Ht,Qt.u5,Qt.UX]}),Me})()},7143:(bn,ot,B)=>{var p=B(1481),f=B(1571),le=B(7340);function Pe(H){return new f.vHH(3e3,!1)}function et(){return typeof window<"u"&&typeof window.document<"u"}function Tt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function un(H){switch(H.length){case 0:return new le.ZN;case 1:return H[0];default:return new le.ZE(H)}}function fi(H,v,b,P,W=new Map,ue=new Map){const ye=[],Ke=[];let ut=-1,Ft=null;if(P.forEach(Cn=>{const Mn=Cn.get("offset"),ki=Mn==ut,vi=ki&&Ft||new Map;Cn.forEach((ri,mi)=>{let Ei=mi,Bi=ri;if("offset"!==mi)switch(Ei=v.normalizePropertyName(Ei,ye),Bi){case le.k1:Bi=W.get(mi);break;case le.l3:Bi=ue.get(mi);break;default:Bi=v.normalizeStyleValue(mi,Ei,Bi,ye)}vi.set(Ei,Bi)}),ki||Ke.push(vi),Ft=vi,ut=Mn}),ye.length)throw function Zt(H){return new f.vHH(3502,!1)}();return Ke}function an(H,v,b,P){switch(v){case"start":H.onStart(()=>P(b&&dn(b,"start",H)));break;case"done":H.onDone(()=>P(b&&dn(b,"done",H)));break;case"destroy":H.onDestroy(()=>P(b&&dn(b,"destroy",H)))}}function dn(H,v,b){const ue=Un(H.element,H.triggerName,H.fromState,H.toState,v||H.phaseName,b.totalTime??H.totalTime,!!b.disabled),ye=H._data;return null!=ye&&(ue._data=ye),ue}function Un(H,v,b,P,W="",ue=0,ye){return{element:H,triggerName:v,fromState:b,toState:P,phaseName:W,totalTime:ue,disabled:!!ye}}function Bn(H,v,b){let P=H.get(v);return P||H.set(v,P=b),P}function ci(H){const v=H.indexOf(":");return[H.substring(1,v),H.slice(v+1)]}let Qn=(H,v)=>!1,wn=(H,v,b)=>[],Di=null;function Jn(H){const v=H.parentNode||H.host;return v===Di?null:v}(Tt()||typeof Element<"u")&&(et()?(Di=(()=>document.documentElement)(),Qn=(H,v)=>{for(;v;){if(v===H)return!0;v=Jn(v)}return!1}):Qn=(H,v)=>H.contains(v),wn=(H,v,b)=>{if(b)return Array.from(H.querySelectorAll(v));const P=H.querySelector(v);return P?[P]:[]});let Wn=null,Ti=!1;const Rt=Qn,zt=wn;let ti=(()=>{class H{validateStyleProperty(b){return function lr(H){Wn||(Wn=function yn(){return typeof document<"u"?document.body:null}()||{},Ti=!!Wn.style&&"WebkitAppearance"in Wn.style);let v=!0;return Wn.style&&!function gi(H){return"ebkit"==H.substring(1,6)}(H)&&(v=H in Wn.style,!v&&Ti&&(v="Webkit"+H.charAt(0).toUpperCase()+H.slice(1)in Wn.style)),v}(b)}matchesElement(b,P){return!1}containsElement(b,P){return Rt(b,P)}getParentElement(b){return Jn(b)}query(b,P,W){return zt(b,P,W)}computeStyle(b,P,W){return W||""}animate(b,P,W,ue,ye,Ke=[],ut){return new le.ZN(W,ue)}}return H.\u0275fac=function(b){return new(b||H)},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac}),H})(),Gn=(()=>{class H{}return H.NOOP=new ti,H})();const Fi=1e3,xn="ng-enter",si="ng-leave",pr="ng-trigger",oi=".ng-trigger",Ar="ng-animating",Ut=".ng-animating";function De(H){if("number"==typeof H)return H;const v=H.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:ve(parseFloat(v[1]),v[2])}function ve(H,v){return"s"===v?H*Fi:H}function ge(H,v,b){return H.hasOwnProperty("duration")?H:function fe(H,v,b){let W,ue=0,ye="";if("string"==typeof H){const Ke=H.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ke)return v.push(Pe()),{duration:0,delay:0,easing:""};W=ve(parseFloat(Ke[1]),Ke[2]);const ut=Ke[3];null!=ut&&(ue=ve(parseFloat(ut),Ke[4]));const Ft=Ke[5];Ft&&(ye=Ft)}else W=H;if(!b){let Ke=!1,ut=v.length;W<0&&(v.push(function _e(){return new f.vHH(3100,!1)}()),Ke=!0),ue<0&&(v.push(function Ie(){return new f.vHH(3101,!1)}()),Ke=!0),Ke&&v.splice(ut,0,Pe())}return{duration:W,delay:ue,easing:ye}}(H,v,b)}function Te(H,v={}){return Object.keys(H).forEach(b=>{v[b]=H[b]}),v}function at(H){const v=new Map;return Object.keys(H).forEach(b=>{v.set(b,H[b])}),v}function be(H,v=new Map,b){if(b)for(let[P,W]of b)v.set(P,W);for(let[P,W]of H)v.set(P,W);return v}function Ve(H,v,b){return b?v+":"+b+";":""}function dt(H){let v="";for(let b=0;b<H.style.length;b++){const P=H.style.item(b);v+=Ve(0,P,H.style.getPropertyValue(P))}for(const b in H.style)H.style.hasOwnProperty(b)&&!b.startsWith("_")&&(v+=Ve(0,nt(b),H.style[b]));H.setAttribute("style",v)}function Qe(H,v,b){H.style&&(v.forEach((P,W)=>{const ue=ze(W);b&&!b.has(W)&&b.set(W,H.style[ue]),H.style[ue]=P}),Tt()&&dt(H))}function ln(H,v){H.style&&(v.forEach((b,P)=>{const W=ze(P);H.style[W]=""}),Tt()&&dt(H))}function Be(H){return Array.isArray(H)?1==H.length?H[0]:(0,le.vP)(H):H}const me=new RegExp("{{\\s*(.+?)\\s*}}","g");function ie(H){let v=[];if("string"==typeof H){let b;for(;b=me.exec(H);)v.push(b[1]);me.lastIndex=0}return v}function te(H,v,b){const P=H.toString(),W=P.replace(me,(ue,ye)=>{let Ke=v[ye];return null==Ke&&(b.push(function Ge(H){return new f.vHH(3003,!1)}()),Ke=""),Ke.toString()});return W==P?H:W}function re(H){const v=[];let b=H.next();for(;!b.done;)v.push(b.value),b=H.next();return v}const $e=/-+([a-z0-9])/g;function ze(H){return H.replace($e,(...v)=>v[1].toUpperCase())}function nt(H){return H.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ni(H,v,b){switch(v.type){case 7:return H.visitTrigger(v,b);case 0:return H.visitState(v,b);case 1:return H.visitTransition(v,b);case 2:return H.visitSequence(v,b);case 3:return H.visitGroup(v,b);case 4:return H.visitAnimate(v,b);case 5:return H.visitKeyframes(v,b);case 6:return H.visitStyle(v,b);case 8:return H.visitReference(v,b);case 9:return H.visitAnimateChild(v,b);case 10:return H.visitAnimateRef(v,b);case 11:return H.visitQuery(v,b);case 12:return H.visitStagger(v,b);default:throw function ce(H){return new f.vHH(3004,!1)}()}}function Hi(H,v){return window.getComputedStyle(H)[v]}const as="*";function _i(H,v){const b=[];return"string"==typeof H?H.split(/\s*,\s*/).forEach(P=>function wi(H,v,b){if(":"==H[0]){const ut=function wr(H,v){switch(H){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(b,P)=>parseFloat(P)>parseFloat(b);case":decrement":return(b,P)=>parseFloat(P)<parseFloat(b);default:return v.push(function Nt(H){return new f.vHH(3016,!1)}()),"* => *"}}(H,b);if("function"==typeof ut)return void v.push(ut);H=ut}const P=H.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return b.push(function ct(H){return new f.vHH(3015,!1)}()),v;const W=P[1],ue=P[2],ye=P[3];v.push(ms(W,ye));"<"==ue[0]&&!(W==as&&ye==as)&&v.push(ms(ye,W))}(P,b,v)):b.push(H),b}const Jr=new Set(["true","1"]),xi=new Set(["false","0"]);function ms(H,v){const b=Jr.has(H)||xi.has(H),P=Jr.has(v)||xi.has(v);return(W,ue)=>{let ye=H==as||H==W,Ke=v==as||v==ue;return!ye&&b&&"boolean"==typeof W&&(ye=W?Jr.has(H):xi.has(H)),!Ke&&P&&"boolean"==typeof ue&&(Ke=ue?Jr.has(v):xi.has(v)),ye&&Ke}}const Ri=new RegExp("s*:selfs*,?","g");function yr(H,v,b,P){return new He(H).build(v,b,P)}class He{constructor(v){this._driver=v}build(v,b,P){const W=new Yt(b);return this._resetContextStyleTimingState(W),ni(this,Be(v),W)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,b){let P=b.queryCount=0,W=b.depCount=0;const ue=[],ye=[];return"@"==v.name.charAt(0)&&b.errors.push(function Ze(){return new f.vHH(3006,!1)}()),v.definitions.forEach(Ke=>{if(this._resetContextStyleTimingState(b),0==Ke.type){const ut=Ke,Ft=ut.name;Ft.toString().split(/\s*,\s*/).forEach(Cn=>{ut.name=Cn,ue.push(this.visitState(ut,b))}),ut.name=Ft}else if(1==Ke.type){const ut=this.visitTransition(Ke,b);P+=ut.queryCount,W+=ut.depCount,ye.push(ut)}else b.errors.push(function Dt(){return new f.vHH(3007,!1)}())}),{type:7,name:v.name,states:ue,transitions:ye,queryCount:P,depCount:W,options:null}}visitState(v,b){const P=this.visitStyle(v.styles,b),W=v.options&&v.options.params||null;if(P.containsDynamicStyles){const ue=new Set,ye=W||{};P.styles.forEach(Ke=>{Ke instanceof Map&&Ke.forEach(ut=>{ie(ut).forEach(Ft=>{ye.hasOwnProperty(Ft)||ue.add(Ft)})})}),ue.size&&(re(ue.values()),b.errors.push(function gt(H,v){return new f.vHH(3008,!1)}()))}return{type:0,name:v.name,style:P,options:W?{params:W}:null}}visitTransition(v,b){b.queryCount=0,b.depCount=0;const P=ni(this,Be(v.animation),b);return{type:1,matchers:_i(v.expr,b.errors),animation:P,queryCount:b.queryCount,depCount:b.depCount,options:On(v.options)}}visitSequence(v,b){return{type:2,steps:v.steps.map(P=>ni(this,P,b)),options:On(v.options)}}visitGroup(v,b){const P=b.currentTime;let W=0;const ue=v.steps.map(ye=>{b.currentTime=P;const Ke=ni(this,ye,b);return W=Math.max(W,b.currentTime),Ke});return b.currentTime=W,{type:3,steps:ue,options:On(v.options)}}visitAnimate(v,b){const P=function Xn(H,v){if(H.hasOwnProperty("duration"))return H;if("number"==typeof H)return pi(ge(H,v).duration,0,"");const b=H;if(b.split(/\s+/).some(ue=>"{"==ue.charAt(0)&&"{"==ue.charAt(1))){const ue=pi(0,0,"");return ue.dynamic=!0,ue.strValue=b,ue}const W=ge(b,v);return pi(W.duration,W.delay,W.easing)}(v.timings,b.errors);b.currentAnimateTimings=P;let W,ue=v.styles?v.styles:(0,le.oB)({});if(5==ue.type)W=this.visitKeyframes(ue,b);else{let ye=v.styles,Ke=!1;if(!ye){Ke=!0;const Ft={};P.easing&&(Ft.easing=P.easing),ye=(0,le.oB)(Ft)}b.currentTime+=P.duration+P.delay;const ut=this.visitStyle(ye,b);ut.isEmptyStep=Ke,W=ut}return b.currentAnimateTimings=null,{type:4,timings:P,style:W,options:null}}visitStyle(v,b){const P=this._makeStyleAst(v,b);return this._validateStyleAst(P,b),P}_makeStyleAst(v,b){const P=[],W=Array.isArray(v.styles)?v.styles:[v.styles];for(let Ke of W)"string"==typeof Ke?Ke===le.l3?P.push(Ke):b.errors.push(new f.vHH(3002,!1)):P.push(at(Ke));let ue=!1,ye=null;return P.forEach(Ke=>{if(Ke instanceof Map&&(Ke.has("easing")&&(ye=Ke.get("easing"),Ke.delete("easing")),!ue))for(let ut of Ke.values())if(ut.toString().indexOf("{{")>=0){ue=!0;break}}),{type:6,styles:P,easing:ye,offset:v.offset,containsDynamicStyles:ue,options:null}}_validateStyleAst(v,b){const P=b.currentAnimateTimings;let W=b.currentTime,ue=b.currentTime;P&&ue>0&&(ue-=P.duration+P.delay),v.styles.forEach(ye=>{"string"!=typeof ye&&ye.forEach((Ke,ut)=>{const Ft=b.collectedStyles.get(b.currentQuerySelector),Cn=Ft.get(ut);let Mn=!0;Cn&&(ue!=W&&ue>=Cn.startTime&&W<=Cn.endTime&&(b.errors.push(function Ht(H,v,b,P,W){return new f.vHH(3010,!1)}()),Mn=!1),ue=Cn.startTime),Mn&&Ft.set(ut,{startTime:ue,endTime:W}),b.options&&function Re(H,v,b){const P=v.params||{},W=ie(H);W.length&&W.forEach(ue=>{P.hasOwnProperty(ue)||b.push(function Ae(H){return new f.vHH(3001,!1)}())})}(Ke,b.options,b.errors)})})}visitKeyframes(v,b){const P={type:5,styles:[],options:null};if(!b.currentAnimateTimings)return b.errors.push(function Qt(){return new f.vHH(3011,!1)}()),P;let ue=0;const ye=[];let Ke=!1,ut=!1,Ft=0;const Cn=v.steps.map(Bi=>{const is=this._makeStyleAst(Bi,b);let fs=null!=is.offset?is.offset:function cn(H){if("string"==typeof H)return null;let v=null;if(Array.isArray(H))H.forEach(b=>{if(b instanceof Map&&b.has("offset")){const P=b;v=parseFloat(P.get("offset")),P.delete("offset")}});else if(H instanceof Map&&H.has("offset")){const b=H;v=parseFloat(b.get("offset")),b.delete("offset")}return v}(is.styles),xr=0;return null!=fs&&(ue++,xr=is.offset=fs),ut=ut||xr<0||xr>1,Ke=Ke||xr<Ft,Ft=xr,ye.push(xr),is});ut&&b.errors.push(function gn(){return new f.vHH(3012,!1)}()),Ke&&b.errors.push(function Pn(){return new f.vHH(3200,!1)}());const Mn=v.steps.length;let ki=0;ue>0&&ue<Mn?b.errors.push(function Me(){return new f.vHH(3202,!1)}()):0==ue&&(ki=1/(Mn-1));const vi=Mn-1,ri=b.currentTime,mi=b.currentAnimateTimings,Ei=mi.duration;return Cn.forEach((Bi,is)=>{const fs=ki>0?is==vi?1:ki*is:ye[is],xr=fs*Ei;b.currentTime=ri+mi.delay+xr,mi.duration=xr,this._validateStyleAst(Bi,b),Bi.offset=fs,P.styles.push(Bi)}),P}visitReference(v,b){return{type:8,animation:ni(this,Be(v.animation),b),options:On(v.options)}}visitAnimateChild(v,b){return b.depCount++,{type:9,options:On(v.options)}}visitAnimateRef(v,b){return{type:10,animation:this.visitReference(v.animation,b),options:On(v.options)}}visitQuery(v,b){const P=b.currentQuerySelector,W=v.options||{};b.queryCount++,b.currentQuery=v;const[ue,ye]=function Xe(H){const v=!!H.split(/\s*,\s*/).find(b=>":self"==b);return v&&(H=H.replace(Ri,"")),H=H.replace(/@\*/g,oi).replace(/@\w+/g,b=>oi+"-"+b.slice(1)).replace(/:animating/g,Ut),[H,v]}(v.selector);b.currentQuerySelector=P.length?P+" "+ue:ue,Bn(b.collectedStyles,b.currentQuerySelector,new Map);const Ke=ni(this,Be(v.animation),b);return b.currentQuery=null,b.currentQuerySelector=P,{type:11,selector:ue,limit:W.limit||0,optional:!!W.optional,includeSelf:ye,animation:Ke,originalSelector:v.selector,options:On(v.options)}}visitStagger(v,b){b.currentQuery||b.errors.push(function Ce(){return new f.vHH(3013,!1)}());const P="full"===v.timings?{duration:0,delay:0,easing:"full"}:ge(v.timings,b.errors,!0);return{type:12,animation:ni(this,Be(v.animation),b),timings:P,options:null}}}class Yt{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function On(H){return H?(H=Te(H)).params&&(H.params=function Ot(H){return H?Te(H):null}(H.params)):H={},H}function pi(H,v,b){return{duration:H,delay:v,easing:b}}function gr(H,v,b,P,W,ue,ye=null,Ke=!1){return{type:1,element:H,keyframes:v,preStyleProps:b,postStyleProps:P,duration:W,delay:ue,totalTime:W+ue,easing:ye,subTimeline:Ke}}class Yn{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,b){let P=this._map.get(v);P||this._map.set(v,P=[]),P.push(...b)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const eo=new RegExp(":enter","g"),Gr=new RegExp(":leave","g");function to(H,v,b,P,W,ue=new Map,ye=new Map,Ke,ut,Ft=[]){return(new Ur).buildKeyframes(H,v,b,P,W,ue,ye,Ke,ut,Ft)}class Ur{buildKeyframes(v,b,P,W,ue,ye,Ke,ut,Ft,Cn=[]){Ft=Ft||new Yn;const Mn=new Fr(v,b,Ft,W,ue,Cn,[]);Mn.options=ut;const ki=ut.delay?De(ut.delay):0;Mn.currentTimeline.delayNextStep(ki),Mn.currentTimeline.setStyles([ye],null,Mn.errors,ut),ni(this,P,Mn);const vi=Mn.timelines.filter(ri=>ri.containsAnimation());if(vi.length&&Ke.size){let ri;for(let mi=vi.length-1;mi>=0;mi--){const Ei=vi[mi];if(Ei.element===b){ri=Ei;break}}ri&&!ri.allowOnlyTimelineStyles()&&ri.setStyles([Ke],null,Mn.errors,ut)}return vi.length?vi.map(ri=>ri.buildKeyframes()):[gr(b,[],[],[],0,ki,"",!1)]}visitTrigger(v,b){}visitState(v,b){}visitTransition(v,b){}visitAnimateChild(v,b){const P=b.subInstructions.get(b.element);if(P){const W=b.createSubContext(v.options),ue=b.currentTimeline.currentTime,ye=this._visitSubInstructions(P,W,W.options);ue!=ye&&b.transformIntoNewTimeline(ye)}b.previousNode=v}visitAnimateRef(v,b){const P=b.createSubContext(v.options);P.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],b,P),this.visitReference(v.animation,P),b.transformIntoNewTimeline(P.currentTimeline.currentTime),b.previousNode=v}_applyAnimationRefDelays(v,b,P){for(const W of v){const ue=W?.delay;if(ue){const ye="number"==typeof ue?ue:De(te(ue,W?.params??{},b.errors));P.delayNextStep(ye)}}}_visitSubInstructions(v,b,P){let ue=b.currentTimeline.currentTime;const ye=null!=P.duration?De(P.duration):null,Ke=null!=P.delay?De(P.delay):null;return 0!==ye&&v.forEach(ut=>{const Ft=b.appendInstructionToTimeline(ut,ye,Ke);ue=Math.max(ue,Ft.duration+Ft.delay)}),ue}visitReference(v,b){b.updateOptions(v.options,!0),ni(this,v.animation,b),b.previousNode=v}visitSequence(v,b){const P=b.subContextCount;let W=b;const ue=v.options;if(ue&&(ue.params||ue.delay)&&(W=b.createSubContext(ue),W.transformIntoNewTimeline(),null!=ue.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=cr);const ye=De(ue.delay);W.delayNextStep(ye)}v.steps.length&&(v.steps.forEach(ye=>ni(this,ye,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>P&&W.transformIntoNewTimeline()),b.previousNode=v}visitGroup(v,b){const P=[];let W=b.currentTimeline.currentTime;const ue=v.options&&v.options.delay?De(v.options.delay):0;v.steps.forEach(ye=>{const Ke=b.createSubContext(v.options);ue&&Ke.delayNextStep(ue),ni(this,ye,Ke),W=Math.max(W,Ke.currentTimeline.currentTime),P.push(Ke.currentTimeline)}),P.forEach(ye=>b.currentTimeline.mergeTimelineCollectedStyles(ye)),b.transformIntoNewTimeline(W),b.previousNode=v}_visitTiming(v,b){if(v.dynamic){const P=v.strValue;return ge(b.params?te(P,b.params,b.errors):P,b.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,b){const P=b.currentAnimateTimings=this._visitTiming(v.timings,b),W=b.currentTimeline;P.delay&&(b.incrementTime(P.delay),W.snapshotCurrentStyles());const ue=v.style;5==ue.type?this.visitKeyframes(ue,b):(b.incrementTime(P.duration),this.visitStyle(ue,b),W.applyStylesToKeyframe()),b.currentAnimateTimings=null,b.previousNode=v}visitStyle(v,b){const P=b.currentTimeline,W=b.currentAnimateTimings;!W&&P.hasCurrentStyleProperties()&&P.forwardFrame();const ue=W&&W.easing||v.easing;v.isEmptyStep?P.applyEmptyStep(ue):P.setStyles(v.styles,ue,b.errors,b.options),b.previousNode=v}visitKeyframes(v,b){const P=b.currentAnimateTimings,W=b.currentTimeline.duration,ue=P.duration,Ke=b.createSubContext().currentTimeline;Ke.easing=P.easing,v.styles.forEach(ut=>{Ke.forwardTime((ut.offset||0)*ue),Ke.setStyles(ut.styles,ut.easing,b.errors,b.options),Ke.applyStylesToKeyframe()}),b.currentTimeline.mergeTimelineCollectedStyles(Ke),b.transformIntoNewTimeline(W+ue),b.previousNode=v}visitQuery(v,b){const P=b.currentTimeline.currentTime,W=v.options||{},ue=W.delay?De(W.delay):0;ue&&(6===b.previousNode.type||0==P&&b.currentTimeline.hasCurrentStyleProperties())&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=cr);let ye=P;const Ke=b.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!W.optional,b.errors);b.currentQueryTotal=Ke.length;let ut=null;Ke.forEach((Ft,Cn)=>{b.currentQueryIndex=Cn;const Mn=b.createSubContext(v.options,Ft);ue&&Mn.delayNextStep(ue),Ft===b.element&&(ut=Mn.currentTimeline),ni(this,v.animation,Mn),Mn.currentTimeline.applyStylesToKeyframe(),ye=Math.max(ye,Mn.currentTimeline.currentTime)}),b.currentQueryIndex=0,b.currentQueryTotal=0,b.transformIntoNewTimeline(ye),ut&&(b.currentTimeline.mergeTimelineCollectedStyles(ut),b.currentTimeline.snapshotCurrentStyles()),b.previousNode=v}visitStagger(v,b){const P=b.parentContext,W=b.currentTimeline,ue=v.timings,ye=Math.abs(ue.duration),Ke=ye*(b.currentQueryTotal-1);let ut=ye*b.currentQueryIndex;switch(ue.duration<0?"reverse":ue.easing){case"reverse":ut=Ke-ut;break;case"full":ut=P.currentStaggerTime}const Cn=b.currentTimeline;ut&&Cn.delayNextStep(ut);const Mn=Cn.currentTime;ni(this,v.animation,b),b.previousNode=v,P.currentStaggerTime=W.currentTime-Mn+(W.startTime-P.currentTimeline.startTime)}}const cr={};class Fr{constructor(v,b,P,W,ue,ye,Ke,ut){this._driver=v,this.element=b,this.subInstructions=P,this._enterClassName=W,this._leaveClassName=ue,this.errors=ye,this.timelines=Ke,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ut||new Cr(this._driver,b,0),Ke.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,b){if(!v)return;const P=v;let W=this.options;null!=P.duration&&(W.duration=De(P.duration)),null!=P.delay&&(W.delay=De(P.delay));const ue=P.params;if(ue){let ye=W.params;ye||(ye=this.options.params={}),Object.keys(ue).forEach(Ke=>{(!b||!ye.hasOwnProperty(Ke))&&(ye[Ke]=te(ue[Ke],ye,this.errors))})}}_copyOptions(){const v={};if(this.options){const b=this.options.params;if(b){const P=v.params={};Object.keys(b).forEach(W=>{P[W]=b[W]})}}return v}createSubContext(v=null,b,P){const W=b||this.element,ue=new Fr(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,P||0));return ue.previousNode=this.previousNode,ue.currentAnimateTimings=this.currentAnimateTimings,ue.options=this._copyOptions(),ue.updateOptions(v),ue.currentQueryIndex=this.currentQueryIndex,ue.currentQueryTotal=this.currentQueryTotal,ue.parentContext=this,this.subContextCount++,ue}transformIntoNewTimeline(v){return this.previousNode=cr,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,b,P){const W={duration:b??v.duration,delay:this.currentTimeline.currentTime+(P??0)+v.delay,easing:""},ue=new Si(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,W,v.stretchStartingKeyframe);return this.timelines.push(ue),W}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,b,P,W,ue,ye){let Ke=[];if(W&&Ke.push(this.element),v.length>0){v=(v=v.replace(eo,"."+this._enterClassName)).replace(Gr,"."+this._leaveClassName);let Ft=this._driver.query(this.element,v,1!=P);0!==P&&(Ft=P<0?Ft.slice(Ft.length+P,Ft.length):Ft.slice(0,P)),Ke.push(...Ft)}return!ue&&0==Ke.length&&ye.push(function Oe(H){return new f.vHH(3014,!1)}()),Ke}}class Cr{constructor(v,b,P,W){this._driver=v,this.element=b,this.startTime=P,this._elementTimelineStylesLookup=W,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(b),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(b,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const b=1===this._keyframes.size&&this._pendingStyles.size;this.duration||b?(this.forwardTime(this.currentTime+v),b&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,b){return this.applyStylesToKeyframe(),new Cr(this._driver,v,b||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,b){this._localTimelineStyles.set(v,b),this._globalTimelineStyles.set(v,b),this._styleSummary.set(v,{time:this.currentTime,value:b})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[b,P]of this._globalTimelineStyles)this._backFill.set(b,P||le.l3),this._currentKeyframe.set(b,le.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,b,P,W){b&&this._previousKeyframe.set("easing",b);const ue=W&&W.params||{},ye=function no(H,v){const b=new Map;let P;return H.forEach(W=>{if("*"===W){P=P||v.keys();for(let ue of P)b.set(ue,le.l3)}else be(W,b)}),b}(v,this._globalTimelineStyles);for(let[Ke,ut]of ye){const Ft=te(ut,ue,P);this._pendingStyles.set(Ke,Ft),this._localTimelineStyles.has(Ke)||this._backFill.set(Ke,this._globalTimelineStyles.get(Ke)??le.l3),this._updateStyle(Ke,Ft)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,b)=>{this._currentKeyframe.set(b,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,b)=>{this._currentKeyframe.has(b)||this._currentKeyframe.set(b,v)}))}snapshotCurrentStyles(){for(let[v,b]of this._localTimelineStyles)this._pendingStyles.set(v,b),this._updateStyle(v,b)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let b in this._currentKeyframe)v.push(b);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((b,P)=>{const W=this._styleSummary.get(P);(!W||b.time>W.time)&&this._updateStyle(P,b.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,b=new Set,P=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((Ke,ut)=>{const Ft=be(Ke,new Map,this._backFill);Ft.forEach((Cn,Mn)=>{Cn===le.k1?v.add(Mn):Cn===le.l3&&b.add(Mn)}),P||Ft.set("offset",ut/this.duration),W.push(Ft)});const ue=v.size?re(v.values()):[],ye=b.size?re(b.values()):[];if(P){const Ke=W[0],ut=new Map(Ke);Ke.set("offset",0),ut.set("offset",1),W=[Ke,ut]}return gr(this.element,W,ue,ye,this.duration,this.startTime,this.easing,!1)}}class Si extends Cr{constructor(v,b,P,W,ue,ye,Ke=!1){super(v,b,ye.delay),this.keyframes=P,this.preStyleProps=W,this.postStyleProps=ue,this._stretchStartingKeyframe=Ke,this.timings={duration:ye.duration,delay:ye.delay,easing:ye.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:b,duration:P,easing:W}=this.timings;if(this._stretchStartingKeyframe&&b){const ue=[],ye=P+b,Ke=b/ye,ut=be(v[0]);ut.set("offset",0),ue.push(ut);const Ft=be(v[0]);Ft.set("offset",Dr(Ke)),ue.push(Ft);const Cn=v.length-1;for(let Mn=1;Mn<=Cn;Mn++){let ki=be(v[Mn]);const vi=ki.get("offset");ki.set("offset",Dr((b+vi*P)/ye)),ue.push(ki)}P=ye,b=0,W="",v=ue}return gr(this.element,v,this.preStyleProps,this.postStyleProps,P,b,W,!0)}}function Dr(H,v=3){const b=Math.pow(10,v-1);return Math.round(H*b)/b}class Bs{}const Us=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vr extends Bs{normalizePropertyName(v,b){return ze(v)}normalizeStyleValue(v,b,P,W){let ue="";const ye=P.toString().trim();if(Us.has(b)&&0!==P&&"0"!==P)if("number"==typeof P)ue="px";else{const Ke=P.match(/^[+-]?[\d\.]+([a-z]*)$/);Ke&&0==Ke[1].length&&W.push(function Se(H,v){return new f.vHH(3005,!1)}())}return ye+ue}}function Hs(H,v,b,P,W,ue,ye,Ke,ut,Ft,Cn,Mn,ki){return{type:0,element:H,triggerName:v,isRemovalTransition:W,fromState:b,fromStyles:ue,toState:P,toStyles:ye,timelines:Ke,queriedElements:ut,preStyleProps:Ft,postStyleProps:Cn,totalTime:Mn,errors:ki}}const ji={};class ir{constructor(v,b,P){this._triggerName=v,this.ast=b,this._stateStyles=P}match(v,b,P,W){return function ws(H,v,b,P,W){return H.some(ue=>ue(v,b,P,W))}(this.ast.matchers,v,b,P,W)}buildStyles(v,b,P){let W=this._stateStyles.get("*");return void 0!==v&&(W=this._stateStyles.get(v?.toString())||W),W?W.buildStyles(b,P):new Map}build(v,b,P,W,ue,ye,Ke,ut,Ft,Cn){const Mn=[],ki=this.ast.options&&this.ast.options.params||ji,ri=this.buildStyles(P,Ke&&Ke.params||ji,Mn),mi=ut&&ut.params||ji,Ei=this.buildStyles(W,mi,Mn),Bi=new Set,is=new Map,fs=new Map,xr="void"===W,Zr={params:Ui(mi,ki),delay:this.ast.options?.delay},mt=Cn?[]:to(v,b,this.ast.animation,ue,ye,ri,Ei,Zr,Ft,Mn);let Br=0;if(mt.forEach(Is=>{Br=Math.max(Is.duration+Is.delay,Br)}),Mn.length)return Hs(b,this._triggerName,P,W,xr,ri,Ei,[],[],is,fs,Br,Mn);mt.forEach(Is=>{const Js=Is.element,Fo=Bn(is,Js,new Set);Is.preStyleProps.forEach(lo=>Fo.add(lo));const ra=Bn(fs,Js,new Set);Is.postStyleProps.forEach(lo=>ra.add(lo)),Js!==b&&Bi.add(Js)});const ps=re(Bi.values());return Hs(b,this._triggerName,P,W,xr,ri,Ei,mt,ps,is,fs,Br)}}function Ui(H,v){const b=Te(v);for(const P in H)H.hasOwnProperty(P)&&null!=H[P]&&(b[P]=H[P]);return b}class ur{constructor(v,b,P){this.styles=v,this.defaultParams=b,this.normalizer=P}buildStyles(v,b){const P=new Map,W=Te(this.defaultParams);return Object.keys(v).forEach(ue=>{const ye=v[ue];null!==ye&&(W[ue]=ye)}),this.styles.styles.forEach(ue=>{"string"!=typeof ue&&ue.forEach((ye,Ke)=>{ye&&(ye=te(ye,W,b));const ut=this.normalizer.normalizePropertyName(Ke,b);ye=this.normalizer.normalizeStyleValue(Ke,ut,ye,b),P.set(Ke,ye)})}),P}}class gs{constructor(v,b,P){this.name=v,this.ast=b,this._normalizer=P,this.transitionFactories=[],this.states=new Map,b.states.forEach(W=>{this.states.set(W.name,new ur(W.style,W.options&&W.options.params||{},P))}),js(this.states,"true","1"),js(this.states,"false","0"),b.transitions.forEach(W=>{this.transitionFactories.push(new ir(v,W,this.states))}),this.fallbackTransition=function dr(H,v,b){return new ir(H,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ye,Ke)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,b,P,W){return this.transitionFactories.find(ye=>ye.match(v,b,P,W))||null}matchStyles(v,b,P){return this.fallbackTransition.buildStyles(v,b,P)}}function js(H,v,b){H.has(v)?H.has(b)||H.set(b,H.get(v)):H.has(b)&&H.set(v,H.get(b))}const ro=new Yn;class go{constructor(v,b,P){this.bodyNode=v,this._driver=b,this._normalizer=P,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,b){const P=[],W=[],ue=yr(this._driver,b,P,W);if(P.length)throw function wt(H){return new f.vHH(3503,!1)}();this._animations.set(v,ue)}_buildPlayer(v,b,P){const W=v.element,ue=fi(0,this._normalizer,0,v.keyframes,b,P);return this._driver.animate(W,ue,v.duration,v.delay,v.easing,[],!0)}create(v,b,P={}){const W=[],ue=this._animations.get(v);let ye;const Ke=new Map;if(ue?(ye=to(this._driver,b,ue,xn,si,new Map,new Map,P,ro,W),ye.forEach(Cn=>{const Mn=Bn(Ke,Cn.element,new Map);Cn.postStyleProps.forEach(ki=>Mn.set(ki,null))})):(W.push(function Xt(){return new f.vHH(3300,!1)}()),ye=[]),W.length)throw function tt(H){return new f.vHH(3504,!1)}();Ke.forEach((Cn,Mn)=>{Cn.forEach((ki,vi)=>{Cn.set(vi,this._driver.computeStyle(Mn,vi,le.l3))})});const Ft=un(ye.map(Cn=>{const Mn=Ke.get(Cn.element);return this._buildPlayer(Cn,new Map,Mn)}));return this._playersById.set(v,Ft),Ft.onDestroy(()=>this.destroy(v)),this.players.push(Ft),Ft}destroy(v){const b=this._getPlayer(v);b.destroy(),this._playersById.delete(v);const P=this.players.indexOf(b);P>=0&&this.players.splice(P,1)}_getPlayer(v){const b=this._playersById.get(v);if(!b)throw function st(H){return new f.vHH(3301,!1)}();return b}listen(v,b,P,W){const ue=Un(b,"","","");return an(this._getPlayer(v),P,ue,W),()=>{}}command(v,b,P,W){if("register"==P)return void this.register(v,W[0]);if("create"==P)return void this.create(v,b,W[0]||{});const ue=this._getPlayer(v);switch(P){case"play":ue.play();break;case"pause":ue.pause();break;case"reset":ue.reset();break;case"restart":ue.restart();break;case"finish":ue.finish();break;case"init":ue.init();break;case"setPosition":ue.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(v)}}}const Os="ng-animate-queued",Rs="ng-animate-disabled",To=[],us={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Io={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hr="__ng_removed";class so{get params(){return this.options.params}constructor(v,b=""){this.namespaceId=b;const P=v&&v.hasOwnProperty("value");if(this.value=function oo(H){return H??null}(P?v.value:v),P){const ue=Te(v);delete ue.value,this.options=ue}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const b=v.params;if(b){const P=this.options.params;Object.keys(b).forEach(W=>{null==P[W]&&(P[W]=b[W])})}}}const Ds="void",Ps=new so(Ds);class _s{constructor(v,b,P){this.id=v,this.hostElement=b,this._engine=P,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Vr(b,this._hostClassName)}listen(v,b,P,W){if(!this._triggers.has(b))throw function pt(H,v){return new f.vHH(3302,!1)}();if(null==P||0==P.length)throw function St(H){return new f.vHH(3303,!1)}();if(!function Po(H){return"start"==H||"done"==H}(P))throw function Wt(H,v){return new f.vHH(3400,!1)}();const ue=Bn(this._elementListeners,v,[]),ye={name:b,phase:P,callback:W};ue.push(ye);const Ke=Bn(this._engine.statesByElement,v,new Map);return Ke.has(b)||(Vr(v,pr),Vr(v,pr+"-"+b),Ke.set(b,Ps)),()=>{this._engine.afterFlush(()=>{const ut=ue.indexOf(ye);ut>=0&&ue.splice(ut,1),this._triggers.has(b)||Ke.delete(b)})}}register(v,b){return!this._triggers.has(v)&&(this._triggers.set(v,b),!0)}_getTrigger(v){const b=this._triggers.get(v);if(!b)throw function Vt(H){return new f.vHH(3401,!1)}();return b}trigger(v,b,P,W=!0){const ue=this._getTrigger(b),ye=new Lr(this.id,b,v);let Ke=this._engine.statesByElement.get(v);Ke||(Vr(v,pr),Vr(v,pr+"-"+b),this._engine.statesByElement.set(v,Ke=new Map));let ut=Ke.get(b);const Ft=new so(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&ut&&Ft.absorbOptions(ut.options),Ke.set(b,Ft),ut||(ut=Ps),Ft.value!==Ds&&ut.value===Ft.value){if(!function de(H,v){const b=Object.keys(H),P=Object.keys(v);if(b.length!=P.length)return!1;for(let W=0;W<b.length;W++){const ue=b[W];if(!v.hasOwnProperty(ue)||H[ue]!==v[ue])return!1}return!0}(ut.params,Ft.params)){const mi=[],Ei=ue.matchStyles(ut.value,ut.params,mi),Bi=ue.matchStyles(Ft.value,Ft.params,mi);mi.length?this._engine.reportError(mi):this._engine.afterFlush(()=>{ln(v,Ei),Qe(v,Bi)})}return}const ki=Bn(this._engine.playersByElement,v,[]);ki.forEach(mi=>{mi.namespaceId==this.id&&mi.triggerName==b&&mi.queued&&mi.destroy()});let vi=ue.matchTransition(ut.value,Ft.value,v,Ft.params),ri=!1;if(!vi){if(!W)return;vi=ue.fallbackTransition,ri=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:b,transition:vi,fromState:ut,toState:Ft,player:ye,isFallbackTransition:ri}),ri||(Vr(v,Os),ye.onStart(()=>{Wr(v,Os)})),ye.onDone(()=>{let mi=this.players.indexOf(ye);mi>=0&&this.players.splice(mi,1);const Ei=this._engine.playersByElement.get(v);if(Ei){let Bi=Ei.indexOf(ye);Bi>=0&&Ei.splice(Bi,1)}}),this.players.push(ye),ki.push(ye),ye}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(b=>b.delete(v)),this._elementListeners.forEach((b,P)=>{this._elementListeners.set(P,b.filter(W=>W.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const b=this._engine.playersByElement.get(v);b&&(b.forEach(P=>P.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,b){const P=this._engine.driver.query(v,oi,!0);P.forEach(W=>{if(W[hr])return;const ue=this._engine.fetchNamespacesByElement(W);ue.size?ue.forEach(ye=>ye.triggerLeaveAnimation(W,b,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>P.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(v,b,P,W){const ue=this._engine.statesByElement.get(v),ye=new Map;if(ue){const Ke=[];if(ue.forEach((ut,Ft)=>{if(ye.set(Ft,ut.value),this._triggers.has(Ft)){const Cn=this.trigger(v,Ft,Ds,W);Cn&&Ke.push(Cn)}}),Ke.length)return this._engine.markElementAsRemoved(this.id,v,!0,b,ye),P&&un(Ke).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const b=this._elementListeners.get(v),P=this._engine.statesByElement.get(v);if(b&&P){const W=new Set;b.forEach(ue=>{const ye=ue.name;if(W.has(ye))return;W.add(ye);const ut=this._triggers.get(ye).fallbackTransition,Ft=P.get(ye)||Ps,Cn=new so(Ds),Mn=new Lr(this.id,ye,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:ye,transition:ut,fromState:Ft,toState:Cn,player:Mn,isFallbackTransition:!0})})}}removeNode(v,b){const P=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,b),this.triggerLeaveAnimation(v,b,!0))return;let W=!1;if(P.totalAnimations){const ue=P.players.length?P.playersByQueriedElement.get(v):[];if(ue&&ue.length)W=!0;else{let ye=v;for(;ye=ye.parentNode;)if(P.statesByElement.get(ye)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(v),W)P.markElementAsRemoved(this.id,v,!1,b);else{const ue=v[hr];(!ue||ue===us)&&(P.afterFlush(()=>this.clearElementCache(v)),P.destroyInnerAnimations(v),P._onRemovalComplete(v,b))}}insertNode(v,b){Vr(v,this._hostClassName)}drainQueuedTransitions(v){const b=[];return this._queue.forEach(P=>{const W=P.player;if(W.destroyed)return;const ue=P.element,ye=this._elementListeners.get(ue);ye&&ye.forEach(Ke=>{if(Ke.name==P.triggerName){const ut=Un(ue,P.triggerName,P.fromState.value,P.toState.value);ut._data=v,an(P.player,Ke.phase,ut,Ke.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):b.push(P)}),this._queue=[],b.sort((P,W)=>{const ue=P.transition.ast.depCount,ye=W.transition.ast.depCount;return 0==ue||0==ye?ue-ye:this._engine.driver.containsElement(P.element,W.element)?1:-1})}destroy(v){this.players.forEach(b=>b.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let b=!1;return this._elementListeners.has(v)&&(b=!0),b=!!this._queue.find(P=>P.element===v)||b,b}}class $s{_onRemovalComplete(v,b){this.onRemovalComplete(v,b)}constructor(v,b,P){this.bodyNode=v,this.driver=b,this._normalizer=P,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,ue)=>{}}get queuedPlayers(){const v=[];return this._namespaceList.forEach(b=>{b.players.forEach(P=>{P.queued&&v.push(P)})}),v}createNamespace(v,b){const P=new _s(v,b,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,b)?this._balanceNamespaceList(P,b):(this.newHostElements.set(b,P),this.collectEnterElement(b)),this._namespaceLookup[v]=P}_balanceNamespaceList(v,b){const P=this._namespaceList,W=this.namespacesByHostElement;if(P.length-1>=0){let ye=!1,Ke=this.driver.getParentElement(b);for(;Ke;){const ut=W.get(Ke);if(ut){const Ft=P.indexOf(ut);P.splice(Ft+1,0,v),ye=!0;break}Ke=this.driver.getParentElement(Ke)}ye||P.unshift(v)}else P.push(v);return W.set(b,v),v}register(v,b){let P=this._namespaceLookup[v];return P||(P=this.createNamespace(v,b)),P}registerTrigger(v,b,P){let W=this._namespaceLookup[v];W&&W.register(b,P)&&this.totalAnimations++}destroy(v,b){if(!v)return;const P=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(P.hostElement),delete this._namespaceLookup[v];const W=this._namespaceList.indexOf(P);W>=0&&this._namespaceList.splice(W,1)}),this.afterFlushAnimationsDone(()=>P.destroy(b))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const b=new Set,P=this.statesByElement.get(v);if(P)for(let W of P.values())if(W.namespaceId){const ue=this._fetchNamespace(W.namespaceId);ue&&b.add(ue)}return b}trigger(v,b,P,W){if(cs(b)){const ue=this._fetchNamespace(v);if(ue)return ue.trigger(b,P,W),!0}return!1}insertNode(v,b,P,W){if(!cs(b))return;const ue=b[hr];if(ue&&ue.setForRemoval){ue.setForRemoval=!1,ue.setForMove=!0;const ye=this.collectedLeaveElements.indexOf(b);ye>=0&&this.collectedLeaveElements.splice(ye,1)}if(v){const ye=this._fetchNamespace(v);ye&&ye.insertNode(b,P)}W&&this.collectEnterElement(b)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,b){b?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Vr(v,Rs)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),Wr(v,Rs))}removeNode(v,b,P,W){if(cs(b)){const ue=v?this._fetchNamespace(v):null;if(ue?ue.removeNode(b,W):this.markElementAsRemoved(v,b,!1,W),P){const ye=this.namespacesByHostElement.get(b);ye&&ye.id!==v&&ye.removeNode(b,W)}}else this._onRemovalComplete(b,W)}markElementAsRemoved(v,b,P,W,ue){this.collectedLeaveElements.push(b),b[hr]={namespaceId:v,setForRemoval:W,hasAnimation:P,removedBeforeQueried:!1,previousTriggersValues:ue}}listen(v,b,P,W,ue){return cs(b)?this._fetchNamespace(v).listen(b,P,W,ue):()=>{}}_buildInstruction(v,b,P,W,ue){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,P,W,v.fromState.options,v.toState.options,b,ue)}destroyInnerAnimations(v){let b=this.driver.query(v,oi,!0);b.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(b=this.driver.query(v,Ut,!0),b.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(v){const b=this.playersByElement.get(v);b&&b.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(v){const b=this.playersByQueriedElement.get(v);b&&b.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return un(this.players).onDone(()=>v());v()})}processLeaveNode(v){const b=v[hr];if(b&&b.setForRemoval){if(v[hr]=us,b.namespaceId){this.destroyInnerAnimations(v);const P=this._fetchNamespace(b.namespaceId);P&&P.clearElementCache(v)}this._onRemovalComplete(v,b.setForRemoval)}v.classList?.contains(Rs)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(v=-1){let b=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,W)=>this._balanceNamespaceList(P,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)Vr(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{b=this._flushAnimations(P,v)}finally{for(let W=0;W<P.length;W++)P[W]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],b.length?un(b).onDone(()=>{P.forEach(W=>W())}):P.forEach(W=>W())}}reportError(v){throw function pn(H){return new f.vHH(3402,!1)}()}_flushAnimations(v,b){const P=new Yn,W=[],ue=new Map,ye=[],Ke=new Map,ut=new Map,Ft=new Map,Cn=new Set;this.disabledNodes.forEach(Dn=>{Cn.add(Dn);const ui=this.driver.query(Dn,".ng-animate-queued",!0);for(let jn=0;jn<ui.length;jn++)Cn.add(ui[jn])});const Mn=this.bodyNode,ki=Array.from(this.statesByElement.keys()),vi=_r(ki,this.collectedEnterElements),ri=new Map;let mi=0;vi.forEach((Dn,ui)=>{const jn=xn+mi++;ri.set(ui,jn),Dn.forEach(Ni=>Vr(Ni,jn))});const Ei=[],Bi=new Set,is=new Set;for(let Dn=0;Dn<this.collectedLeaveElements.length;Dn++){const ui=this.collectedLeaveElements[Dn],jn=ui[hr];jn&&jn.setForRemoval&&(Ei.push(ui),Bi.add(ui),jn.hasAnimation?this.driver.query(ui,".ng-star-inserted",!0).forEach(Ni=>Bi.add(Ni)):is.add(ui))}const fs=new Map,xr=_r(ki,Array.from(Bi));xr.forEach((Dn,ui)=>{const jn=si+mi++;fs.set(ui,jn),Dn.forEach(Ni=>Vr(Ni,jn))}),v.push(()=>{vi.forEach((Dn,ui)=>{const jn=ri.get(ui);Dn.forEach(Ni=>Wr(Ni,jn))}),xr.forEach((Dn,ui)=>{const jn=fs.get(ui);Dn.forEach(Ni=>Wr(Ni,jn))}),Ei.forEach(Dn=>{this.processLeaveNode(Dn)})});const Zr=[],mt=[];for(let Dn=this._namespaceList.length-1;Dn>=0;Dn--)this._namespaceList[Dn].drainQueuedTransitions(b).forEach(jn=>{const Ni=jn.player,rs=jn.element;if(Zr.push(Ni),this.collectedEnterElements.length){const Yr=rs[hr];if(Yr&&Yr.setForMove){if(Yr.previousTriggersValues&&Yr.previousTriggersValues.has(jn.triggerName)){const co=Yr.previousTriggersValues.get(jn.triggerName),vo=this.statesByElement.get(jn.element);if(vo&&vo.has(jn.triggerName)){const Ea=vo.get(jn.triggerName);Ea.value=co,vo.set(jn.triggerName,Ea)}}return void Ni.destroy()}}const vs=!Mn||!this.driver.containsElement(Mn,rs),er=fs.get(rs),Uo=ri.get(rs),es=this._buildInstruction(jn,P,Uo,er,vs);if(es.errors&&es.errors.length)return void mt.push(es);if(vs)return Ni.onStart(()=>ln(rs,es.fromStyles)),Ni.onDestroy(()=>Qe(rs,es.toStyles)),void W.push(Ni);if(jn.isFallbackTransition)return Ni.onStart(()=>ln(rs,es.fromStyles)),Ni.onDestroy(()=>Qe(rs,es.toStyles)),void W.push(Ni);const Lo=[];es.timelines.forEach(Yr=>{Yr.stretchStartingKeyframe=!0,this.disabledNodes.has(Yr.element)||Lo.push(Yr)}),es.timelines=Lo,P.append(rs,es.timelines),ye.push({instruction:es,player:Ni,element:rs}),es.queriedElements.forEach(Yr=>Bn(Ke,Yr,[]).push(Ni)),es.preStyleProps.forEach((Yr,co)=>{if(Yr.size){let vo=ut.get(co);vo||ut.set(co,vo=new Set),Yr.forEach((Ea,Yo)=>vo.add(Yo))}}),es.postStyleProps.forEach((Yr,co)=>{let vo=Ft.get(co);vo||Ft.set(co,vo=new Set),Yr.forEach((Ea,Yo)=>vo.add(Yo))})});if(mt.length){const Dn=[];mt.forEach(ui=>{Dn.push(function jt(H,v){return new f.vHH(3505,!1)}())}),Zr.forEach(ui=>ui.destroy()),this.reportError(Dn)}const Br=new Map,ps=new Map;ye.forEach(Dn=>{const ui=Dn.element;P.has(ui)&&(ps.set(ui,ui),this._beforeAnimationBuild(Dn.player.namespaceId,Dn.instruction,Br))}),W.forEach(Dn=>{const ui=Dn.element;this._getPreviousPlayers(ui,!1,Dn.namespaceId,Dn.triggerName,null).forEach(Ni=>{Bn(Br,ui,[]).push(Ni),Ni.destroy()})});const Is=Ei.filter(Dn=>k(Dn,ut,Ft)),Js=new Map;_o(Js,this.driver,is,Ft,le.l3).forEach(Dn=>{k(Dn,ut,Ft)&&Is.push(Dn)});const ra=new Map;vi.forEach((Dn,ui)=>{_o(ra,this.driver,new Set(Dn),ut,le.k1)}),Is.forEach(Dn=>{const ui=Js.get(Dn),jn=ra.get(Dn);Js.set(Dn,new Map([...Array.from(ui?.entries()??[]),...Array.from(jn?.entries()??[])]))});const lo=[],Ko=[],ys={};ye.forEach(Dn=>{const{element:ui,player:jn,instruction:Ni}=Dn;if(P.has(ui)){if(Cn.has(ui))return jn.onDestroy(()=>Qe(ui,Ni.toStyles)),jn.disabled=!0,jn.overrideTotalTime(Ni.totalTime),void W.push(jn);let rs=ys;if(ps.size>1){let er=ui;const Uo=[];for(;er=er.parentNode;){const es=ps.get(er);if(es){rs=es;break}Uo.push(er)}Uo.forEach(es=>ps.set(es,rs))}const vs=this._buildAnimation(jn.namespaceId,Ni,Br,ue,ra,Js);if(jn.setRealPlayer(vs),rs===ys)lo.push(jn);else{const er=this.playersByElement.get(rs);er&&er.length&&(jn.parentPlayer=un(er)),W.push(jn)}}else ln(ui,Ni.fromStyles),jn.onDestroy(()=>Qe(ui,Ni.toStyles)),Ko.push(jn),Cn.has(ui)&&W.push(jn)}),Ko.forEach(Dn=>{const ui=ue.get(Dn.element);if(ui&&ui.length){const jn=un(ui);Dn.setRealPlayer(jn)}}),W.forEach(Dn=>{Dn.parentPlayer?Dn.syncPlayerEvents(Dn.parentPlayer):Dn.destroy()});for(let Dn=0;Dn<Ei.length;Dn++){const ui=Ei[Dn],jn=ui[hr];if(Wr(ui,si),jn&&jn.hasAnimation)continue;let Ni=[];if(Ke.size){let vs=Ke.get(ui);vs&&vs.length&&Ni.push(...vs);let er=this.driver.query(ui,Ut,!0);for(let Uo=0;Uo<er.length;Uo++){let es=Ke.get(er[Uo]);es&&es.length&&Ni.push(...es)}}const rs=Ni.filter(vs=>!vs.destroyed);rs.length?Ts(this,ui,rs):this.processLeaveNode(ui)}return Ei.length=0,lo.forEach(Dn=>{this.players.push(Dn),Dn.onDone(()=>{Dn.destroy();const ui=this.players.indexOf(Dn);this.players.splice(ui,1)}),Dn.play()}),lo}elementContainsData(v,b){let P=!1;const W=b[hr];return W&&W.setForRemoval&&(P=!0),this.playersByElement.has(b)&&(P=!0),this.playersByQueriedElement.has(b)&&(P=!0),this.statesByElement.has(b)&&(P=!0),this._fetchNamespace(v).elementContainsData(b)||P}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,b,P,W,ue){let ye=[];if(b){const Ke=this.playersByQueriedElement.get(v);Ke&&(ye=Ke)}else{const Ke=this.playersByElement.get(v);if(Ke){const ut=!ue||ue==Ds;Ke.forEach(Ft=>{Ft.queued||!ut&&Ft.triggerName!=W||ye.push(Ft)})}}return(P||W)&&(ye=ye.filter(Ke=>!(P&&P!=Ke.namespaceId||W&&W!=Ke.triggerName))),ye}_beforeAnimationBuild(v,b,P){const ue=b.element,ye=b.isRemovalTransition?void 0:v,Ke=b.isRemovalTransition?void 0:b.triggerName;for(const ut of b.timelines){const Ft=ut.element,Cn=Ft!==ue,Mn=Bn(P,Ft,[]);this._getPreviousPlayers(Ft,Cn,ye,Ke,b.toState).forEach(vi=>{const ri=vi.getRealPlayer();ri.beforeDestroy&&ri.beforeDestroy(),vi.destroy(),Mn.push(vi)})}ln(ue,b.fromStyles)}_buildAnimation(v,b,P,W,ue,ye){const Ke=b.triggerName,ut=b.element,Ft=[],Cn=new Set,Mn=new Set,ki=b.timelines.map(ri=>{const mi=ri.element;Cn.add(mi);const Ei=mi[hr];if(Ei&&Ei.removedBeforeQueried)return new le.ZN(ri.duration,ri.delay);const Bi=mi!==ut,is=function Or(H){const v=[];return ds(H,v),v}((P.get(mi)||To).map(Br=>Br.getRealPlayer())).filter(Br=>!!Br.element&&Br.element===mi),fs=ue.get(mi),xr=ye.get(mi),Zr=fi(0,this._normalizer,0,ri.keyframes,fs,xr),mt=this._buildPlayer(ri,Zr,is);if(ri.subTimeline&&W&&Mn.add(mi),Bi){const Br=new Lr(v,Ke,mi);Br.setRealPlayer(mt),Ft.push(Br)}return mt});Ft.forEach(ri=>{Bn(this.playersByQueriedElement,ri.element,[]).push(ri),ri.onDone(()=>function zs(H,v,b){let P=H.get(v);if(P){if(P.length){const W=P.indexOf(b);P.splice(W,1)}0==P.length&&H.delete(v)}return P}(this.playersByQueriedElement,ri.element,ri))}),Cn.forEach(ri=>Vr(ri,Ar));const vi=un(ki);return vi.onDestroy(()=>{Cn.forEach(ri=>Wr(ri,Ar)),Qe(ut,b.toStyles)}),Mn.forEach(ri=>{Bn(W,ri,[]).push(vi)}),vi}_buildPlayer(v,b,P){return b.length>0?this.driver.animate(v.element,b,v.duration,v.delay,v.easing,P):new le.ZN(v.duration,v.delay)}}class Lr{constructor(v,b,P){this.namespaceId=v,this.triggerName=b,this.element=P,this._player=new le.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((b,P)=>{b.forEach(W=>an(v,P,void 0,W))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const b=this._player;b.triggerCallback&&v.onStart(()=>b.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,b){Bn(this._queuedCallbacks,v,[]).push(b)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const b=this._player;b.triggerCallback&&b.triggerCallback(v)}}function cs(H){return H&&1===H.nodeType}function ks(H,v){const b=H.style.display;return H.style.display=v??"none",b}function _o(H,v,b,P,W){const ue=[];b.forEach(ut=>ue.push(ks(ut)));const ye=[];P.forEach((ut,Ft)=>{const Cn=new Map;ut.forEach(Mn=>{const ki=v.computeStyle(Ft,Mn,W);Cn.set(Mn,ki),(!ki||0==ki.length)&&(Ft[hr]=Io,ye.push(Ft))}),H.set(Ft,Cn)});let Ke=0;return b.forEach(ut=>ks(ut,ue[Ke++])),ye}function _r(H,v){const b=new Map;if(H.forEach(Ke=>b.set(Ke,[])),0==v.length)return b;const P=1,W=new Set(v),ue=new Map;function ye(Ke){if(!Ke)return P;let ut=ue.get(Ke);if(ut)return ut;const Ft=Ke.parentNode;return ut=b.has(Ft)?Ft:W.has(Ft)?P:ye(Ft),ue.set(Ke,ut),ut}return v.forEach(Ke=>{const ut=ye(Ke);ut!==P&&b.get(ut).push(Ke)}),b}function Vr(H,v){H.classList?.add(v)}function Wr(H,v){H.classList?.remove(v)}function Ts(H,v,b){un(b).onDone(()=>H.processLeaveNode(v))}function ds(H,v){for(let b=0;b<H.length;b++){const P=H[b];P instanceof le.ZE?ds(P.players,v):v.push(P)}}function k(H,v,b){const P=b.get(H);if(!P)return!1;let W=v.get(H);return W?P.forEach(ue=>W.add(ue)):v.set(H,P),b.delete(H),!0}class x{constructor(v,b,P){this.bodyNode=v,this._driver=b,this._normalizer=P,this._triggerCache={},this.onRemovalComplete=(W,ue)=>{},this._transitionEngine=new $s(v,b,P),this._timelineEngine=new go(v,b,P),this._transitionEngine.onRemovalComplete=(W,ue)=>this.onRemovalComplete(W,ue)}registerTrigger(v,b,P,W,ue){const ye=v+"-"+W;let Ke=this._triggerCache[ye];if(!Ke){const ut=[],Ft=[],Cn=yr(this._driver,ue,ut,Ft);if(ut.length)throw function $t(H,v){return new f.vHH(3404,!1)}();Ke=function Ms(H,v,b){return new gs(H,v,b)}(W,Cn,this._normalizer),this._triggerCache[ye]=Ke}this._transitionEngine.registerTrigger(b,W,Ke)}register(v,b){this._transitionEngine.register(v,b)}destroy(v,b){this._transitionEngine.destroy(v,b)}onInsert(v,b,P,W){this._transitionEngine.insertNode(v,b,P,W)}onRemove(v,b,P,W){this._transitionEngine.removeNode(v,b,W||!1,P)}disableAnimations(v,b){this._transitionEngine.markElementAsDisabled(v,b)}process(v,b,P,W){if("@"==P.charAt(0)){const[ue,ye]=ci(P);this._timelineEngine.command(ue,b,ye,W)}else this._transitionEngine.trigger(v,b,P,W)}listen(v,b,P,W,ue){if("@"==P.charAt(0)){const[ye,Ke]=ci(P);return this._timelineEngine.listen(ye,b,Ke,ue)}return this._transitionEngine.listen(v,b,P,W,ue)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let he=(()=>{class H{constructor(b,P,W){this._element=b,this._startStyles=P,this._endStyles=W,this._state=0;let ue=H.initialStylesByElement.get(b);ue||H.initialStylesByElement.set(b,ue=new Map),this._initialStyles=ue}start(){this._state<1&&(this._startStyles&&Qe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qe(this._element,this._initialStyles),this._endStyles&&(Qe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(H.initialStylesByElement.delete(this._element),this._startStyles&&(ln(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ln(this._element,this._endStyles),this._endStyles=null),Qe(this._element,this._initialStyles),this._state=3)}}return H.initialStylesByElement=new WeakMap,H})();function Ue(H){let v=null;return H.forEach((b,P)=>{(function ft(H){return"display"===H||"position"===H})(P)&&(v=v||new Map,v.set(P,b))}),v}class Pt{constructor(v,b,P,W){this.element=v,this.keyframes=b,this.options=P,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const b=[];return v.forEach(P=>{b.push(Object.fromEntries(P))}),b}_triggerWebAnimation(v,b,P){return v.animate(this._convertKeyframesToObject(b),P)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((P,W)=>{"offset"!==W&&v.set(W,this._finished?P:Hi(this.element,W))}),this.currentSnapshot=v}triggerCallback(v){const b="start"===v?this._onStartFns:this._onDoneFns;b.forEach(P=>P()),b.length=0}}class nn{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,b){return!1}containsElement(v,b){return Rt(v,b)}getParentElement(v){return Jn(v)}query(v,b,P){return zt(v,b,P)}computeStyle(v,b,P){return window.getComputedStyle(v)[b]}animate(v,b,P,W,ue,ye=[]){const ut={duration:P,delay:W,fill:0==W?"both":"forwards"};ue&&(ut.easing=ue);const Ft=new Map,Cn=ye.filter(vi=>vi instanceof Pt);(function Bt(H,v){return 0===H||0===v})(P,W)&&Cn.forEach(vi=>{vi.currentSnapshot.forEach((ri,mi)=>Ft.set(mi,ri))});let Mn=function Mt(H){return H.length?H[0]instanceof Map?H:H.map(v=>at(v)):[]}(b).map(vi=>be(vi));Mn=function mn(H,v,b){if(b.size&&v.length){let P=v[0],W=[];if(b.forEach((ue,ye)=>{P.has(ye)||W.push(ye),P.set(ye,ue)}),W.length)for(let ue=1;ue<v.length;ue++){let ye=v[ue];W.forEach(Ke=>ye.set(Ke,Hi(H,Ke)))}}return v}(v,Mn,Ft);const ki=function G(H,v){let b=null,P=null;return Array.isArray(v)&&v.length?(b=Ue(v[0]),v.length>1&&(P=Ue(v[v.length-1]))):v instanceof Map&&(b=Ue(v)),b||P?new he(H,b,P):null}(v,Mn);return new Pt(v,Mn,ut,ki)}}var Tn=B(6895);let kn=(()=>{class H extends le._j{constructor(b,P){super(),this._nextAnimationId=0,this._renderer=b.createRenderer(P.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(b){const P=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(b)?(0,le.vP)(b):b;return Tr(this._renderer,null,P,"register",[W]),new bi(P,this._renderer)}}return H.\u0275fac=function(b){return new(b||H)(f.LFG(f.FYo),f.LFG(Tn.K0))},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac}),H})();class bi extends le.LC{constructor(v,b){super(),this._id=v,this._renderer=b}create(v,b){return new or(this._id,v,b||{},this._renderer)}}class or{constructor(v,b,P,W){this.id=v,this.element=b,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",P)}_listen(v,b){return this._renderer.listen(this.element,`@@${this.id}:${v}`,b)}_command(v,...b){return Tr(this._renderer,this.element,this.id,v,b)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Tr(H,v,b,P,W){return H.setProperty(v,`@@${b}:${P}`,W)}const Fn="@.disabled";let yo=(()=>{class H{constructor(b,P,W){this.delegate=b,this.engine=P,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),P.onRemovalComplete=(ue,ye)=>{const Ke=ye?.parentNode(ue);Ke&&ye.removeChild(Ke,ue)}}createRenderer(b,P){const ue=this.delegate.createRenderer(b,P);if(!(b&&P&&P.data&&P.data.animation)){let Cn=this._rendererCache.get(ue);return Cn||(Cn=new Go("",ue,this.engine,()=>this._rendererCache.delete(ue)),this._rendererCache.set(ue,Cn)),Cn}const ye=P.id,Ke=P.id+"-"+this._currentId;this._currentId++,this.engine.register(Ke,b);const ut=Cn=>{Array.isArray(Cn)?Cn.forEach(ut):this.engine.registerTrigger(ye,Ke,b,Cn.name,Cn)};return P.data.animation.forEach(ut),new ta(this,Ke,ue,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(b,P,W){b>=0&&b<this._microtaskId?this._zone.run(()=>P(W)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ue=>{const[ye,Ke]=ue;ye(Ke)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([P,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return H.\u0275fac=function(b){return new(b||H)(f.LFG(f.FYo),f.LFG(x),f.LFG(f.R0b))},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac}),H})();class Go{constructor(v,b,P,W){this.namespaceId=v,this.delegate=b,this.engine=P,this._onDestroy=W,this.destroyNode=this.delegate.destroyNode?ue=>b.destroyNode(ue):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(v,b){return this.delegate.createElement(v,b)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,b){this.delegate.appendChild(v,b),this.engine.onInsert(this.namespaceId,b,v,!1)}insertBefore(v,b,P,W=!0){this.delegate.insertBefore(v,b,P),this.engine.onInsert(this.namespaceId,b,v,W)}removeChild(v,b,P){this.engine.onRemove(this.namespaceId,b,this.delegate,P)}selectRootElement(v,b){return this.delegate.selectRootElement(v,b)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,b,P,W){this.delegate.setAttribute(v,b,P,W)}removeAttribute(v,b,P){this.delegate.removeAttribute(v,b,P)}addClass(v,b){this.delegate.addClass(v,b)}removeClass(v,b){this.delegate.removeClass(v,b)}setStyle(v,b,P,W){this.delegate.setStyle(v,b,P,W)}removeStyle(v,b,P){this.delegate.removeStyle(v,b,P)}setProperty(v,b,P){"@"==b.charAt(0)&&b==Fn?this.disableAnimations(v,!!P):this.delegate.setProperty(v,b,P)}setValue(v,b){this.delegate.setValue(v,b)}listen(v,b,P){return this.delegate.listen(v,b,P)}disableAnimations(v,b){this.engine.disableAnimations(v,b)}}class ta extends Go{constructor(v,b,P,W,ue){super(b,P,W,ue),this.factory=v,this.namespaceId=b}setProperty(v,b,P){"@"==b.charAt(0)?"."==b.charAt(1)&&b==Fn?this.disableAnimations(v,P=void 0===P||!!P):this.engine.process(this.namespaceId,v,b.slice(1),P):this.delegate.setProperty(v,b,P)}listen(v,b,P){if("@"==b.charAt(0)){const W=function U(H){switch(H){case"body":return document.body;case"document":return document;case"window":return window;default:return H}}(v);let ue=b.slice(1),ye="";return"@"!=ue.charAt(0)&&([ue,ye]=function V(H){const v=H.indexOf(".");return[H.substring(0,v),H.slice(v+1)]}(ue)),this.engine.listen(this.namespaceId,W,ue,ye,Ke=>{this.factory.scheduleListenerCallback(Ke._data||-1,P,Ke)})}return this.delegate.listen(v,b,P)}}const X=[{provide:le._j,useClass:kn},{provide:Bs,useFactory:function D(){return new vr}},{provide:x,useClass:(()=>{class H extends x{constructor(b,P,W,ue){super(b.body,P,W)}ngOnDestroy(){this.flush()}}return H.\u0275fac=function(b){return new(b||H)(f.LFG(Tn.K0),f.LFG(Gn),f.LFG(Bs),f.LFG(f.z2F))},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac}),H})()},{provide:f.FYo,useFactory:function Q(H,v,b){return new yo(H,v,b)},deps:[p.se,x,f.R0b]}],je=[{provide:Gn,useFactory:()=>new nn},{provide:f.QbO,useValue:"BrowserAnimations"},...X],Ct=[{provide:Gn,useClass:ti},{provide:f.QbO,useValue:"NoopAnimations"},...X];let en=(()=>{class H{static withConfig(b){return{ngModule:H,providers:b.disableAnimations?Ct:je}}}return H.\u0275fac=function(b){return new(b||H)},H.\u0275mod=f.oAB({type:H}),H.\u0275inj=f.cJS({providers:je,imports:[p.b2]}),H})();var qn=B(2786),ar=B(352);const jr=[{path:"",loadChildren:()=>Promise.all([B.e(592),B.e(698)]).then(B.bind(B,3698)).then(H=>H.HomeModule)},{path:"discounts",loadChildren:()=>Promise.all([B.e(592),B.e(944)]).then(B.bind(B,5944)).then(H=>H.DiscountModule)},{path:"products",loadChildren:()=>Promise.all([B.e(592),B.e(713)]).then(B.bind(B,1713)).then(H=>H.ProductModule)},{path:"delivery-and-payment",loadChildren:()=>B.e(912).then(B.bind(B,4912)).then(H=>H.DeliveryAndPaymentModule)},{path:"about-us",loadChildren:()=>B.e(416).then(B.bind(B,4416)).then(H=>H.AboutUsModule)},{path:"auth",loadChildren:()=>B.e(389).then(B.bind(B,6389)).then(H=>H.AuthorizationModule)},{path:"cabinet",canActivate:[(()=>{class H{constructor(b){this.router=b}canActivate(b,P){const W=JSON.parse(localStorage.getItem("currentUser"));return!(!W||W.role!==ar.H.USER)||(this.router.navigate([""]),!1)}}return H.\u0275fac=function(b){return new(b||H)(f.LFG(qn.F0))},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()],loadChildren:()=>B.e(807).then(B.bind(B,807)).then(H=>H.CabinetModule)},{path:"admin",canActivate:[(()=>{class H{constructor(b){this.router=b}canActivate(b,P){const W=JSON.parse(localStorage.getItem("currentUser"));return!(!W||W.role!==ar.H.ADMIN)||(this.router.navigate([""]),!1)}}return H.\u0275fac=function(b){return new(b||H)(f.LFG(qn.F0))},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()],loadChildren:()=>Promise.all([B.e(592),B.e(627)]).then(B.bind(B,5627)).then(H=>H.AdminModule)}];let Ns=(()=>{class H{}return H.\u0275fac=function(b){return new(b||H)},H.\u0275mod=f.oAB({type:H}),H.\u0275inj=f.cJS({imports:[qn.Bz.forRoot(jr,{preloadingStrategy:qn.wm}),qn.Bz]}),H})();var Pi=B(5861),rr=B(4226),Zi=B(89),yi=B(433),Gi=B(4998),Gs=B(7185),xo=B(3903),na=B(9549);function ao(H,v){if(1&H){const b=f.EpF();f.TgZ(0,"div",1),f._UZ(1,"i",2),f.TgZ(2,"div",3),f._uU(3,"Log in to your account"),f.qZA(),f.TgZ(4,"form",4),f._UZ(5,"input",5)(6,"input",6),f.TgZ(7,"button",7),f.NdJ("click",function(){f.CHM(b);const W=f.oxw();return f.KtG(W.loginUser())}),f._uU(8,"CONFIRM"),f.qZA()(),f.TgZ(9,"div",8)(10,"button",9)(11,"a",10),f._uU(12,"Forgot your password?"),f.qZA()(),f.TgZ(13,"button",11),f.NdJ("click",function(){f.CHM(b);const W=f.oxw();return f.KtG(W.toggleModal())}),f.TgZ(14,"a",10),f._uU(15,"Sign up"),f.qZA()()()()}if(2&H){const b=f.oxw();f.xp6(4),f.Q6J("formGroup",b.authLoginForm),f.xp6(3),f.Q6J("disabled",b.authLoginForm.invalid)}}function ko(H,v){1&H&&(f.TgZ(0,"mat-error"),f._uU(1,"Confirmation password is required"),f.qZA())}function Wo(H,v){if(1&H){const b=f.EpF();f.TgZ(0,"div",1),f._UZ(1,"i",2),f.TgZ(2,"div",3),f._uU(3,"Sign up"),f.qZA(),f.TgZ(4,"form",4)(5,"div",12),f._UZ(6,"input",13)(7,"input",14),f.qZA(),f._UZ(8,"input",15)(9,"input",5),f.TgZ(10,"div",12)(11,"input",16),f.NdJ("input",function(){f.CHM(b);const W=f.oxw();return f.KtG(W.checkConfirmedPassword())}),f.qZA(),f.TgZ(12,"input",17),f.NdJ("input",function(){f.CHM(b);const W=f.oxw();return f.KtG(W.checkConfirmedPassword())}),f.qZA()(),f.YNc(13,ko,2,0,"mat-error",18),f.TgZ(14,"button",7),f.NdJ("click",function(){f.CHM(b);const W=f.oxw();return f.KtG(W.registerUser())}),f._uU(15,"SIGN UP"),f.qZA()(),f.TgZ(16,"div",8)(17,"span"),f._uU(18,"Already registered?"),f.qZA(),f.TgZ(19,"button",11),f.NdJ("click",function(){f.CHM(b);const W=f.oxw();return f.KtG(W.toggleModal())}),f.TgZ(20,"a",10),f._uU(21,"Login"),f.qZA()()()()}if(2&H){const b=f.oxw();f.xp6(4),f.Q6J("formGroup",b.authRegisterForm),f.xp6(9),f.Q6J("ngIf",b.checkVisibilityError("repeatPassword","matchError")),f.xp6(1),f.Q6J("disabled",b.authRegisterForm.invalid)}}let Pa=(()=>{class H{constructor(b,P,W,ue,ye,Ke,ut){this.auth=b,this.afs=P,this.router=W,this.accountService=ue,this.toastr=ye,this.fb=Ke,this.dialogRef=ut,this.isLogin=!1,this.loginModal=!1,this.checkPassword=!1}ngOnInit(){this.initLoginForm(),this.initRegisterForm()}initLoginForm(){this.authLoginForm=this.fb.group({email:[null,[yi.kI.required,yi.kI.email]],password:[null,[yi.kI.required]]})}initRegisterForm(){this.authRegisterForm=this.fb.group({firstName:[null,[yi.kI.required]],lastName:[null,[yi.kI.required]],phoneNumber:[null,[yi.kI.required]],email:[null,[yi.kI.required,yi.kI.email]],password:[null,[yi.kI.required]],repeatPassword:[null,[yi.kI.required]]})}toggleModal(){this.loginModal=!this.loginModal}loginUser(){const{email:b,password:P}=this.authLoginForm.value;this.login(b,P)}login(b,P){(0,rr.e5)(this.auth,b,P).then(W=>{this.getUserData(W.user.uid)}).catch(W=>{this.toastr.error(W.message)})}getUserData(b){(0,Zi.QT)((0,Zi.JU)(this.afs,"users",b)).then(P=>{const W={...P.data(),uid:b};localStorage.setItem("currentUser",JSON.stringify(W)),this.accountService.isUserLogin$.next(!0),this.toastr.success("You successfully login"),W&&W.role===ar.H.USER?this.router.navigate(["/cabinet/info"]):W&&W.role===ar.H.ADMIN&&this.router.navigate(["/admin"]),this.dialogRef.close()},P=>{console.log("error",P)})}registerUser(){const{email:b,password:P}=this.authRegisterForm.value;this.registerData=this.authRegisterForm.value,this.emailSignUp(b,P).then(()=>{this.toastr.success("User successfully created"),this.isLogin=!this.isLogin,this.dialogRef.close(),this.authRegisterForm.reset(),this.login(b,P)}).catch(W=>{this.toastr.error(W.message)})}emailSignUp(b,P){var W=this;return(0,Pi.Z)(function*(){const ue=yield(0,rr.Xb)(W.auth,b,P),ye={email:ue.user.email,firstName:W.registerData.firstName,lastName:W.registerData.lastName,phoneNumber:W.registerData.phoneNumber,address:"",orders:[],role:"USER"};(0,Zi.pl)((0,Zi.JU)(W.afs,"users",ue.user.uid),ye)})()}checkConfirmedPassword(){this.checkPassword=this.password.value===this.repeatPass.value,this.password.value!==this.repeatPass.value&&this.authRegisterForm.controls.repeatPassword.setErrors({matchError:"Passwords do not match"})}get password(){return this.authRegisterForm.controls.password}get repeatPass(){return this.authRegisterForm.controls.repeatPassword}checkVisibilityError(b,P){return this.authRegisterForm.controls[b].errors?.[P]}}return H.\u0275fac=function(b){return new(b||H)(f.Y36(rr.gx),f.Y36(Zi.gg),f.Y36(qn.F0),f.Y36(Gi.B),f.Y36(Gs._W),f.Y36(yi.qu),f.Y36(xo.so))},H.\u0275cmp=f.Xpm({type:H,selectors:[["app-auth-dialog"]],decls:2,vars:2,consts:[["class","login",4,"ngIf"],[1,"login"],["mat-dialog-close","",1,"fa-solid","fa-xmark","fa-xl"],[1,"login-title"],[1,"login-form",3,"formGroup"],["type","email","placeholder","*Your email","formControlName","email",1,"login-email"],["type","password","placeholder","*Password","formControlName","password",1,"login-pass"],[1,"login-btn",3,"disabled","click"],[1,"login-actions-btns","stroke"],[1,"forgotten-pass","stroke-line"],[1,"stroke-link"],["type","submit",1,"sign-up","stroke-line",3,"click"],[1,"small-inputs"],["type","text","placeholder","*Your name","formControlName","firstName"],["type","text","placeholder","*Your surname","formControlName","lastName"],["type","text","placeholder","*Phone number","formControlName","phoneNumber",1,"login-input"],["type","password","placeholder","*Password","formControlName","password",3,"input"],["type","password","placeholder","*Repeat password","formControlName","repeatPassword",3,"input"],[4,"ngIf"]],template:function(b,P){1&b&&(f.YNc(0,ao,16,2,"div",0),f.YNc(1,Wo,22,3,"div",0)),2&b&&(f.Q6J("ngIf",!P.loginModal),f.xp6(1),f.Q6J("ngIf",P.loginModal))},dependencies:[Tn.O5,xo.ZT,na.TO,yi._Y,yi.Fj,yi.JJ,yi.JL,yi.sg,yi.u],styles:['.login[_ngcontent-%COMP%]{padding:60px 80px 30px;background-color:#fff;border-radius:50px;position:relative}.login[_ngcontent-%COMP%]   .fa-xmark[_ngcontent-%COMP%]{position:absolute;right:30px;top:35px;transition:.3s all ease-in-out}.login[_ngcontent-%COMP%]   .fa-xmark[_ngcontent-%COMP%]:hover{color:#b5d8f7;transition:.3s all ease-in-out}.login-title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:28px;margin-bottom:30px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-email[_ngcontent-%COMP%], .login-pass[_ngcontent-%COMP%], .login-input[_ngcontent-%COMP%]{width:480px;border-radius:10px;border:2px solid lightgray;padding:16px 12px 16px 20px;font-size:16px}.login-email[_ngcontent-%COMP%]:focus, .login-pass[_ngcontent-%COMP%]:focus, .login-input[_ngcontent-%COMP%]:focus{outline:3px solid rgba(89,172,255,.3);border-color:#59acff99}.login-btn[_ngcontent-%COMP%]{width:515px;border-radius:10px;border:2px solid #b5d8f7;background-color:#b5d8f7;padding:16px 12px;font-size:20px;font-weight:700;letter-spacing:.2rem;transition:.2s all ease-in-out}.login-btn[_ngcontent-%COMP%]:hover{background-color:#fff}.login-actions-btns[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:30px}.login-actions-btns[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:11px;font-size:19px}.small-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:214px;border-radius:10px;border:2px solid lightgray;padding:16px 12px 16px 20px;font-size:16px;margin-right:16px}.small-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:3px solid rgba(89,172,255,.3);border-color:#59acff99}.forgotten-pass[_ngcontent-%COMP%], .sign-up[_ngcontent-%COMP%]{font-size:18px;font-weight:700;background-color:transparent;color:#000;padding:10px;border:none}.stroke[_ngcontent-%COMP%]{width:100%;background:#fff}.stroke-line[_ngcontent-%COMP%]{display:inline-block;font-size:18px}.stroke-link[_ngcontent-%COMP%]{display:block;padding-bottom:10px;text-decoration:none;color:#000;position:relative}.stroke-link[_ngcontent-%COMP%]:hover{transform:scale(1.05);color:#b5d8f7}.stroke-link[_ngcontent-%COMP%]:hover:after{width:100%}.stroke-link[_ngcontent-%COMP%]:after{position:absolute;bottom:0;left:0;right:0;margin:auto;width:0%;content:".";color:transparent;background:#b5d8f7;height:3px;border-radius:10px}.stroke-link[_ngcontent-%COMP%], .stroke-link[_ngcontent-%COMP%]:after, .stroke-link[_ngcontent-%COMP%]:before{transition:all .5s}']}),H})(),da=(()=>{class H{}return H.\u0275fac=function(b){return new(b||H)},H.\u0275cmp=f.Xpm({type:H,selectors:[["app-callback-dialog"]],decls:11,vars:0,consts:[[1,"callback"],["mat-dialog-close","",1,"fa-solid","fa-xmark","fa-xl"],[1,"callback-title"],[1,"callback-text"],[1,"callback-form"],["type","text","placeholder","Your name","formControlName","name",1,"callback-name"],["type","text","placeholder","Your phone number","formControlName","phone",1,"callback-phone"],[1,"callback-btn"]],template:function(b,P){1&b&&(f.TgZ(0,"div",0),f._UZ(1,"i",1),f.TgZ(2,"div",2),f._uU(3,"WE WILL CALL YOU BACK"),f.qZA(),f.TgZ(4,"p",3),f._uU(5,"Leave your phone number and our managers will contact you"),f.qZA(),f.TgZ(6,"form",4),f._UZ(7,"input",5)(8,"input",6),f.TgZ(9,"button",7),f._uU(10,"SEND"),f.qZA()()())},dependencies:[xo.ZT,yi._Y,yi.Fj,yi.JJ,yi.JL,yi.F,yi.u],styles:[".callback[_ngcontent-%COMP%]{padding:60px 80px 30px;background-color:#fff;border-radius:50px;position:relative}.callback[_ngcontent-%COMP%]   .fa-xmark[_ngcontent-%COMP%]{position:absolute;right:30px;top:35px;transition:.3s all ease-in-out}.callback[_ngcontent-%COMP%]   .fa-xmark[_ngcontent-%COMP%]:hover{color:#b5d8f7;transition:.3s all ease-in-out}.callback-title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:28px;margin-bottom:20px}.callback-text[_ngcontent-%COMP%]{text-align:center;line-height:22px;width:350px;margin:auto auto 20px}.callback-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.callback-name[_ngcontent-%COMP%], .callback-phone[_ngcontent-%COMP%], .callback-input[_ngcontent-%COMP%]{width:480px;border-radius:10px;border:2px solid lightgray;padding:16px 12px 16px 20px;font-size:16px}.callback-name[_ngcontent-%COMP%]:focus, .callback-phone[_ngcontent-%COMP%]:focus, .callback-input[_ngcontent-%COMP%]:focus{outline:3px solid rgba(89,172,255,.3);border-color:#59acff99}.callback-btn[_ngcontent-%COMP%]{width:515px;border-radius:10px;border:2px solid #b5d8f7;background-color:#b5d8f7;padding:16px 12px;margin-bottom:30px;font-size:20px;font-weight:700;letter-spacing:.2rem;transition:.2s all ease-in-out}.callback-btn[_ngcontent-%COMP%]:hover{background-color:#fff}"]}),H})();var la=B(303),ha=B(608);const ia=["sidebarIconToggleCheckbox"],hs=["sidebarImgToggleCheckbox"],So=function(H){return[H]};function No(H,v){if(1&H&&(f.TgZ(0,"li",7)(1,"a",8),f._UZ(2,"img",36),f.TgZ(3,"span"),f._uU(4),f.qZA()()()),2&H){const b=v.$implicit;f.xp6(1),f.Q6J("routerLink",f.VKq(3,So,"/products/"+b.path)),f.xp6(1),f.Q6J("src",b.imagePath,f.LSH),f.xp6(2),f.Oqu(b.name)}}const fa=function(){return["/delivery-and-payment"]},Za=function(){return["/about-us"]},on=function(){return["/discounts"]};function qr(H,v){1&H&&(f.TgZ(0,"div",37)(1,"div",38)(2,"a",39),f._uU(3,"Delivery and payment"),f.qZA(),f.TgZ(4,"a",39),f._uU(5,"About us"),f.qZA(),f.TgZ(6,"a",39),f._uU(7,"Discounts"),f.qZA()()()),2&H&&(f.xp6(2),f.Q6J("routerLink",f.DdM(3,fa)),f.xp6(2),f.Q6J("routerLink",f.DdM(4,Za)),f.xp6(2),f.Q6J("routerLink",f.DdM(5,on)))}function Li(H,v){if(1&H){const b=f.EpF();f.TgZ(0,"div",40),f.NdJ("click",function(){f.CHM(b);const W=f.oxw();return f.KtG(W.openLoginDialog())}),f.TgZ(1,"div",41),f._UZ(2,"img",42),f.qZA()()}}const qo=function(){return["/cabinet/history"]},rn=function(){return["/cabinet/password"]};function zn(H,v){if(1&H){const b=f.EpF();f.TgZ(0,"div",48)(1,"div",38)(2,"a",39),f._uU(3,"Personal information"),f.qZA(),f.TgZ(4,"a",39),f._uU(5,"Order history"),f.qZA(),f.TgZ(6,"a",39),f._uU(7,"Change password"),f.qZA(),f.TgZ(8,"a",49),f.NdJ("click",function(){f.CHM(b);const W=f.oxw(2);return f.KtG(W.logOut())}),f._uU(9,"Exit"),f.qZA()()()}if(2&H){const b=f.oxw(2);f.xp6(2),f.Q6J("routerLink",f.VKq(3,So,"/"+b.loginUrl)),f.xp6(2),f.Q6J("routerLink",f.DdM(5,qo)),f.xp6(2),f.Q6J("routerLink",f.DdM(6,rn))}}function ka(H,v){if(1&H){const b=f.EpF();f.TgZ(0,"div",43)(1,"div",13)(2,"input",44,45),f.NdJ("click",function(){f.CHM(b);const W=f.oxw();return f.KtG(W.toggleProfile())}),f.qZA(),f.TgZ(4,"label",46),f._UZ(5,"img",42),f.qZA()(),f.YNc(6,zn,10,7,"div",47),f.qZA()}if(2&H){const b=f.oxw();f.xp6(6),f.Q6J("ngIf",b.profileOpened)}}function In(H,v){if(1&H&&(f.TgZ(0,"div",50)(1,"h2"),f._uU(2,"Admin"),f.qZA()()),2&H){const b=f.oxw();f.Q6J("routerLink",f.VKq(1,So,"/"+b.loginUrl))}}const At=function(){return["/products/rolls"]};function T(H,v){1&H&&(f.TgZ(0,"div",56),f._UZ(1,"img",57),f.TgZ(2,"p"),f._uU(3,"Cart is empty"),f.qZA(),f.TgZ(4,"button")(5,"a",39),f._uU(6,"GO TO THE CATALOG"),f.qZA()()()),2&H&&(f.xp6(5),f.Q6J("routerLink",f.DdM(1,At)))}function q(H,v){if(1&H){const b=f.EpF();f.TgZ(0,"li",60)(1,"div",61)(2,"div",62),f._UZ(3,"img",63),f.qZA(),f.TgZ(4,"div",64),f._uU(5),f.qZA(),f.TgZ(6,"div",65)(7,"button",49),f.NdJ("click",function(){const ue=f.CHM(b).$implicit,ye=f.oxw(3);return f.KtG(ye.productCount(ue,!1))}),f._UZ(8,"i",66),f.qZA(),f.TgZ(9,"span"),f._uU(10),f.qZA(),f.TgZ(11,"button",49),f.NdJ("click",function(){const ue=f.CHM(b).$implicit,ye=f.oxw(3);return f.KtG(ye.productCount(ue,!0))}),f._UZ(12,"i",67),f.qZA()(),f.TgZ(13,"div",68)(14,"span"),f._uU(15),f.qZA(),f._uU(16," \u0433\u0440\u043d"),f.qZA()(),f.TgZ(17,"div",69),f.NdJ("click",function(){const ue=f.CHM(b).index,ye=f.oxw(3);return f.KtG(ye.deleteProduct(ue))}),f._UZ(18,"i",70),f.qZA()()}if(2&H){const b=v.$implicit;f.xp6(3),f.Q6J("src",b.imagePath,f.LSH),f.xp6(2),f.Oqu(b.name),f.xp6(5),f.Oqu(b.count),f.xp6(5),f.Oqu(b.price*b.count)}}function F(H,v){if(1&H&&(f.TgZ(0,"ul",58),f.YNc(1,q,19,4,"li",59),f.qZA()),2&H){const b=f.oxw(2);f.xp6(1),f.Q6J("ngForOf",b.productsInBasket)}}const se=function(H){return{disabled:H}};function Le(H,v){if(1&H&&(f.ynx(0),f.TgZ(1,"div",51),f.YNc(2,T,7,2,"div",52),f.YNc(3,F,2,1,"ul",53),f.TgZ(4,"div",54)(5,"p",33),f._uU(6,"Total:"),f.TgZ(7,"span"),f._uU(8),f.qZA(),f._uU(9," \u0433\u0440\u043d"),f.qZA(),f.TgZ(10,"button",55),f._uU(11,"PLACE YOUR ORDER"),f.qZA()()(),f.BQk()),2&H){const b=f.oxw();f.xp6(2),f.Q6J("ngIf",0==b.productsInBasket.length),f.xp6(1),f.Q6J("ngIf",b.productsInBasket.length>0),f.xp6(5),f.hij(" ",b.totalPrice,""),f.xp6(2),f.Q6J("ngClass",f.VKq(4,se,0==b.productsInBasket.length))}}function It(H,v){if(1&H){const b=f.EpF();f.TgZ(0,"div",71),f.NdJ("click",function(){f.CHM(b);const W=f.oxw();return f.KtG(W.toggleBasket())}),f.qZA()}}const qt=function(){return["/"]};let Hn=(()=>{class H{constructor(b,P,W,ue,ye){this.orderService=b,this.categoryService=P,this.accountService=W,this.router=ue,this.dialog=ye,this.menuOpened=!1,this.profileOpened=!1,this.basketModal=!1,this.basket=[],this.userCategories=[],this.totalPrice=0,this.totalAmount=0,this.isLogin=!1,this.isAdmin=!1,this.loginUrl="",this.onClickInside=Ke=>{Ke.stopPropagation()},this.onClickOutside=Ke=>{const ut=document.querySelector(".modal-wrapper");ut&&!ut.contains(Ke.target)&&this.toggleBasket()}}ngOnInit(){this.loadBasket(),this.loadCategories(),this.updateBasket(),this.checkUserLogin(),this.checkUpdatesUserLogin()}ngAfterViewInit(){this.basketModal&&this.modalWrapper?(document.body.style.overflow="hidden",this.modalWrapper.addEventListener("click",this.onClickInside),window.addEventListener("click",this.onClickOutside)):!this.basketModal&&this.modalWrapper&&(document.body.style.overflow="auto",this.modalWrapper.removeEventListener("click",this.onClickInside),window.removeEventListener("click",this.onClickOutside))}loadCategories(){this.categoryService.getAllFirebase().subscribe(b=>{this.userCategories=b})}toggleMenu(){this.menuOpened=!this.menuOpened}toggleProfile(){this.profileOpened=!this.profileOpened}toggleBasket(){this.basketBg=document.querySelector(".header-basket"),this.modalWrapper=document.querySelector(".modal-wrapper"),this.basketBg.classList.toggle("active"),this.basketModal=!this.basketModal,document.body.style.overflow=this.basketModal?"hidden":"auto"}closeMenu(b){const P=b.target;(!P.closest(".dropdown-menu")&&this.menuOpened||!P.closest(".header-user-profile")&&this.profileOpened||P.closest(".dropdown-menu a")&&this.menuOpened||!P.closest(".header-user-profile")&&this.profileOpened)&&(this.menuOpened=!1,this.profileOpened=!1,this.sidebarIconToggleCheckbox.nativeElement.checked=!1)}get productsInBasket(){return this.basket}loadBasket(){localStorage.length>0&&localStorage.getItem("basket")&&(this.basket=JSON.parse(localStorage.getItem("basket"))),this.getTotalPrice(),this.getTotalAmount()}getTotalPrice(){this.totalPrice=this.basket.reduce((b,P)=>b+P.count*P.price,0)}getTotalAmount(){this.totalAmount=this.basket.reduce((b,P)=>b+P.count,0)}updateBasket(){this.orderService.changeBasket.subscribe(()=>{this.loadBasket()})}productCount(b,P){P?++b.count:!P&&b.count>1&&--b.count,localStorage.setItem("basket",JSON.stringify(this.basket)),this.getTotalPrice(),this.getTotalAmount()}deleteProduct(b){this.basket.splice(b,1),localStorage.setItem("basket",JSON.stringify(this.basket)),this.getTotalPrice(),this.getTotalAmount()}checkUserLogin(){const b=JSON.parse(localStorage.getItem("currentUser"));b&&b.role===ar.H.ADMIN?(this.loginUrl="admin",this.isAdmin=!0):b&&b.role===ar.H.USER?(this.isLogin=!0,this.loginUrl="cabinet"):(this.isLogin=!1,this.loginUrl="")}checkUpdatesUserLogin(){this.accountService.isUserLogin$.subscribe(()=>{this.isAdmin=!1,this.checkUserLogin()})}openLoginDialog(){this.dialog.open(Pa,{backdropClass:"dialog-back",panelClass:"auth-dialog",autoFocus:!1}).afterClosed().subscribe(b=>{})}openCallbackDialog(){this.dialog.open(da,{backdropClass:"dialog-back",panelClass:"auth-dialog",autoFocus:!1}).afterClosed().subscribe(b=>{})}logOut(){this.router.navigate(["/"]),localStorage.removeItem("currentUser"),this.accountService.isUserLogin$.next(!0)}}return H.\u0275fac=function(b){return new(b||H)(f.Y36(la.p),f.Y36(ha.H),f.Y36(Gi.B),f.Y36(qn.F0),f.Y36(xo.uw))},H.\u0275cmp=f.Xpm({type:H,selectors:[["app-header"]],viewQuery:function(b,P){if(1&b&&(f.Gf(ia,5),f.Gf(hs,5)),2&b){let W;f.iGM(W=f.CRH())&&(P.sidebarIconToggleCheckbox=W.first),f.iGM(W=f.CRH())&&(P.sidebarImgToggleCheckbox=W.first)}},hostBindings:function(b,P){1&b&&f.NdJ("click",function(ue){return P.closeMenu(ue)},!1,f.evT)},decls:50,vars:13,consts:[[1,"header"],[1,"header-wrapper"],["routerLinkActive","active",1,"header-logo",3,"routerLink"],["src","https://monosushi.com.ua/wp-content/uploads/2021/06/logo.svg","alt",""],[1,"header-nav-wrapper"],[1,"menu"],[1,"menu-nav"],[1,"menu-item"],["routerLinkActive","active",1,"hover",3,"routerLink"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/nav-img-gift.svg","alt","discounts"],["class","menu-item",4,"ngFor","ngForOf"],[1,"header-tablet-wrapper"],[1,"dropdown-menu"],[1,"checkbox-wrapper"],["type","checkbox","id","openSidebarMenu",1,"openSidebarMenu",3,"click"],["sidebarIconToggleCheckbox",""],["for","openSidebarMenu",1,"sidebarIconToggle"],[1,"spinner","diagonal","part-1"],[1,"spinner","horizontal"],[1,"spinner","diagonal","part-2"],["id","sidebarMenu",4,"ngIf"],[1,"header-callback",3,"click"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/phone.svg",1,"header-callback-img"],[1,"header-callback-text"],[1,"header-info"],["href","tel:0978780837",1,"header-phone"],[1,"header-work-time"],["class","header-user",3,"click",4,"ngIf"],["class","header-user-profile",4,"ngIf"],["class","admin","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"header-basket",3,"click"],[1,"basket-before"],["height","80%","src","https://monosushi.com.ua/wp-content/themes/monosushi/img/basket.svg","alt","basket","oncontextmenu","return false"],[1,"total"],[4,"ngIf"],["class","modal-wrapper",3,"click",4,"ngIf"],["alt","rolls",3,"src"],["id","sidebarMenu"],[1,"main-content-wrapper"],["routerLinkActive","active",3,"routerLink"],[1,"header-user",3,"click"],[1,"hover"],["src","https://monosushi.com.ua/wp-content/themes/monosushi/img/user.svg","alt",""],[1,"header-user-profile"],["type","checkbox","id","openSidebarProfile",1,"openSidebarProfile",3,"click"],["sidebarImgToggleCheckbox",""],["for","openSidebarProfile",1,"sidebarImg"],["id","sidebarProfile",4,"ngIf"],["id","sidebarProfile"],[3,"click"],["routerLinkActive","active",1,"admin",3,"routerLink"],[1,"header-basket-modal"],["class","empty-basket",4,"ngIf"],["class","header-basket-modal-top",4,"ngIf"],[1,"header-basket-modal-bottom"],[3,"ngClass"],[1,"empty-basket"],["src","/assets/images/cart-empty-img.svg","alt",""],[1,"header-basket-modal-top"],["class","basket-products-wrapper",4,"ngFor","ngForOf"],[1,"basket-products-wrapper"],[1,"basket-products"],[1,"basket-img-wrapper"],["alt","",3,"src"],[1,"title"],[1,"amount"],[1,"fa-solid","fa-minus","fa-lg"],[1,"fa-solid","fa-plus","fa-lg"],[1,"price"],[1,"basket-icon",3,"click"],[1,"fa-solid","fa-trash","fa-lg"],[1,"modal-wrapper",3,"click"]],template:function(b,P){1&b&&(f.TgZ(0,"header",0)(1,"div",1)(2,"div",2),f._UZ(3,"img",3),f.qZA(),f.TgZ(4,"div",4)(5,"nav",5)(6,"ul",6)(7,"li",7)(8,"a",8),f._UZ(9,"img",9),f.TgZ(10,"span"),f._uU(11,"Discounts"),f.qZA()()(),f.YNc(12,No,5,5,"li",10),f.qZA()()(),f.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"input",14,15),f.NdJ("click",function(){return P.toggleMenu()}),f.qZA(),f.TgZ(18,"label",16),f._UZ(19,"div",17)(20,"div",18)(21,"div",19),f.qZA()(),f.YNc(22,qr,8,6,"div",20),f.qZA(),f.TgZ(23,"button",21),f.NdJ("click",function(){return P.openCallbackDialog()}),f._UZ(24,"img",22),f.TgZ(25,"p",23),f._uU(26,"WE'LL CALL YOU"),f.qZA()(),f.TgZ(27,"div",24)(28,"a",25),f._uU(29,"(+353) 087 65 41"),f.qZA(),f.TgZ(30,"div",26),f._uU(31,"We are open "),f.TgZ(32,"span"),f._uU(33,"11am"),f.qZA(),f._uU(34," to "),f.TgZ(35,"span"),f._uU(36,"10:30pm"),f.qZA()()(),f.YNc(37,Li,3,0,"div",27),f.YNc(38,ka,7,1,"div",28),f.YNc(39,In,3,3,"div",29),f.qZA()(),f.TgZ(40,"div",30),f.NdJ("click",function(){return P.toggleBasket()}),f.TgZ(41,"div",31),f._uU(42),f.qZA(),f._UZ(43,"img",32),f.TgZ(44,"p",33)(45,"span"),f._uU(46),f.qZA(),f._uU(47," \u0433\u0440\u043d"),f.qZA()(),f.YNc(48,Le,12,6,"ng-container",34),f.qZA(),f.YNc(49,It,1,0,"div",35)),2&b&&(f.xp6(2),f.Q6J("routerLink",f.DdM(11,qt)),f.xp6(6),f.Q6J("routerLink",f.DdM(12,on)),f.xp6(4),f.Q6J("ngForOf",P.userCategories),f.xp6(10),f.Q6J("ngIf",P.menuOpened),f.xp6(15),f.Q6J("ngIf",!P.isLogin&&!P.isAdmin),f.xp6(1),f.Q6J("ngIf",P.isLogin),f.xp6(1),f.Q6J("ngIf",P.isAdmin),f.xp6(3),f.Oqu(P.totalAmount),f.xp6(4),f.Oqu(P.totalPrice),f.xp6(2),f.Q6J("ngIf",P.basketModal),f.xp6(1),f.Q6J("ngIf",P.basketModal))},dependencies:[Tn.mk,Tn.sg,Tn.O5,qn.rH,qn.Od],styles:['.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px;max-width:1920px;margin:0 auto;height:94px}.header-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.header-tablet-wrapper[_ngcontent-%COMP%]{display:flex}.header-logo[_ngcontent-%COMP%]{background-color:#b5d8f7;padding:16px 12px 16px 8px}.header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.header-nav-wrapper[_ngcontent-%COMP%]{padding-top:20px}.header[_ngcontent-%COMP%]   .menu-nav[_ngcontent-%COMP%]{display:flex;gap:20px}.header[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:45px;margin-top:8px;font-weight:700;font-size:14px}.header[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-direction:column}.header[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:28px}.header-callback[_ngcontent-%COMP%]{min-width:40px;width:160px;height:40px;background-color:#b5d8f7;border:2px solid #b5d8f7;border-radius:15px;padding-left:10px;margin-top:24px;margin-left:165px;transition:.3s all ease-in-out;position:relative}.header-callback[_ngcontent-%COMP%]:hover{background-color:#fff;transition:.3s all ease-in-out}.header-callback-img[_ngcontent-%COMP%]{position:absolute;left:8px;top:8px}.header-callback-text[_ngcontent-%COMP%]{width:120px;font-weight:700;font-size:14px;margin-left:14px}.header-info[_ngcontent-%COMP%]{min-width:120px;margin-left:56px;margin-top:28px;text-align:center}.header-phone[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:#000}.header-work-time[_ngcontent-%COMP%]{font-size:12px;margin-top:6px}.header-work-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.header-user[_ngcontent-%COMP%], .header-user-profile[_ngcontent-%COMP%]{margin-left:84px;margin-top:30px}.header-user-profile[_ngcontent-%COMP%]{margin-left:104px}.header[_ngcontent-%COMP%]   .admin[_ngcontent-%COMP%]{margin-top:25px;margin-left:45px;border:2px solid lightgray;height:20px;padding:10px;border-radius:6px}.header-basket[_ngcontent-%COMP%]{display:flex;background-color:#b5d8f7;margin:0;padding:18px;position:relative;transition:.3s all ease-in-out}.header-basket.active[_ngcontent-%COMP%]{background-color:#fff}.header-basket.active[_ngcontent-%COMP%]   .basket-before[_ngcontent-%COMP%]{background-color:#b5d8f7}.header-basket[_ngcontent-%COMP%]   .basket-before[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:24px;height:20px;background-color:#fff;border-radius:50px;position:absolute;left:12px;top:24px;transition:.3s all ease-in-out}.header-basket[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{margin-top:20px;margin-left:6px}.header-basket[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.header-basket-modal[_ngcontent-%COMP%]{width:750px;min-height:253px;border-bottom-left-radius:10px;background-color:#fff;position:absolute;right:0;top:94px;z-index:101;animation:.4s forwards _ngcontent-%COMP%_fadeInDown}.header-basket-modal[_ngcontent-%COMP%]   .basket-products-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#fff;border-top:1px solid lightgray}.header-basket-modal-top[_ngcontent-%COMP%]{min-height:150px}.header-basket-modal-top[_ngcontent-%COMP%]   .basket-products[_ngcontent-%COMP%]{display:flex;align-items:center}.header-basket-modal-top[_ngcontent-%COMP%]   .basket-img-wrapper[_ngcontent-%COMP%]{padding:10px;width:122px;height:92px;display:flex;justify-content:center;align-items:center}.header-basket-modal-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-height:100%;vertical-align:top;transition:.2s all ease-in-out}.header-basket-modal-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02);transition:transform .2s ease-in-out}.header-basket-modal-top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 10px;font-weight:700;min-width:280px;transition:.3s all ease-in-out}.header-basket-modal-top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:hover{color:#b5d8f7;transition:.3s all ease-in-out}.header-basket-modal-top[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:18px;border:1px solid lightgray;padding:10px 2px;border-radius:6px;margin:0 16px}.header-basket-modal-top[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;border-radius:6px;border:none;background-color:transparent;color:#000;outline:none;cursor:pointer;margin:0 10px;transition:.2s all ease-in-out}.header-basket-modal-top[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transition:.2s all ease-in-out;background-color:#b5d8f7}.header-basket-modal-top[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin:0 10px}.header-basket-modal-top[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;min-width:60px}.header-basket-modal-top[_ngcontent-%COMP%]   .basket-icon[_ngcontent-%COMP%]{padding:20px;margin-right:20px;transition:.2s all ease-in-out}.header-basket-modal-top[_ngcontent-%COMP%]   .basket-icon[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]:hover{color:#b5d8f7;transform:scale(1.2);transition:transform .2s ease-in-out}.header-basket-modal-bottom[_ngcontent-%COMP%]{background-color:#b5d8f7;border-bottom-left-radius:10px;height:90px;display:flex;justify-content:space-between;align-items:center;padding:10px 10px 10px 20px;font-size:20px}.header-basket-modal-bottom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.header-basket-modal-bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:14px 20px;font-size:18px;font-weight:700;background-color:#fff;border:2px solid #fff;border-radius:6px;transition:.2s all ease-in-out}.header-basket-modal-bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:transparent;transition:.2s all ease-in-out}.header-basket-modal[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-color:#cdcdcd}.header-basket-modal[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]:hover{background-color:#cdcdcd}.header-basket-modal[_ngcontent-%COMP%]   .empty-basket[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;justify-content:center;align-items:center}.header-basket-modal[_ngcontent-%COMP%]   .empty-basket[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:20px;margin-top:14px}.header-basket-modal[_ngcontent-%COMP%]   .empty-basket[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;border-radius:10px;border:2px solid #b5d8f7;background-color:#b5d8f7;padding:16px;font-size:20px;font-weight:700;transition:.2s all ease-in-out}.header-basket-modal[_ngcontent-%COMP%]   .empty-basket[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#fff;transition:.2s all ease-in-out}.modal-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#0000009a;position:absolute;top:95px;animation:.4s forwards _ngcontent-%COMP%_opasity;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.header-user-profile[_ngcontent-%COMP%]{position:relative}#sidebarProfile[_ngcontent-%COMP%]{position:fixed;top:2px;right:100px;width:200px;z-index:98;border:2px solid #b5d8f7;background-color:#fff;border-radius:5px;padding:80px 40px 20px 20px;animation:.4s forwards _ngcontent-%COMP%_fadeInDown}#sidebarProfile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;height:30px}#sidebarProfile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-top:6px}.main-content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border:2px solid #b5d8f7;padding:16px 2px 2px 16px;border-radius:10px}#openSidebarProfile[_ngcontent-%COMP%]{transition:.3s all ease-in-out;box-sizing:border-box;display:none}.sidebarImg[_ngcontent-%COMP%]{transition:.3s all ease-in-out;box-sizing:border-box;cursor:pointer;position:absolute;z-index:99;height:24px;width:24px;top:0;right:0}.sidebarImg[_ngcontent-%COMP%]:before, .sidebarImg[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20px;height:20px;transition:.3s ease-in-out}.sidebarImg[_ngcontent-%COMP%]:before{top:-10px;left:-10px;border-top:2px solid transparent;border-left:2px solid transparent}.sidebarImg[_ngcontent-%COMP%]:after{right:-10px;bottom:-10px;border-bottom:2px solid transparent;border-right:2px solid transparent}.sidebarImg[_ngcontent-%COMP%]:hover:before, .sidebarImg[_ngcontent-%COMP%]:hover:after{width:calc(100% + 19px);height:calc(100% + 19px);border-radius:5px;border-color:#b5d8f7}#openSidebarProfile[_ngcontent-%COMP%]:checked ~ .sidebarImg[_ngcontent-%COMP%]:hover:before, #openSidebarProfile[_ngcontent-%COMP%]:checked ~ .sidebarImg[_ngcontent-%COMP%]:hover:after{border-color:transparent}.dropdown-menu[_ngcontent-%COMP%]{position:relative}#sidebarMenu[_ngcontent-%COMP%]{position:fixed;width:120px;z-index:98;border:2px solid #b5d8f7;background-color:#fff;border-radius:5px;padding:80px 60px 20px 30px;margin-top:4px;transition:.3s all ease-in-out;animation:.4s forwards _ngcontent-%COMP%_fadeInDown}#sidebarMenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;height:30px}#sidebarMenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-top:2px}#sidebarMenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{padding-bottom:12px}.main-content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;height:40px;display:block;background:#fff;text-align:left;color:#000;text-decoration:none;border:2px solid transparent;border-radius:10px;padding:16px 2px 2px 16px;transition:.3s all ease-in-out}.main-content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border:2px solid #b5d8f7;padding:16px 2px 2px 16px;border-radius:10px;transition:.3s all ease-in-out}#openSidebarMenu[_ngcontent-%COMP%]:checked ~ #sidebarMenu[_ngcontent-%COMP%]{animation:.6s forwards _ngcontent-%COMP%_fadeInDown}#openSidebarMenu[_ngcontent-%COMP%]{transition:.3s all ease-in-out;box-sizing:border-box;display:none}.sidebarIconToggle[_ngcontent-%COMP%]{transition:.3s all ease-in-out;box-sizing:border-box;cursor:pointer;position:absolute;z-index:99;height:22px;width:22px;top:38px;margin-left:50px}.sidebarIconToggle[_ngcontent-%COMP%]:before, .sidebarIconToggle[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20px;height:20px;transition:.3s ease-in-out}.sidebarIconToggle[_ngcontent-%COMP%]:before{top:-10px;left:-10px;border-top:2px solid transparent;border-left:2px solid transparent}.sidebarIconToggle[_ngcontent-%COMP%]:after{right:-10px;bottom:-10px;border-bottom:2px solid transparent;border-right:2px solid transparent}.sidebarIconToggle[_ngcontent-%COMP%]:hover:before, .sidebarIconToggle[_ngcontent-%COMP%]:hover:after{width:calc(100% + 19px);height:calc(100% + 19px);border-radius:5px;border-color:#b5d8f7}.spinner[_ngcontent-%COMP%]{transition:all .3s;box-sizing:border-box;position:absolute;height:3.3px;width:100%;background-color:#000;margin-bottom:2px;border-radius:5px}.horizontal[_ngcontent-%COMP%]{transition:all .3s;box-sizing:border-box;position:relative;float:left;margin-top:3px}.diagonal.part-1[_ngcontent-%COMP%]{position:relative;transition:all .3s;box-sizing:border-box;float:left}.diagonal.part-2[_ngcontent-%COMP%]{transition:all .3s;box-sizing:border-box;position:relative;float:left;margin-top:3px}#openSidebarMenu[_ngcontent-%COMP%]:checked ~ .sidebarIconToggle[_ngcontent-%COMP%] > .horizontal[_ngcontent-%COMP%]{transition:all .3s;box-sizing:border-box;opacity:0;margin-bottom:0}#openSidebarMenu[_ngcontent-%COMP%]:checked ~ .sidebarIconToggle[_ngcontent-%COMP%] > .diagonal.part-1[_ngcontent-%COMP%]{transition:all .3s;box-sizing:border-box;transform:rotate(135deg);margin-top:8px;margin-bottom:0}#openSidebarMenu[_ngcontent-%COMP%]:checked ~ .sidebarIconToggle[_ngcontent-%COMP%] > .diagonal.part-2[_ngcontent-%COMP%]{transition:all .3s;box-sizing:border-box;transform:rotate(-135deg);margin-top:-9px;margin-bottom:0}#openSidebarMenu[_ngcontent-%COMP%]:checked ~ .sidebarIconToggle[_ngcontent-%COMP%]:hover:before, #openSidebarMenu[_ngcontent-%COMP%]:checked ~ .sidebarIconToggle[_ngcontent-%COMP%]:hover:after{border-color:transparent}.hover[_ngcontent-%COMP%]{position:relative;padding:5px;min-width:35px;margin:auto;cursor:pointer;text-align:center}.hover[_ngcontent-%COMP%]:before, .hover[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20px;height:20px;transition:.3s ease-in-out}.hover[_ngcontent-%COMP%]:before{top:-5px;left:-5px;border-top:2px solid transparent;border-left:2px solid transparent}.hover[_ngcontent-%COMP%]:after{right:-5px;bottom:-5px;border-bottom:2px solid transparent;border-right:2px solid transparent}.hover[_ngcontent-%COMP%]:hover:before, .hover[_ngcontent-%COMP%]:hover:after{width:calc(100% + 9px);height:calc(100% + 9px);border-radius:5px;border-color:#b5d8f7}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translate3d(0,-5%,0)}to{opacity:1;transform:none}}@keyframes _ngcontent-%COMP%_opasity{0%{opacity:0}to{opacity:1}}@media (max-width: 1408px){.header-info[_ngcontent-%COMP%]{width:140px}}@media (max-width: 1494px){.header-user[_ngcontent-%COMP%], .header-user-profile[_ngcontent-%COMP%]{margin-left:40px}.header-callback[_ngcontent-%COMP%]{width:40px}.header-callback-text[_ngcontent-%COMP%]{display:none}.header-callback-img[_ngcontent-%COMP%]{padding-left:4px}}@media (max-width: 1318px){.header[_ngcontent-%COMP%]{position:fixed;background-color:#fff;z-index:999;width:100%}.header-info[_ngcontent-%COMP%]{display:none}.header-nav-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:999;background-color:#fff;width:100%;border-top:2px solid lightgray}.header-nav-wrapper[_ngcontent-%COMP%]{padding-top:8px}.header[_ngcontent-%COMP%]   .menu-nav[_ngcontent-%COMP%]{justify-content:space-around;padding-bottom:10px}.header-wrapper[_ngcontent-%COMP%]{justify-content:space-between}.header-tablet-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:170px;right:160px;margin:0 auto;display:flex;justify-content:space-around}.header-callback[_ngcontent-%COMP%]{margin:26px 0 0 10px}.header-info[_ngcontent-%COMP%]{margin-left:0}.header-user[_ngcontent-%COMP%], .header-user-profile[_ngcontent-%COMP%], .header-admin[_ngcontent-%COMP%]{margin:30px 0 0;min-width:20px}.header[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin-right:30px;min-width:20px}}@media (max-width: 632px){.header[_ngcontent-%COMP%]{gap:240px}.header-tablet-wrapper[_ngcontent-%COMP%]{gap:40px}}@media (max-width: 523px){.header-tablet-wrapper[_ngcontent-%COMP%]{min-width:150px}}']}),H})(),Vi=(()=>{class H{}return H.\u0275fac=function(b){return new(b||H)},H.\u0275cmp=f.Xpm({type:H,selectors:[["app-footer"]],decls:59,vars:0,consts:[[1,"footer"],[1,"footer-line"],[1,"footer-top"],[1,"footer-top-items"],["src","https://monosushi.com.ua/wp-content/uploads/2021/06/logo.svg","alt","",1,"footer-top-img"],[1,"footer-top-list"],[1,"footer-top-info"],[1,"footer-top-order"],["href","tel:0978780837",1,"footer-top-order-phone"],[1,"footer-top-worktime"],[1,"footer-bottom"],[1,"pay"],[1,"pay-card"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/pay-card-img-1.svg","alt",""],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/pay-card-img-2.svg","alt",""],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/pay-card-img-3.svg","alt",""],[1,"social-media"],[1,"social-media-icons"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/facebook-icon.svg","alt","",1,"sm-icon-img"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/instagram-icon.svg","alt",""]],template:function(b,P){1&b&&(f.TgZ(0,"footer",0),f._UZ(1,"div",1),f.TgZ(2,"div",2)(3,"div",3)(4,"a"),f._UZ(5,"img",4),f.qZA(),f.TgZ(6,"ul",5)(7,"li")(8,"a"),f._uU(9,"Discounts"),f.qZA()(),f.TgZ(10,"li")(11,"a"),f._uU(12,"About us"),f.qZA()(),f.TgZ(13,"li")(14,"a"),f._uU(15,"Offer"),f.qZA()()(),f.TgZ(16,"div",6)(17,"p"),f._uU(18,"Pick-up points"),f.qZA(),f.TgZ(19,"ul")(20,"li"),f._uU(21,"10v Volodymyr Velykyi St."),f.qZA(),f.TgZ(22,"li"),f._uU(23,"95 Chornovola St."),f.qZA()()(),f.TgZ(24,"div",7)(25,"p"),f._uU(26,"Make an order"),f.qZA(),f.TgZ(27,"a",8),f._uU(28,"(+353) 087 65 41"),f.qZA()()(),f.TgZ(29,"div",9)(30,"p"),f._uU(31,"Working hours"),f.qZA(),f.TgZ(32,"div"),f._uU(33,"We are open "),f.TgZ(34,"span"),f._uU(35,"11am"),f.qZA(),f._uU(36," to "),f.TgZ(37,"span"),f._uU(38,"10:30pm"),f.qZA()()()(),f.TgZ(39,"div",10)(40,"h2"),f._uU(41,"\xa9 2023 Monosushi"),f.qZA(),f.TgZ(42,"div",11)(43,"div",12),f._UZ(44,"img",13),f.qZA(),f.TgZ(45,"div",12),f._UZ(46,"img",14),f.qZA(),f.TgZ(47,"div",12),f._UZ(48,"img",15),f.qZA()(),f.TgZ(49,"div",16)(50,"span"),f._uU(51,"Follow us"),f.qZA(),f.TgZ(52,"ul",17)(53,"li")(54,"a"),f._UZ(55,"img",18),f.qZA()(),f.TgZ(56,"li")(57,"a"),f._UZ(58,"img",19),f.qZA()()()()()())},styles:[".footer[_ngcontent-%COMP%]{min-width:100%;height:180px;font-size:13px;margin-top:60px;padding-bottom:20px}.footer-line[_ngcontent-%COMP%]{min-width:100%;height:4px;background-color:#b5d8f7}.footer-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;padding-left:30px;padding-right:30px}.footer-top-items[_ngcontent-%COMP%]{display:flex}.footer-top-img[_ngcontent-%COMP%]{width:80%;margin-top:26px}.footer-top-list[_ngcontent-%COMP%]{display:flex;gap:40px;margin:40px 160px 10px;font-size:15px}.footer-top-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#b5d8f7;transition:.3s all ease-in-out}.footer-top-info[_ngcontent-%COMP%]{width:200px;margin-top:30px;margin-left:60px;text-align:center}.footer-top-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.footer-top-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.footer-top-order[_ngcontent-%COMP%]{margin-top:30px;margin-left:70px;text-align:center}.footer-top-order[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.footer-top-order[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.footer-top-order[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#b5d8f7;transition:.3s all ease-in-out}.footer-top-worktime[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.footer-top-worktime[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.footer-top-worktime[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.footer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:10px}.footer-bottom[_ngcontent-%COMP%]{display:flex;gap:10px;padding-left:30px;padding-right:30px}.footer-bottom[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:150px}.footer[_ngcontent-%COMP%]   .pay[_ngcontent-%COMP%]{display:flex;gap:14px;margin-left:210px}.footer[_ngcontent-%COMP%]   .pay-card[_ngcontent-%COMP%]{height:20px;padding:10px;border:1px solid rgb(221,221,221);border-radius:5px;text-align:center;line-height:26px}.footer[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]{display:flex;margin-left:270px;margin-top:10px}.footer[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:42px;width:80px}.footer[_ngcontent-%COMP%]   .social-media-icons[_ngcontent-%COMP%]{display:flex;gap:10px;margin-left:20px}.footer[_ngcontent-%COMP%]   .social-media-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 11px;border:1px solid #b5d8f7;border-radius:5px;text-align:center;background-color:#b5d8f7;transition:.3s all ease-in-out}.footer[_ngcontent-%COMP%]   .social-media-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#fff;transition:.3s all ease-in-out}.footer[_ngcontent-%COMP%]   .social-media-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){padding:10px 15px}@media (max-width: 1318px){.footer[_ngcontent-%COMP%]{margin-bottom:80px}.footer-top-worktime[_ngcontent-%COMP%]{display:none}.footer-top-list[_ngcontent-%COMP%]{margin-left:100px;margin-right:100px}.footer-top-info[_ngcontent-%COMP%]{margin-left:20px}.footer-top-img[_ngcontent-%COMP%]{width:100%}.footer[_ngcontent-%COMP%]   .pay[_ngcontent-%COMP%]{margin-left:150px}.footer[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]{margin-left:180px;margin-bottom:20px}}@media (max-width: 896px){.footer[_ngcontent-%COMP%]{margin-bottom:280px}.footer-top-items[_ngcontent-%COMP%]{margin:auto;flex-direction:column;text-align:center}.footer-top-img[_ngcontent-%COMP%]{width:35%;margin-top:16px}.footer-top-list[_ngcontent-%COMP%], .footer-top-info[_ngcontent-%COMP%]{margin:10px auto}.footer-top-order[_ngcontent-%COMP%]{margin:0 auto}.footer-bottom[_ngcontent-%COMP%]{flex-direction:column;text-align:center;margin:auto}.footer-bottom[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:none}.footer-bottom[_ngcontent-%COMP%]   .pay[_ngcontent-%COMP%]{margin:10px auto}.footer-bottom[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]{margin:auto}.footer-bottom[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;width:40px}}"]}),H})(),Wi=(()=>{class H{constructor(){this.title="monosushi"}}return H.\u0275fac=function(b){return new(b||H)},H.\u0275cmp=f.Xpm({type:H,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"wrapper"],[1,"page"]],template:function(b,P){1&b&&(f.TgZ(0,"div",0),f._UZ(1,"app-header"),f.TgZ(2,"main",1),f._UZ(3,"router-outlet"),f.qZA(),f._UZ(4,"app-footer"),f.qZA())},dependencies:[qn.lC,Hn,Vi],styles:[".wrapper[_ngcontent-%COMP%]{min-height:100%;display:flex;flex-direction:column}.page[_ngcontent-%COMP%]{flex:1 1 auto}"]}),H})();var fr=B(3692);const $i_firebase={projectId:"monosushi-54daf",appId:"1:764775101400:web:bffda14a2bb49bf355f8ad",storageBucket:"monosushi-54daf.appspot.com",apiKey:"AIzaSyBOq6eYUtX4SZVp28knGwhfnghUa_Z693c",authDomain:"monosushi-54daf.firebaseapp.com",messagingSenderId:"764775101400"};var Kr=B(3742),Rn=B(9424),Rr=B(529);let Ao=(()=>{class H{}return H.\u0275fac=function(b){return new(b||H)},H.\u0275mod=f.oAB({type:H,bootstrap:[Wi]}),H.\u0275inj=f.cJS({imports:[p.b2,en,Ns,(0,fr.hX)(()=>(0,fr.ZF)($i_firebase)),(0,Kr.Vq)(()=>(0,Kr.cF)()),(0,Zi.Cm)(()=>(0,Zi.ad)()),(0,rr.AR)(()=>(0,rr.v0)()),Gs.Rh.forRoot(),Rn.m,Rr.JF]}),H})();p.q6().bootstrapModule(Ao).catch(H=>console.error(H))},1135:(bn,ot,B)=>{B.d(ot,{X:()=>f});var p=B(7579);class f extends p.x{constructor(Ne){super(),this._value=Ne}get value(){return this.getValue()}_subscribe(Ne){const Pe=super._subscribe(Ne);return!Pe.closed&&Ne.next(this._value),Pe}getValue(){const{hasError:Ne,thrownError:Pe,_value:_e}=this;if(Ne)throw Pe;return this._throwIfClosed(),_e}next(Ne){super.next(this._value=Ne)}}},9751:(bn,ot,B)=>{B.d(ot,{y:()=>Ae});var p=B(930),f=B(727),le=B(8822),Ne=B(9635),Pe=B(2416),_e=B(576),Ie=B(2806);let Ae=(()=>{class Ze{constructor(gt){gt&&(this._subscribe=gt)}lift(gt){const Lt=new Ze;return Lt.source=this,Lt.operator=gt,Lt}subscribe(gt,Lt,_t){const Ht=function Se(Ze){return Ze&&Ze instanceof p.Lv||function ce(Ze){return Ze&&(0,_e.m)(Ze.next)&&(0,_e.m)(Ze.error)&&(0,_e.m)(Ze.complete)}(Ze)&&(0,f.Nn)(Ze)}(gt)?gt:new p.Hp(gt,Lt,_t);return(0,Ie.x)(()=>{const{operator:Qt,source:gn}=this;Ht.add(Qt?Qt.call(Ht,gn):gn?this._subscribe(Ht):this._trySubscribe(Ht))}),Ht}_trySubscribe(gt){try{return this._subscribe(gt)}catch(Lt){gt.error(Lt)}}forEach(gt,Lt){return new(Lt=Ge(Lt))((_t,Ht)=>{const Qt=new p.Hp({next:gn=>{try{gt(gn)}catch(Pn){Ht(Pn),Qt.unsubscribe()}},error:Ht,complete:_t});this.subscribe(Qt)})}_subscribe(gt){var Lt;return null===(Lt=this.source)||void 0===Lt?void 0:Lt.subscribe(gt)}[le.L](){return this}pipe(...gt){return(0,Ne.U)(gt)(this)}toPromise(gt){return new(gt=Ge(gt))((Lt,_t)=>{let Ht;this.subscribe(Qt=>Ht=Qt,Qt=>_t(Qt),()=>Lt(Ht))})}}return Ze.create=Dt=>new Ze(Dt),Ze})();function Ge(Ze){var Dt;return null!==(Dt=Ze??Pe.v.Promise)&&void 0!==Dt?Dt:Promise}},7579:(bn,ot,B)=>{B.d(ot,{x:()=>Ie});var p=B(9751),f=B(727);const Ne=(0,B(3888).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=B(8737),_e=B(2806);let Ie=(()=>{class Ge extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Se){const Ze=new Ae(this,this);return Ze.operator=Se,Ze}_throwIfClosed(){if(this.closed)throw new Ne}next(Se){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ze of this.currentObservers)Ze.next(Se)}})}error(Se){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Se;const{observers:Ze}=this;for(;Ze.length;)Ze.shift().error(Se)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Se}=this;for(;Se.length;)Se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Se;return(null===(Se=this.observers)||void 0===Se?void 0:Se.length)>0}_trySubscribe(Se){return this._throwIfClosed(),super._trySubscribe(Se)}_subscribe(Se){return this._throwIfClosed(),this._checkFinalizedStatuses(Se),this._innerSubscribe(Se)}_innerSubscribe(Se){const{hasError:Ze,isStopped:Dt,observers:gt}=this;return Ze||Dt?f.Lc:(this.currentObservers=null,gt.push(Se),new f.w0(()=>{this.currentObservers=null,(0,Pe.P)(gt,Se)}))}_checkFinalizedStatuses(Se){const{hasError:Ze,thrownError:Dt,isStopped:gt}=this;Ze?Se.error(Dt):gt&&Se.complete()}asObservable(){const Se=new p.y;return Se.source=this,Se}}return Ge.create=(ce,Se)=>new Ae(ce,Se),Ge})();class Ae extends Ie{constructor(ce,Se){super(),this.destination=ce,this.source=Se}next(ce){var Se,Ze;null===(Ze=null===(Se=this.destination)||void 0===Se?void 0:Se.next)||void 0===Ze||Ze.call(Se,ce)}error(ce){var Se,Ze;null===(Ze=null===(Se=this.destination)||void 0===Se?void 0:Se.error)||void 0===Ze||Ze.call(Se,ce)}complete(){var ce,Se;null===(Se=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===Se||Se.call(ce)}_subscribe(ce){var Se,Ze;return null!==(Ze=null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(ce))&&void 0!==Ze?Ze:f.Lc}}},930:(bn,ot,B)=>{B.d(ot,{Hp:()=>_t,Lv:()=>Ze});var p=B(576),f=B(727),le=B(2416),Ne=B(7849),Pe=B(5032);const _e=Ge("C",void 0,void 0);function Ge(Me,Ce,Oe){return{kind:Me,value:Ce,error:Oe}}var ce=B(3410),Se=B(2806);class Ze extends f.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,f.Nn)(Ce)&&Ce.add(this)):this.destination=Pn}static create(Ce,Oe,ct){return new _t(Ce,Oe,ct)}next(Ce){this.isStopped?gn(function Ae(Me){return Ge("N",Me,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?gn(function Ie(Me){return Ge("E",void 0,Me)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?gn(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Dt=Function.prototype.bind;function gt(Me,Ce){return Dt.call(Me,Ce)}class Lt{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Ce)}catch(ct){Ht(ct)}}error(Ce){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Ce)}catch(ct){Ht(ct)}else Ht(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Oe){Ht(Oe)}}}class _t extends Ze{constructor(Ce,Oe,ct){let Nt;if(super(),(0,p.m)(Ce)||!Ce)Nt={next:Ce??void 0,error:Oe??void 0,complete:ct??void 0};else{let rt;this&&le.v.useDeprecatedNextContext?(rt=Object.create(Ce),rt.unsubscribe=()=>this.unsubscribe(),Nt={next:Ce.next&&gt(Ce.next,rt),error:Ce.error&&gt(Ce.error,rt),complete:Ce.complete&&gt(Ce.complete,rt)}):Nt=Ce}this.destination=new Lt(Nt)}}function Ht(Me){le.v.useDeprecatedSynchronousErrorHandling?(0,Se.O)(Me):(0,Ne.h)(Me)}function gn(Me,Ce){const{onStoppedNotification:Oe}=le.v;Oe&&ce.z.setTimeout(()=>Oe(Me,Ce))}const Pn={closed:!0,next:Pe.Z,error:function Qt(Me){throw Me},complete:Pe.Z}},727:(bn,ot,B)=>{B.d(ot,{Lc:()=>_e,w0:()=>Pe,Nn:()=>Ie});var p=B(576);const le=(0,B(3888).d)(Ge=>function(Se){Ge(this),this.message=Se?`${Se.length} errors occurred during unsubscription:\n${Se.map((Ze,Dt)=>`${Dt+1}) ${Ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Se});var Ne=B(8737);class Pe{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:Se}=this;if(Se)if(this._parentage=null,Array.isArray(Se))for(const gt of Se)gt.remove(this);else Se.remove(this);const{initialTeardown:Ze}=this;if((0,p.m)(Ze))try{Ze()}catch(gt){ce=gt instanceof le?gt.errors:[gt]}const{_finalizers:Dt}=this;if(Dt){this._finalizers=null;for(const gt of Dt)try{Ae(gt)}catch(Lt){ce=ce??[],Lt instanceof le?ce=[...ce,...Lt.errors]:ce.push(Lt)}}if(ce)throw new le(ce)}}add(ce){var Se;if(ce&&ce!==this)if(this.closed)Ae(ce);else{if(ce instanceof Pe){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(Se=this._finalizers)&&void 0!==Se?Se:[]).push(ce)}}_hasParent(ce){const{_parentage:Se}=this;return Se===ce||Array.isArray(Se)&&Se.includes(ce)}_addParent(ce){const{_parentage:Se}=this;this._parentage=Array.isArray(Se)?(Se.push(ce),Se):Se?[Se,ce]:ce}_removeParent(ce){const{_parentage:Se}=this;Se===ce?this._parentage=null:Array.isArray(Se)&&(0,Ne.P)(Se,ce)}remove(ce){const{_finalizers:Se}=this;Se&&(0,Ne.P)(Se,ce),ce instanceof Pe&&ce._removeParent(this)}}Pe.EMPTY=(()=>{const Ge=new Pe;return Ge.closed=!0,Ge})();const _e=Pe.EMPTY;function Ie(Ge){return Ge instanceof Pe||Ge&&"closed"in Ge&&(0,p.m)(Ge.remove)&&(0,p.m)(Ge.add)&&(0,p.m)(Ge.unsubscribe)}function Ae(Ge){(0,p.m)(Ge)?Ge():Ge.unsubscribe()}},2416:(bn,ot,B)=>{B.d(ot,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(bn,ot,B)=>{B.d(ot,{a:()=>ce});var p=B(9751),f=B(4742),le=B(8996),Ne=B(4671),Pe=B(3268),_e=B(3269),Ie=B(1810),Ae=B(5403),Ge=B(9672);function ce(...Dt){const gt=(0,_e.yG)(Dt),Lt=(0,_e.jO)(Dt),{args:_t,keys:Ht}=(0,f.D)(Dt);if(0===_t.length)return(0,le.D)([],gt);const Qt=new p.y(function Se(Dt,gt,Lt=Ne.y){return _t=>{Ze(gt,()=>{const{length:Ht}=Dt,Qt=new Array(Ht);let gn=Ht,Pn=Ht;for(let Me=0;Me<Ht;Me++)Ze(gt,()=>{const Ce=(0,le.D)(Dt[Me],gt);let Oe=!1;Ce.subscribe((0,Ae.x)(_t,ct=>{Qt[Me]=ct,Oe||(Oe=!0,Pn--),Pn||_t.next(Lt(Qt.slice()))},()=>{--gn||_t.complete()}))},_t)},_t)}}(_t,gt,Ht?gn=>(0,Ie.n)(Ht,gn):Ne.y));return Lt?Qt.pipe((0,Pe.Z)(Lt)):Qt}function Ze(Dt,gt,Lt){Dt?(0,Ge.f)(Lt,Dt,gt):gt()}},7272:(bn,ot,B)=>{B.d(ot,{z:()=>Pe});var p=B(8189),le=B(3269),Ne=B(8996);function Pe(..._e){return function f(){return(0,p.J)(1)}()((0,Ne.D)(_e,(0,le.yG)(_e)))}},9770:(bn,ot,B)=>{B.d(ot,{P:()=>le});var p=B(9751),f=B(8421);function le(Ne){return new p.y(Pe=>{(0,f.Xf)(Ne()).subscribe(Pe)})}},515:(bn,ot,B)=>{B.d(ot,{E:()=>f});const f=new(B(9751).y)(Pe=>Pe.complete())},8996:(bn,ot,B)=>{B.d(ot,{D:()=>Ce});var p=B(8421),f=B(5363),le=B(9468),_e=B(9751),Ae=B(2202),Ge=B(576),ce=B(9672);function Ze(Oe,ct){if(!Oe)throw new Error("Iterable cannot be null");return new _e.y(Nt=>{(0,ce.f)(Nt,ct,()=>{const rt=Oe[Symbol.asyncIterator]();(0,ce.f)(Nt,ct,()=>{rt.next().then(lt=>{lt.done?Nt.complete():Nt.next(lt.value)})},0,!0)})})}var Dt=B(3670),gt=B(8239),Lt=B(1144),_t=B(6495),Ht=B(2206),Qt=B(4532),gn=B(3260);function Ce(Oe,ct){return ct?function Me(Oe,ct){if(null!=Oe){if((0,Dt.c)(Oe))return function Ne(Oe,ct){return(0,p.Xf)(Oe).pipe((0,le.R)(ct),(0,f.Q)(ct))}(Oe,ct);if((0,Lt.z)(Oe))return function Ie(Oe,ct){return new _e.y(Nt=>{let rt=0;return ct.schedule(function(){rt===Oe.length?Nt.complete():(Nt.next(Oe[rt++]),Nt.closed||this.schedule())})})}(Oe,ct);if((0,gt.t)(Oe))return function Pe(Oe,ct){return(0,p.Xf)(Oe).pipe((0,le.R)(ct),(0,f.Q)(ct))}(Oe,ct);if((0,Ht.D)(Oe))return Ze(Oe,ct);if((0,_t.T)(Oe))return function Se(Oe,ct){return new _e.y(Nt=>{let rt;return(0,ce.f)(Nt,ct,()=>{rt=Oe[Ae.h](),(0,ce.f)(Nt,ct,()=>{let lt,$t;try{({value:lt,done:$t}=rt.next())}catch(Zt){return void Nt.error(Zt)}$t?Nt.complete():Nt.next(lt)},0,!0)}),()=>(0,Ge.m)(rt?.return)&&rt.return()})}(Oe,ct);if((0,gn.L)(Oe))return function Pn(Oe,ct){return Ze((0,gn.Q)(Oe),ct)}(Oe,ct)}throw(0,Qt.z)(Oe)}(Oe,ct):(0,p.Xf)(Oe)}},8421:(bn,ot,B)=>{B.d(ot,{Xf:()=>Dt});var p=B(655),f=B(1144),le=B(8239),Ne=B(9751),Pe=B(3670),_e=B(2206),Ie=B(4532),Ae=B(6495),Ge=B(3260),ce=B(576),Se=B(7849),Ze=B(8822);function Dt(Me){if(Me instanceof Ne.y)return Me;if(null!=Me){if((0,Pe.c)(Me))return function gt(Me){return new Ne.y(Ce=>{const Oe=Me[Ze.L]();if((0,ce.m)(Oe.subscribe))return Oe.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,f.z)(Me))return function Lt(Me){return new Ne.y(Ce=>{for(let Oe=0;Oe<Me.length&&!Ce.closed;Oe++)Ce.next(Me[Oe]);Ce.complete()})}(Me);if((0,le.t)(Me))return function _t(Me){return new Ne.y(Ce=>{Me.then(Oe=>{Ce.closed||(Ce.next(Oe),Ce.complete())},Oe=>Ce.error(Oe)).then(null,Se.h)})}(Me);if((0,_e.D)(Me))return Qt(Me);if((0,Ae.T)(Me))return function Ht(Me){return new Ne.y(Ce=>{for(const Oe of Me)if(Ce.next(Oe),Ce.closed)return;Ce.complete()})}(Me);if((0,Ge.L)(Me))return function gn(Me){return Qt((0,Ge.Q)(Me))}(Me)}throw(0,Ie.z)(Me)}function Qt(Me){return new Ne.y(Ce=>{(function Pn(Me,Ce){var Oe,ct,Nt,rt;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,p.KL)(Me);!(ct=yield Oe.next()).done;)if(Ce.next(ct.value),Ce.closed)return}catch(lt){Nt={error:lt}}finally{try{ct&&!ct.done&&(rt=Oe.return)&&(yield rt.call(Oe))}finally{if(Nt)throw Nt.error}}Ce.complete()})})(Me,Ce).catch(Oe=>Ce.error(Oe))})}},6451:(bn,ot,B)=>{B.d(ot,{T:()=>_e});var p=B(8189),f=B(8421),le=B(515),Ne=B(3269),Pe=B(8996);function _e(...Ie){const Ae=(0,Ne.yG)(Ie),Ge=(0,Ne._6)(Ie,1/0),ce=Ie;return ce.length?1===ce.length?(0,f.Xf)(ce[0]):(0,p.J)(Ge)((0,Pe.D)(ce,Ae)):le.E}},9646:(bn,ot,B)=>{B.d(ot,{of:()=>le});var p=B(3269),f=B(8996);function le(...Ne){const Pe=(0,p.yG)(Ne);return(0,f.D)(Ne,Pe)}},5403:(bn,ot,B)=>{B.d(ot,{x:()=>f});var p=B(930);function f(Ne,Pe,_e,Ie,Ae){return new le(Ne,Pe,_e,Ie,Ae)}class le extends p.Lv{constructor(Pe,_e,Ie,Ae,Ge,ce){super(Pe),this.onFinalize=Ge,this.shouldUnsubscribe=ce,this._next=_e?function(Se){try{_e(Se)}catch(Ze){Pe.error(Ze)}}:super._next,this._error=Ae?function(Se){try{Ae(Se)}catch(Ze){Pe.error(Ze)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(Se){Pe.error(Se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(Pe=this.onFinalize)||void 0===Pe||Pe.call(this))}}}},4351:(bn,ot,B)=>{B.d(ot,{b:()=>le});var p=B(5577),f=B(576);function le(Ne,Pe){return(0,f.m)(Pe)?(0,p.z)(Ne,Pe,1):(0,p.z)(Ne,1)}},8372:(bn,ot,B)=>{B.d(ot,{b:()=>Ne});var p=B(4986),f=B(4482),le=B(5403);function Ne(Pe,_e=p.z){return(0,f.e)((Ie,Ae)=>{let Ge=null,ce=null,Se=null;const Ze=()=>{if(Ge){Ge.unsubscribe(),Ge=null;const gt=ce;ce=null,Ae.next(gt)}};function Dt(){const gt=Se+Pe,Lt=_e.now();if(Lt<gt)return Ge=this.schedule(void 0,gt-Lt),void Ae.add(Ge);Ze()}Ie.subscribe((0,le.x)(Ae,gt=>{ce=gt,Se=_e.now(),Ge||(Ge=_e.schedule(Dt,Pe),Ae.add(Ge))},()=>{Ze(),Ae.complete()},void 0,()=>{ce=Ge=null}))})}},9300:(bn,ot,B)=>{B.d(ot,{h:()=>le});var p=B(4482),f=B(5403);function le(Ne,Pe){return(0,p.e)((_e,Ie)=>{let Ae=0;_e.subscribe((0,f.x)(Ie,Ge=>Ne.call(Pe,Ge,Ae++)&&Ie.next(Ge)))})}},4004:(bn,ot,B)=>{B.d(ot,{U:()=>le});var p=B(4482),f=B(5403);function le(Ne,Pe){return(0,p.e)((_e,Ie)=>{let Ae=0;_e.subscribe((0,f.x)(Ie,Ge=>{Ie.next(Ne.call(Pe,Ge,Ae++))}))})}},8189:(bn,ot,B)=>{B.d(ot,{J:()=>le});var p=B(5577),f=B(4671);function le(Ne=1/0){return(0,p.z)(f.y,Ne)}},5577:(bn,ot,B)=>{B.d(ot,{z:()=>Ae});var p=B(4004),f=B(8421),le=B(4482),Ne=B(9672),Pe=B(5403),Ie=B(576);function Ae(Ge,ce,Se=1/0){return(0,Ie.m)(ce)?Ae((Ze,Dt)=>(0,p.U)((gt,Lt)=>ce(Ze,gt,Dt,Lt))((0,f.Xf)(Ge(Ze,Dt))),Se):("number"==typeof ce&&(Se=ce),(0,le.e)((Ze,Dt)=>function _e(Ge,ce,Se,Ze,Dt,gt,Lt,_t){const Ht=[];let Qt=0,gn=0,Pn=!1;const Me=()=>{Pn&&!Ht.length&&!Qt&&ce.complete()},Ce=ct=>Qt<Ze?Oe(ct):Ht.push(ct),Oe=ct=>{gt&&ce.next(ct),Qt++;let Nt=!1;(0,f.Xf)(Se(ct,gn++)).subscribe((0,Pe.x)(ce,rt=>{Dt?.(rt),gt?Ce(rt):ce.next(rt)},()=>{Nt=!0},void 0,()=>{if(Nt)try{for(Qt--;Ht.length&&Qt<Ze;){const rt=Ht.shift();Lt?(0,Ne.f)(ce,Lt,()=>Oe(rt)):Oe(rt)}Me()}catch(rt){ce.error(rt)}}))};return Ge.subscribe((0,Pe.x)(ce,Ce,()=>{Pn=!0,Me()})),()=>{_t?.()}}(Ze,Dt,Ge,Se)))}},5363:(bn,ot,B)=>{B.d(ot,{Q:()=>Ne});var p=B(9672),f=B(4482),le=B(5403);function Ne(Pe,_e=0){return(0,f.e)((Ie,Ae)=>{Ie.subscribe((0,le.x)(Ae,Ge=>(0,p.f)(Ae,Pe,()=>Ae.next(Ge),_e),()=>(0,p.f)(Ae,Pe,()=>Ae.complete(),_e),Ge=>(0,p.f)(Ae,Pe,()=>Ae.error(Ge),_e)))})}},8675:(bn,ot,B)=>{B.d(ot,{O:()=>Ne});var p=B(7272),f=B(3269),le=B(4482);function Ne(...Pe){const _e=(0,f.yG)(Pe);return(0,le.e)((Ie,Ae)=>{(_e?(0,p.z)(Pe,Ie,_e):(0,p.z)(Pe,Ie)).subscribe(Ae)})}},9468:(bn,ot,B)=>{B.d(ot,{R:()=>f});var p=B(4482);function f(le,Ne=0){return(0,p.e)((Pe,_e)=>{_e.add(le.schedule(()=>Pe.subscribe(_e),Ne))})}},5698:(bn,ot,B)=>{B.d(ot,{q:()=>Ne});var p=B(515),f=B(4482),le=B(5403);function Ne(Pe){return Pe<=0?()=>p.E:(0,f.e)((_e,Ie)=>{let Ae=0;_e.subscribe((0,le.x)(Ie,Ge=>{++Ae<=Pe&&(Ie.next(Ge),Pe<=Ae&&Ie.complete())}))})}},2722:(bn,ot,B)=>{B.d(ot,{R:()=>Pe});var p=B(4482),f=B(5403),le=B(8421),Ne=B(5032);function Pe(_e){return(0,p.e)((Ie,Ae)=>{(0,le.Xf)(_e).subscribe((0,f.x)(Ae,()=>Ae.complete(),Ne.Z)),!Ae.closed&&Ie.subscribe(Ae)})}},8505:(bn,ot,B)=>{B.d(ot,{b:()=>Pe});var p=B(576),f=B(4482),le=B(5403),Ne=B(4671);function Pe(_e,Ie,Ae){const Ge=(0,p.m)(_e)||Ie||Ae?{next:_e,error:Ie,complete:Ae}:_e;return Ge?(0,f.e)((ce,Se)=>{var Ze;null===(Ze=Ge.subscribe)||void 0===Ze||Ze.call(Ge);let Dt=!0;ce.subscribe((0,le.x)(Se,gt=>{var Lt;null===(Lt=Ge.next)||void 0===Lt||Lt.call(Ge,gt),Se.next(gt)},()=>{var gt;Dt=!1,null===(gt=Ge.complete)||void 0===gt||gt.call(Ge),Se.complete()},gt=>{var Lt;Dt=!1,null===(Lt=Ge.error)||void 0===Lt||Lt.call(Ge,gt),Se.error(gt)},()=>{var gt,Lt;Dt&&(null===(gt=Ge.unsubscribe)||void 0===gt||gt.call(Ge)),null===(Lt=Ge.finalize)||void 0===Lt||Lt.call(Ge)}))}):Ne.y}},4408:(bn,ot,B)=>{B.d(ot,{o:()=>Pe});var p=B(727);class f extends p.w0{constructor(Ie,Ae){super()}schedule(Ie,Ae=0){return this}}const le={setInterval(_e,Ie,...Ae){const{delegate:Ge}=le;return Ge?.setInterval?Ge.setInterval(_e,Ie,...Ae):setInterval(_e,Ie,...Ae)},clearInterval(_e){const{delegate:Ie}=le;return(Ie?.clearInterval||clearInterval)(_e)},delegate:void 0};var Ne=B(8737);class Pe extends f{constructor(Ie,Ae){super(Ie,Ae),this.scheduler=Ie,this.work=Ae,this.pending=!1}schedule(Ie,Ae=0){var Ge;if(this.closed)return this;this.state=Ie;const ce=this.id,Se=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(Se,ce,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(Se,this.id,Ae),this}requestAsyncId(Ie,Ae,Ge=0){return le.setInterval(Ie.flush.bind(Ie,this),Ge)}recycleAsyncId(Ie,Ae,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return Ae;null!=Ae&&le.clearInterval(Ae)}execute(Ie,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(Ie,Ae);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,Ae){let ce,Ge=!1;try{this.work(Ie)}catch(Se){Ge=!0,ce=Se||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:Ae}=this,{actions:Ge}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ne.P)(Ge,this),null!=Ie&&(this.id=this.recycleAsyncId(Ae,Ie,null)),this.delay=null,super.unsubscribe()}}}},640:(bn,ot,B)=>{B.d(ot,{v:()=>le});const p={now:()=>(p.delegate||Date).now(),delegate:void 0};class f{constructor(Pe,_e=f.now){this.schedulerActionCtor=Pe,this.now=_e}schedule(Pe,_e=0,Ie){return new this.schedulerActionCtor(this,Pe).schedule(Ie,_e)}}f.now=p.now;class le extends f{constructor(Pe,_e=f.now){super(Pe,_e),this.actions=[],this._active=!1}flush(Pe){const{actions:_e}=this;if(this._active)return void _e.push(Pe);let Ie;this._active=!0;do{if(Ie=Pe.execute(Pe.state,Pe.delay))break}while(Pe=_e.shift());if(this._active=!1,Ie){for(;Pe=_e.shift();)Pe.unsubscribe();throw Ie}}}},4986:(bn,ot,B)=>{B.d(ot,{P:()=>Ne,z:()=>le});var p=B(4408);const le=new(B(640).v)(p.o),Ne=le},3410:(bn,ot,B)=>{B.d(ot,{z:()=>p});const p={setTimeout(f,le,...Ne){const{delegate:Pe}=p;return Pe?.setTimeout?Pe.setTimeout(f,le,...Ne):setTimeout(f,le,...Ne)},clearTimeout(f){const{delegate:le}=p;return(le?.clearTimeout||clearTimeout)(f)},delegate:void 0}},2202:(bn,ot,B)=>{B.d(ot,{h:()=>f});const f=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bn,ot,B)=>{B.d(ot,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(bn,ot,B)=>{B.d(ot,{_6:()=>_e,jO:()=>Ne,yG:()=>Pe});var p=B(576),f=B(3532);function le(Ie){return Ie[Ie.length-1]}function Ne(Ie){return(0,p.m)(le(Ie))?Ie.pop():void 0}function Pe(Ie){return(0,f.K)(le(Ie))?Ie.pop():void 0}function _e(Ie,Ae){return"number"==typeof le(Ie)?Ie.pop():Ae}},4742:(bn,ot,B)=>{B.d(ot,{D:()=>Pe});const{isArray:p}=Array,{getPrototypeOf:f,prototype:le,keys:Ne}=Object;function Pe(Ie){if(1===Ie.length){const Ae=Ie[0];if(p(Ae))return{args:Ae,keys:null};if(function _e(Ie){return Ie&&"object"==typeof Ie&&f(Ie)===le}(Ae)){const Ge=Ne(Ae);return{args:Ge.map(ce=>Ae[ce]),keys:Ge}}}return{args:Ie,keys:null}}},8737:(bn,ot,B)=>{function p(f,le){if(f){const Ne=f.indexOf(le);0<=Ne&&f.splice(Ne,1)}}B.d(ot,{P:()=>p})},3888:(bn,ot,B)=>{function p(f){const Ne=f(Pe=>{Error.call(Pe),Pe.stack=(new Error).stack});return Ne.prototype=Object.create(Error.prototype),Ne.prototype.constructor=Ne,Ne}B.d(ot,{d:()=>p})},1810:(bn,ot,B)=>{function p(f,le){return f.reduce((Ne,Pe,_e)=>(Ne[Pe]=le[_e],Ne),{})}B.d(ot,{n:()=>p})},2806:(bn,ot,B)=>{B.d(ot,{O:()=>Ne,x:()=>le});var p=B(2416);let f=null;function le(Pe){if(p.v.useDeprecatedSynchronousErrorHandling){const _e=!f;if(_e&&(f={errorThrown:!1,error:null}),Pe(),_e){const{errorThrown:Ie,error:Ae}=f;if(f=null,Ie)throw Ae}}else Pe()}function Ne(Pe){p.v.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=Pe)}},9672:(bn,ot,B)=>{function p(f,le,Ne,Pe=0,_e=!1){const Ie=le.schedule(function(){Ne(),_e?f.add(this.schedule(null,Pe)):this.unsubscribe()},Pe);if(f.add(Ie),!_e)return Ie}B.d(ot,{f:()=>p})},4671:(bn,ot,B)=>{function p(f){return f}B.d(ot,{y:()=>p})},1144:(bn,ot,B)=>{B.d(ot,{z:()=>p});const p=f=>f&&"number"==typeof f.length&&"function"!=typeof f},2206:(bn,ot,B)=>{B.d(ot,{D:()=>f});var p=B(576);function f(le){return Symbol.asyncIterator&&(0,p.m)(le?.[Symbol.asyncIterator])}},576:(bn,ot,B)=>{function p(f){return"function"==typeof f}B.d(ot,{m:()=>p})},3670:(bn,ot,B)=>{B.d(ot,{c:()=>le});var p=B(8822),f=B(576);function le(Ne){return(0,f.m)(Ne[p.L])}},6495:(bn,ot,B)=>{B.d(ot,{T:()=>le});var p=B(2202),f=B(576);function le(Ne){return(0,f.m)(Ne?.[p.h])}},8239:(bn,ot,B)=>{B.d(ot,{t:()=>f});var p=B(576);function f(le){return(0,p.m)(le?.then)}},3260:(bn,ot,B)=>{B.d(ot,{L:()=>Ne,Q:()=>le});var p=B(655),f=B(576);function le(Pe){return(0,p.FC)(this,arguments,function*(){const Ie=Pe.getReader();try{for(;;){const{value:Ae,done:Ge}=yield(0,p.qq)(Ie.read());if(Ge)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Ae)}}finally{Ie.releaseLock()}})}function Ne(Pe){return(0,f.m)(Pe?.getReader)}},3532:(bn,ot,B)=>{B.d(ot,{K:()=>f});var p=B(576);function f(le){return le&&(0,p.m)(le.schedule)}},4482:(bn,ot,B)=>{B.d(ot,{A:()=>f,e:()=>le});var p=B(576);function f(Ne){return(0,p.m)(Ne?.lift)}function le(Ne){return Pe=>{if(f(Pe))return Pe.lift(function(_e){try{return Ne(_e,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(bn,ot,B)=>{B.d(ot,{Z:()=>Ne});var p=B(4004);const{isArray:f}=Array;function Ne(Pe){return(0,p.U)(_e=>function le(Pe,_e){return f(_e)?Pe(..._e):Pe(_e)}(Pe,_e))}},5032:(bn,ot,B)=>{function p(){}B.d(ot,{Z:()=>p})},9635:(bn,ot,B)=>{B.d(ot,{U:()=>le,z:()=>f});var p=B(4671);function f(...Ne){return le(Ne)}function le(Ne){return 0===Ne.length?p.y:1===Ne.length?Ne[0]:function(_e){return Ne.reduce((Ie,Ae)=>Ae(Ie),_e)}}},7849:(bn,ot,B)=>{B.d(ot,{h:()=>le});var p=B(2416),f=B(3410);function le(Ne){f.z.setTimeout(()=>{const{onUnhandledError:Pe}=p.v;if(!Pe)throw Ne;Pe(Ne)})}},4532:(bn,ot,B)=>{function p(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(ot,{z:()=>p})},655:(bn,ot,B)=>{function Ne(tt,st){var pt={};for(var St in tt)Object.prototype.hasOwnProperty.call(tt,St)&&st.indexOf(St)<0&&(pt[St]=tt[St]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var Wt=0;for(St=Object.getOwnPropertySymbols(tt);Wt<St.length;Wt++)st.indexOf(St[Wt])<0&&Object.prototype.propertyIsEnumerable.call(tt,St[Wt])&&(pt[St[Wt]]=tt[St[Wt]])}return pt}function Ze(tt,st,pt,St){return new(pt||(pt=Promise))(function(Vt,pn){function ht(et){try{We(St.next(et))}catch(Tt){pn(Tt)}}function jt(et){try{We(St.throw(et))}catch(Tt){pn(Tt)}}function We(et){et.done?Vt(et.value):function Wt(Vt){return Vt instanceof pt?Vt:new pt(function(pn){pn(Vt)})}(et.value).then(ht,jt)}We((St=St.apply(tt,st||[])).next())})}function Me(tt){return this instanceof Me?(this.v=tt,this):new Me(tt)}function Ce(tt,st,pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Wt,St=pt.apply(tt,st||[]),Vt=[];return Wt={},pn("next"),pn("throw"),pn("return"),Wt[Symbol.asyncIterator]=function(){return this},Wt;function pn(un){St[un]&&(Wt[un]=function(fi){return new Promise(function(an,dn){Vt.push([un,fi,an,dn])>1||ht(un,fi)})})}function ht(un,fi){try{!function jt(un){un.value instanceof Me?Promise.resolve(un.value.v).then(We,et):Tt(Vt[0][2],un)}(St[un](fi))}catch(an){Tt(Vt[0][3],an)}}function We(un){ht("next",un)}function et(un){ht("throw",un)}function Tt(un,fi){un(fi),Vt.shift(),Vt.length&&ht(Vt[0][0],Vt[0][1])}}function ct(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,st=tt[Symbol.asyncIterator];return st?st.call(tt):(tt=function _t(tt){var st="function"==typeof Symbol&&Symbol.iterator,pt=st&&tt[st],St=0;if(pt)return pt.call(tt);if(tt&&"number"==typeof tt.length)return{next:function(){return tt&&St>=tt.length&&(tt=void 0),{value:tt&&tt[St++],done:!tt}}};throw new TypeError(st?"Object is not iterable.":"Symbol.iterator is not defined.")}(tt),pt={},St("next"),St("throw"),St("return"),pt[Symbol.asyncIterator]=function(){return this},pt);function St(Vt){pt[Vt]=tt[Vt]&&function(pn){return new Promise(function(ht,jt){!function Wt(Vt,pn,ht,jt){Promise.resolve(jt).then(function(We){Vt({value:We,done:ht})},pn)}(ht,jt,(pn=tt[Vt](pn)).done,pn.value)})}}}B.d(ot,{FC:()=>Ce,KL:()=>ct,_T:()=>Ne,mG:()=>Ze,qq:()=>Me})},7340:(bn,ot,B)=>{B.d(ot,{IO:()=>Lt,LC:()=>f,SB:()=>Ge,X$:()=>Ne,ZE:()=>gn,ZN:()=>Qt,_j:()=>p,eR:()=>Se,jt:()=>Pe,k1:()=>Pn,l3:()=>le,oB:()=>Ae,pV:()=>Dt,ru:()=>_e,vP:()=>Ie});class p{}class f{}const le="*";function Ne(Me,Ce){return{type:7,name:Me,definitions:Ce,options:{}}}function Pe(Me,Ce=null){return{type:4,styles:Ce,timings:Me}}function _e(Me,Ce=null){return{type:3,steps:Me,options:Ce}}function Ie(Me,Ce=null){return{type:2,steps:Me,options:Ce}}function Ae(Me){return{type:6,styles:Me,offset:null}}function Ge(Me,Ce,Oe){return{type:0,name:Me,styles:Ce,options:Oe}}function Se(Me,Ce,Oe=null){return{type:1,expr:Me,animation:Ce,options:Oe}}function Dt(Me=null){return{type:9,options:Me}}function Lt(Me,Ce,Oe=null){return{type:11,selector:Me,animation:Ce,options:Oe}}function Ht(Me){Promise.resolve().then(Me)}class Qt{constructor(Ce=0,Oe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ce+Oe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ce=>Ce()),this._onDoneFns=[])}onStart(Ce){this._originalOnStartFns.push(Ce),this._onStartFns.push(Ce)}onDone(Ce){this._originalOnDoneFns.push(Ce),this._onDoneFns.push(Ce)}onDestroy(Ce){this._onDestroyFns.push(Ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ht(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ce=>Ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ce=>Ce()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ce){this._position=this.totalTime?Ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ce){const Oe="start"==Ce?this._onStartFns:this._onDoneFns;Oe.forEach(ct=>ct()),Oe.length=0}}class gn{constructor(Ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ce;let Oe=0,ct=0,Nt=0;const rt=this.players.length;0==rt?Ht(()=>this._onFinish()):this.players.forEach(lt=>{lt.onDone(()=>{++Oe==rt&&this._onFinish()}),lt.onDestroy(()=>{++ct==rt&&this._onDestroy()}),lt.onStart(()=>{++Nt==rt&&this._onStart()})}),this.totalTime=this.players.reduce((lt,$t)=>Math.max(lt,$t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ce=>Ce()),this._onDoneFns=[])}init(){this.players.forEach(Ce=>Ce.init())}onStart(Ce){this._onStartFns.push(Ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ce=>Ce()),this._onStartFns=[])}onDone(Ce){this._onDoneFns.push(Ce)}onDestroy(Ce){this._onDestroyFns.push(Ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ce=>Ce.play())}pause(){this.players.forEach(Ce=>Ce.pause())}restart(){this.players.forEach(Ce=>Ce.restart())}finish(){this._onFinish(),this.players.forEach(Ce=>Ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ce=>Ce.destroy()),this._onDestroyFns.forEach(Ce=>Ce()),this._onDestroyFns=[])}reset(){this.players.forEach(Ce=>Ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ce){const Oe=Ce*this.totalTime;this.players.forEach(ct=>{const Nt=ct.totalTime?Math.min(1,Oe/ct.totalTime):1;ct.setPosition(Nt)})}getPosition(){const Ce=this.players.reduce((Oe,ct)=>null===Oe||ct.totalTime>Oe.totalTime?ct:Oe,null);return null!=Ce?Ce.getPosition():0}beforeDestroy(){this.players.forEach(Ce=>{Ce.beforeDestroy&&Ce.beforeDestroy()})}triggerCallback(Ce){const Oe="start"==Ce?this._onStartFns:this._onDoneFns;Oe.forEach(ct=>ct()),Oe.length=0}}const Pn="!"},1842:(bn,ot,B)=>{B.d(ot,{rt:()=>me,tE:()=>Ve,qV:()=>zt,qm:()=>Re,ic:()=>Bn,X6:()=>xn,yG:()=>si});var p=B(6895),f=B(1571),le=B(3353),Ne=B(1135),Pe=B(7579),_e=B(9646),Ie=B(9521),Ae=B(5698),Ge=B(9300);function ce(ie){return(0,Ge.h)((te,re)=>ie<=re)}var Se=B(4671),Ze=B(4482),Dt=B(5403);function Lt(ie,te){return ie===te}var _t=B(2722),Ht=B(1281),Qt=B(9643),gn=B(9841),Pn=B(7272),Me=B(9751),Ce=B(8372),Oe=B(4004),ct=B(8675);const rt=new Set;let lt,$t=(()=>{class ie{constructor(re){this._platform=re,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):wt}matchMedia(re){return(this._platform.WEBKIT||this._platform.BLINK)&&function Zt(ie){if(!rt.has(ie))try{lt||(lt=document.createElement("style"),lt.setAttribute("type","text/css"),document.head.appendChild(lt)),lt.sheet&&(lt.sheet.insertRule(`@media ${ie} {body{ }}`,0),rt.add(ie))}catch(te){console.error(te)}}(re),this._matchMedia(re)}}return ie.\u0275fac=function(re){return new(re||ie)(f.LFG(le.t4))},ie.\u0275prov=f.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();function wt(ie){return{matches:"all"===ie||""===ie,media:ie,addListener:()=>{},removeListener:()=>{}}}let Xt=(()=>{class ie{constructor(re,$e){this._mediaMatcher=re,this._zone=$e,this._queries=new Map,this._destroySubject=new Pe.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(re){return tt((0,Ht.Eq)(re)).some(ze=>this._registerQuery(ze).mql.matches)}observe(re){const ze=tt((0,Ht.Eq)(re)).map(Bt=>this._registerQuery(Bt).observable);let nt=(0,gn.a)(ze);return nt=(0,Pn.z)(nt.pipe((0,Ae.q)(1)),nt.pipe(ce(1),(0,Ce.b)(0))),nt.pipe((0,Oe.U)(Bt=>{const mn={matches:!1,breakpoints:{}};return Bt.forEach(({matches:ni,query:Hi})=>{mn.matches=mn.matches||ni,mn.breakpoints[Hi]=ni}),mn}))}_registerQuery(re){if(this._queries.has(re))return this._queries.get(re);const $e=this._mediaMatcher.matchMedia(re),nt={observable:new Me.y(Bt=>{const mn=ni=>this._zone.run(()=>Bt.next(ni));return $e.addListener(mn),()=>{$e.removeListener(mn)}}).pipe((0,ct.O)($e),(0,Oe.U)(({matches:Bt})=>({query:re,matches:Bt})),(0,_t.R)(this._destroySubject)),mql:$e};return this._queries.set(re,nt),nt}}return ie.\u0275fac=function(re){return new(re||ie)(f.LFG($t),f.LFG(f.R0b))},ie.\u0275prov=f.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();function tt(ie){return ie.map(te=>te.split(",")).reduce((te,re)=>te.concat(re)).map(te=>te.trim())}let Bn=(()=>{class ie{constructor(re){this._platform=re}isDisabled(re){return re.hasAttribute("disabled")}isVisible(re){return function Qn(ie){return!!(ie.offsetWidth||ie.offsetHeight||"function"==typeof ie.getClientRects&&ie.getClientRects().length)}(re)&&"visible"===getComputedStyle(re).visibility}isTabbable(re){if(!this._platform.isBrowser)return!1;const $e=function ci(ie){try{return ie.frameElement}catch{return null}}(function yn(ie){return ie.ownerDocument&&ie.ownerDocument.defaultView||window}(re));if($e&&(-1===Ti($e)||!this.isVisible($e)))return!1;let ze=re.nodeName.toLowerCase(),nt=Ti(re);return re.hasAttribute("contenteditable")?-1!==nt:!("iframe"===ze||"object"===ze||this._platform.WEBKIT&&this._platform.IOS&&!function lr(ie){let te=ie.nodeName.toLowerCase(),re="input"===te&&ie.type;return"text"===re||"password"===re||"select"===te||"textarea"===te}(re))&&("audio"===ze?!!re.hasAttribute("controls")&&-1!==nt:"video"===ze?-1!==nt&&(null!==nt||this._platform.FIREFOX||re.hasAttribute("controls")):re.tabIndex>=0)}isFocusable(re,$e){return function xt(ie){return!function Di(ie){return function di(ie){return"input"==ie.nodeName.toLowerCase()}(ie)&&"hidden"==ie.type}(ie)&&(function wn(ie){let te=ie.nodeName.toLowerCase();return"input"===te||"select"===te||"button"===te||"textarea"===te}(ie)||function Jn(ie){return function gi(ie){return"a"==ie.nodeName.toLowerCase()}(ie)&&ie.hasAttribute("href")}(ie)||ie.hasAttribute("contenteditable")||Wn(ie))}(re)&&!this.isDisabled(re)&&($e?.ignoreVisibility||this.isVisible(re))}}return ie.\u0275fac=function(re){return new(re||ie)(f.LFG(le.t4))},ie.\u0275prov=f.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();function Wn(ie){if(!ie.hasAttribute("tabindex")||void 0===ie.tabIndex)return!1;let te=ie.getAttribute("tabindex");return!(!te||isNaN(parseInt(te,10)))}function Ti(ie){if(!Wn(ie))return null;const te=parseInt(ie.getAttribute("tabindex")||"",10);return isNaN(te)?-1:te}class Rt{get enabled(){return this._enabled}set enabled(te){this._enabled=te,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(te,this._startAnchor),this._toggleAnchorTabIndex(te,this._endAnchor))}constructor(te,re,$e,ze,nt=!1){this._element=te,this._checker=re,this._ngZone=$e,this._document=ze,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,nt||this.attachAnchors()}destroy(){const te=this._startAnchor,re=this._endAnchor;te&&(te.removeEventListener("focus",this.startAnchorListener),te.remove()),re&&(re.removeEventListener("focus",this.endAnchorListener),re.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(te){return new Promise(re=>{this._executeOnStable(()=>re(this.focusInitialElement(te)))})}focusFirstTabbableElementWhenReady(te){return new Promise(re=>{this._executeOnStable(()=>re(this.focusFirstTabbableElement(te)))})}focusLastTabbableElementWhenReady(te){return new Promise(re=>{this._executeOnStable(()=>re(this.focusLastTabbableElement(te)))})}_getRegionBoundary(te){const re=this._element.querySelectorAll(`[cdk-focus-region-${te}], [cdkFocusRegion${te}], [cdk-focus-${te}]`);return"start"==te?re.length?re[0]:this._getFirstTabbableElement(this._element):re.length?re[re.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(te){const re=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(re){if(!this._checker.isFocusable(re)){const $e=this._getFirstTabbableElement(re);return $e?.focus(te),!!$e}return re.focus(te),!0}return this.focusFirstTabbableElement(te)}focusFirstTabbableElement(te){const re=this._getRegionBoundary("start");return re&&re.focus(te),!!re}focusLastTabbableElement(te){const re=this._getRegionBoundary("end");return re&&re.focus(te),!!re}hasAttached(){return this._hasAttached}_getFirstTabbableElement(te){if(this._checker.isFocusable(te)&&this._checker.isTabbable(te))return te;const re=te.children;for(let $e=0;$e<re.length;$e++){const ze=re[$e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(re[$e]):null;if(ze)return ze}return null}_getLastTabbableElement(te){if(this._checker.isFocusable(te)&&this._checker.isTabbable(te))return te;const re=te.children;for(let $e=re.length-1;$e>=0;$e--){const ze=re[$e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(re[$e]):null;if(ze)return ze}return null}_createAnchor(){const te=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,te),te.classList.add("cdk-visually-hidden"),te.classList.add("cdk-focus-trap-anchor"),te.setAttribute("aria-hidden","true"),te}_toggleAnchorTabIndex(te,re){te?re.setAttribute("tabindex","0"):re.removeAttribute("tabindex")}toggleAnchors(te){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(te,this._startAnchor),this._toggleAnchorTabIndex(te,this._endAnchor))}_executeOnStable(te){this._ngZone.isStable?te():this._ngZone.onStable.pipe((0,Ae.q)(1)).subscribe(te)}}let zt=(()=>{class ie{constructor(re,$e,ze){this._checker=re,this._ngZone=$e,this._document=ze}create(re,$e=!1){return new Rt(re,this._checker,this._ngZone,this._document,$e)}}return ie.\u0275fac=function(re){return new(re||ie)(f.LFG(Bn),f.LFG(f.R0b),f.LFG(p.K0))},ie.\u0275prov=f.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();function xn(ie){return 0===ie.buttons||0===ie.offsetX&&0===ie.offsetY}function si(ie){const te=ie.touches&&ie.touches[0]||ie.changedTouches&&ie.changedTouches[0];return!(!te||-1!==te.identifier||null!=te.radiusX&&1!==te.radiusX||null!=te.radiusY&&1!==te.radiusY)}const pr=new f.OlP("cdk-input-modality-detector-options"),oi={ignoreKeys:[Ie.zL,Ie.jx,Ie.b2,Ie.MW,Ie.JU]},Ut=(0,le.i$)({passive:!0,capture:!0});let De=(()=>{class ie{get mostRecentModality(){return this._modality.value}constructor(re,$e,ze,nt){this._platform=re,this._mostRecentTarget=null,this._modality=new Ne.X(null),this._lastTouchMs=0,this._onKeydown=Bt=>{this._options?.ignoreKeys?.some(mn=>mn===Bt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,le.sA)(Bt))},this._onMousedown=Bt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(xn(Bt)?"keyboard":"mouse"),this._mostRecentTarget=(0,le.sA)(Bt))},this._onTouchstart=Bt=>{si(Bt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,le.sA)(Bt))},this._options={...oi,...nt},this.modalityDetected=this._modality.pipe(ce(1)),this.modalityChanged=this.modalityDetected.pipe(function gt(ie,te=Se.y){return ie=ie??Lt,(0,Ze.e)((re,$e)=>{let ze,nt=!0;re.subscribe((0,Dt.x)($e,Bt=>{const mn=te(Bt);(nt||!ie(ze,mn))&&(nt=!1,ze=mn,$e.next(Bt))}))})}()),re.isBrowser&&$e.runOutsideAngular(()=>{ze.addEventListener("keydown",this._onKeydown,Ut),ze.addEventListener("mousedown",this._onMousedown,Ut),ze.addEventListener("touchstart",this._onTouchstart,Ut)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ut),document.removeEventListener("mousedown",this._onMousedown,Ut),document.removeEventListener("touchstart",this._onTouchstart,Ut))}}return ie.\u0275fac=function(re){return new(re||ie)(f.LFG(le.t4),f.LFG(f.R0b),f.LFG(p.K0),f.LFG(pr,8))},ie.\u0275prov=f.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();const we=new f.OlP("cdk-focus-monitor-default-options"),be=(0,le.i$)({passive:!0,capture:!0});let Ve=(()=>{class ie{constructor(re,$e,ze,nt,Bt){this._ngZone=re,this._platform=$e,this._inputModalityDetector=ze,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pe.x,this._rootNodeFocusAndBlurListener=mn=>{for(let Hi=(0,le.sA)(mn);Hi;Hi=Hi.parentElement)"focus"===mn.type?this._onFocus(mn,Hi):this._onBlur(mn,Hi)},this._document=nt,this._detectionMode=Bt?.detectionMode||0}monitor(re,$e=!1){const ze=(0,Ht.fI)(re);if(!this._platform.isBrowser||1!==ze.nodeType)return(0,_e.of)(null);const nt=(0,le.kV)(ze)||this._getDocument(),Bt=this._elementInfo.get(ze);if(Bt)return $e&&(Bt.checkChildren=!0),Bt.subject;const mn={checkChildren:$e,subject:new Pe.x,rootNode:nt};return this._elementInfo.set(ze,mn),this._registerGlobalListeners(mn),mn.subject}stopMonitoring(re){const $e=(0,Ht.fI)(re),ze=this._elementInfo.get($e);ze&&(ze.subject.complete(),this._setClasses($e),this._elementInfo.delete($e),this._removeGlobalListeners(ze))}focusVia(re,$e,ze){const nt=(0,Ht.fI)(re);nt===this._getDocument().activeElement?this._getClosestElementsInfo(nt).forEach(([mn,ni])=>this._originChanged(mn,$e,ni)):(this._setOrigin($e),"function"==typeof nt.focus&&nt.focus(ze))}ngOnDestroy(){this._elementInfo.forEach((re,$e)=>this.stopMonitoring($e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(re){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(re)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:re&&this._isLastInteractionFromInputLabel(re)?"mouse":"program"}_shouldBeAttributedToTouch(re){return 1===this._detectionMode||!!re?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(re,$e){re.classList.toggle("cdk-focused",!!$e),re.classList.toggle("cdk-touch-focused","touch"===$e),re.classList.toggle("cdk-keyboard-focused","keyboard"===$e),re.classList.toggle("cdk-mouse-focused","mouse"===$e),re.classList.toggle("cdk-program-focused","program"===$e)}_setOrigin(re,$e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=re,this._originFromTouchInteraction="touch"===re&&$e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(re,$e){const ze=this._elementInfo.get($e),nt=(0,le.sA)(re);!ze||!ze.checkChildren&&$e!==nt||this._originChanged($e,this._getFocusOrigin(nt),ze)}_onBlur(re,$e){const ze=this._elementInfo.get($e);!ze||ze.checkChildren&&re.relatedTarget instanceof Node&&$e.contains(re.relatedTarget)||(this._setClasses($e),this._emitOrigin(ze,null))}_emitOrigin(re,$e){re.subject.observers.length&&this._ngZone.run(()=>re.subject.next($e))}_registerGlobalListeners(re){if(!this._platform.isBrowser)return;const $e=re.rootNode,ze=this._rootNodeFocusListenerCount.get($e)||0;ze||this._ngZone.runOutsideAngular(()=>{$e.addEventListener("focus",this._rootNodeFocusAndBlurListener,be),$e.addEventListener("blur",this._rootNodeFocusAndBlurListener,be)}),this._rootNodeFocusListenerCount.set($e,ze+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,_t.R)(this._stopInputModalityDetector)).subscribe(nt=>{this._setOrigin(nt,!0)}))}_removeGlobalListeners(re){const $e=re.rootNode;if(this._rootNodeFocusListenerCount.has($e)){const ze=this._rootNodeFocusListenerCount.get($e);ze>1?this._rootNodeFocusListenerCount.set($e,ze-1):($e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,be),$e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,be),this._rootNodeFocusListenerCount.delete($e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(re,$e,ze){this._setClasses(re,$e),this._emitOrigin(ze,$e),this._lastFocusOrigin=$e}_getClosestElementsInfo(re){const $e=[];return this._elementInfo.forEach((ze,nt)=>{(nt===re||ze.checkChildren&&nt.contains(re))&&$e.push([nt,ze])}),$e}_isLastInteractionFromInputLabel(re){const{_mostRecentTarget:$e,mostRecentModality:ze}=this._inputModalityDetector;if("mouse"!==ze||!$e||$e===re||"INPUT"!==re.nodeName&&"TEXTAREA"!==re.nodeName||re.disabled)return!1;const nt=re.labels;if(nt)for(let Bt=0;Bt<nt.length;Bt++)if(nt[Bt].contains($e))return!0;return!1}}return ie.\u0275fac=function(re){return new(re||ie)(f.LFG(f.R0b),f.LFG(le.t4),f.LFG(De),f.LFG(p.K0,8),f.LFG(we,8))},ie.\u0275prov=f.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();const Qe="cdk-high-contrast-black-on-white",ln="cdk-high-contrast-white-on-black",Be="cdk-high-contrast-active";let Re=(()=>{class ie{constructor(re,$e){this._platform=re,this._document=$e,this._breakpointSubscription=(0,f.f3M)(Xt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const re=this._document.createElement("div");re.style.backgroundColor="rgb(1,2,3)",re.style.position="absolute",this._document.body.appendChild(re);const $e=this._document.defaultView||window,ze=$e&&$e.getComputedStyle?$e.getComputedStyle(re):null,nt=(ze&&ze.backgroundColor||"").replace(/ /g,"");switch(re.remove(),nt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const re=this._document.body.classList;re.remove(Be,Qe,ln),this._hasCheckedHighContrastMode=!0;const $e=this.getHighContrastMode();1===$e?re.add(Be,Qe):2===$e&&re.add(Be,ln)}}}return ie.\u0275fac=function(re){return new(re||ie)(f.LFG(le.t4),f.LFG(p.K0))},ie.\u0275prov=f.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),me=(()=>{class ie{constructor(re){re._applyBodyHighContrastModeCssClasses()}}return ie.\u0275fac=function(re){return new(re||ie)(f.LFG(Re))},ie.\u0275mod=f.oAB({type:ie}),ie.\u0275inj=f.cJS({imports:[Qt.Q8]}),ie})()},445:(bn,ot,B)=>{B.d(ot,{Is:()=>Ie,vT:()=>Ge});var p=B(1571),f=B(6895);const le=new p.OlP("cdk-dir-doc",{providedIn:"root",factory:function Ne(){return(0,p.f3M)(f.K0)}}),Pe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ie=(()=>{class ce{constructor(Ze){this.value="ltr",this.change=new p.vpe,Ze&&(this.value=function _e(ce){const Se=ce?.toLowerCase()||"";return"auto"===Se&&typeof navigator<"u"&&navigator?.language?Pe.test(navigator.language)?"rtl":"ltr":"rtl"===Se?"rtl":"ltr"}((Ze.body?Ze.body.dir:null)||(Ze.documentElement?Ze.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return ce.\u0275fac=function(Ze){return new(Ze||ce)(p.LFG(le,8))},ce.\u0275prov=p.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),Ge=(()=>{class ce{}return ce.\u0275fac=function(Ze){return new(Ze||ce)},ce.\u0275mod=p.oAB({type:ce}),ce.\u0275inj=p.cJS({}),ce})()},1281:(bn,ot,B)=>{B.d(ot,{Eq:()=>Pe,HM:()=>_e,Ig:()=>f,fI:()=>Ie,su:()=>le});var p=B(1571);function f(Ge){return null!=Ge&&"false"!=`${Ge}`}function le(Ge,ce=0){return function Ne(Ge){return!isNaN(parseFloat(Ge))&&!isNaN(Number(Ge))}(Ge)?Number(Ge):ce}function Pe(Ge){return Array.isArray(Ge)?Ge:[Ge]}function _e(Ge){return null==Ge?"":"string"==typeof Ge?Ge:`${Ge}px`}function Ie(Ge){return Ge instanceof p.SBq?Ge.nativeElement:Ge}},9521:(bn,ot,B)=>{B.d(ot,{JU:()=>_e,MW:()=>ti,Vb:()=>He,b2:()=>Fe,hY:()=>Se,jx:()=>Ie,zL:()=>Ae});const _e=16,Ie=17,Ae=18,Se=27,ti=91,Fe=224;function He(Xe,...Ot){return Ot.length?Ot.some(Yt=>Xe[Yt]):Xe.altKey||Xe.shiftKey||Xe.ctrlKey||Xe.metaKey}},9643:(bn,ot,B)=>{B.d(ot,{Q8:()=>Pe});var p=B(1571);let f=(()=>{class _e{create(Ae){return typeof MutationObserver>"u"?null:new MutationObserver(Ae)}}return _e.\u0275fac=function(Ae){return new(Ae||_e)},_e.\u0275prov=p.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})(),Pe=(()=>{class _e{}return _e.\u0275fac=function(Ae){return new(Ae||_e)},_e.\u0275mod=p.oAB({type:_e}),_e.\u0275inj=p.cJS({providers:[f]}),_e})()},3353:(bn,ot,B)=>{B.d(ot,{Mq:()=>gt,Oy:()=>Me,_i:()=>Lt,ht:()=>gn,i$:()=>Se,kV:()=>Qt,sA:()=>Pn,t4:()=>Ne});var p=B(1571),f=B(6895);let le;try{le=typeof Intl<"u"&&Intl.v8BreakIterator}catch{le=!1}let Ge,Ze,Dt,_t,Ne=(()=>{class Ce{constructor(ct){this._platformId=ct,this.isBrowser=this._platformId?(0,f.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!le)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ce.\u0275fac=function(ct){return new(ct||Ce)(p.LFG(p.Lbi))},Ce.\u0275prov=p.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function Se(Ce){return function ce(){if(null==Ge&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ge=!0}))}finally{Ge=Ge||!1}return Ge}()?Ce:!!Ce.capture}function gt(){if(null==Dt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Dt=!1,Dt;if("scrollBehavior"in document.documentElement.style)Dt=!0;else{const Ce=Element.prototype.scrollTo;Dt=!!Ce&&!/\{\s*\[native code\]\s*\}/.test(Ce.toString())}}return Dt}function Lt(){if("object"!=typeof document||!document)return 0;if(null==Ze){const Ce=document.createElement("div"),Oe=Ce.style;Ce.dir="rtl",Oe.width="1px",Oe.overflow="auto",Oe.visibility="hidden",Oe.pointerEvents="none",Oe.position="absolute";const ct=document.createElement("div"),Nt=ct.style;Nt.width="2px",Nt.height="1px",Ce.appendChild(ct),document.body.appendChild(Ce),Ze=0,0===Ce.scrollLeft&&(Ce.scrollLeft=1,Ze=0===Ce.scrollLeft?1:2),Ce.remove()}return Ze}function Qt(Ce){if(function Ht(){if(null==_t){const Ce=typeof document<"u"?document.head:null;_t=!(!Ce||!Ce.createShadowRoot&&!Ce.attachShadow)}return _t}()){const Oe=Ce.getRootNode?Ce.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Oe instanceof ShadowRoot)return Oe}return null}function gn(){let Ce=typeof document<"u"&&document?document.activeElement:null;for(;Ce&&Ce.shadowRoot;){const Oe=Ce.shadowRoot.activeElement;if(Oe===Ce)break;Ce=Oe}return Ce}function Pn(Ce){return Ce.composedPath?Ce.composedPath()[0]:Ce.target}function Me(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(bn,ot,B)=>{B.d(ot,{Do:()=>gn,EM:()=>_s,HT:()=>Ne,JF:()=>cs,K0:()=>_e,Mx:()=>wr,NF:()=>Io,O5:()=>Yt,OU:()=>Cs,S$:()=>_t,V_:()=>Ge,Ye:()=>Pn,b0:()=>Qt,bD:()=>Xs,ez:()=>ls,mk:()=>ms,q:()=>le,sg:()=>He,w_:()=>Pe});var p=B(1571);let f=null;function le(){return f}function Ne(T){f||(f=T)}class Pe{}const _e=new p.OlP("DocumentToken");let Ie=(()=>{class T{historyGo(F){throw new Error("Not implemented")}}return T.\u0275fac=function(F){return new(F||T)},T.\u0275prov=p.Yz7({token:T,factory:function(){return function Ae(){return(0,p.LFG)(ce)}()},providedIn:"platform"}),T})();const Ge=new p.OlP("Location Initialized");let ce=(()=>{class T extends Ie{constructor(F){super(),this._doc=F,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState(F){const se=le().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",F,!1),()=>se.removeEventListener("popstate",F)}onHashChange(F){const se=le().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",F,!1),()=>se.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,se,Le){Se()?this._history.pushState(F,se,Le):this._location.hash=Le}replaceState(F,se,Le){Se()?this._history.replaceState(F,se,Le):this._location.hash=Le}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return T.\u0275fac=function(F){return new(F||T)(p.LFG(_e))},T.\u0275prov=p.Yz7({token:T,factory:function(){return function Ze(){return new ce((0,p.LFG)(_e))}()},providedIn:"platform"}),T})();function Se(){return!!window.history.pushState}function Dt(T,q){if(0==T.length)return q;if(0==q.length)return T;let F=0;return T.endsWith("/")&&F++,q.startsWith("/")&&F++,2==F?T+q.substring(1):1==F?T+q:T+"/"+q}function gt(T){const q=T.match(/#|\?|$/),F=q&&q.index||T.length;return T.slice(0,F-("/"===T[F-1]?1:0))+T.slice(F)}function Lt(T){return T&&"?"!==T[0]?"?"+T:T}let _t=(()=>{class T{historyGo(F){throw new Error("Not implemented")}}return T.\u0275fac=function(F){return new(F||T)},T.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(Qt)},providedIn:"root"}),T})();const Ht=new p.OlP("appBaseHref");let Qt=(()=>{class T extends _t{constructor(F,se){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=se??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Dt(this._baseHref,F)}path(F=!1){const se=this._platformLocation.pathname+Lt(this._platformLocation.search),Le=this._platformLocation.hash;return Le&&F?`${se}${Le}`:se}pushState(F,se,Le,It){const qt=this.prepareExternalUrl(Le+Lt(It));this._platformLocation.pushState(F,se,qt)}replaceState(F,se,Le,It){const qt=this.prepareExternalUrl(Le+Lt(It));this._platformLocation.replaceState(F,se,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return T.\u0275fac=function(F){return new(F||T)(p.LFG(Ie),p.LFG(Ht,8))},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),gn=(()=>{class T extends _t{constructor(F,se){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let se=this._platformLocation.hash;return null==se&&(se="#"),se.length>0?se.substring(1):se}prepareExternalUrl(F){const se=Dt(this._baseHref,F);return se.length>0?"#"+se:se}pushState(F,se,Le,It){let qt=this.prepareExternalUrl(Le+Lt(It));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.pushState(F,se,qt)}replaceState(F,se,Le,It){let qt=this.prepareExternalUrl(Le+Lt(It));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.replaceState(F,se,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return T.\u0275fac=function(F){return new(F||T)(p.LFG(Ie),p.LFG(Ht,8))},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac}),T})(),Pn=(()=>{class T{constructor(F){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const se=this._locationStrategy.getBaseHref();this._basePath=function ct(T){if(new RegExp("^(https?:)?//").test(T)){const[,F]=T.split(/\/\/[^\/]+/);return F}return T}(gt(Oe(se))),this._locationStrategy.onPopState(Le=>{this._subject.emit({url:this.path(!0),pop:!0,state:Le.state,type:Le.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,se=""){return this.path()==this.normalize(F+Lt(se))}normalize(F){return T.stripTrailingSlash(function Ce(T,q){if(!T||!q.startsWith(T))return q;const F=q.substring(T.length);return""===F||["/",";","?","#"].includes(F[0])?F:q}(this._basePath,Oe(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,se="",Le=null){this._locationStrategy.pushState(Le,"",F,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Lt(se)),Le)}replaceState(F,se="",Le=null){this._locationStrategy.replaceState(Le,"",F,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Lt(se)),Le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)})),()=>{const se=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(se,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",se){this._urlChangeListeners.forEach(Le=>Le(F,se))}subscribe(F,se,Le){return this._subject.subscribe({next:F,error:se,complete:Le})}}return T.normalizeQueryParams=Lt,T.joinWithSlash=Dt,T.stripTrailingSlash=gt,T.\u0275fac=function(F){return new(F||T)(p.LFG(_t))},T.\u0275prov=p.Yz7({token:T,factory:function(){return function Me(){return new Pn((0,p.LFG)(_t))}()},providedIn:"root"}),T})();function Oe(T){return T.replace(/\/index.html$/,"")}function wr(T,q){q=encodeURIComponent(q);for(const F of T.split(";")){const se=F.indexOf("="),[Le,It]=-1==se?[F,""]:[F.slice(0,se),F.slice(se+1)];if(Le.trim()===q)return decodeURIComponent(It)}return null}const Jr=/\s+/,xi=[];let ms=(()=>{class T{constructor(F,se,Le,It){this._iterableDiffers=F,this._keyValueDiffers=se,this._ngEl=Le,this._renderer=It,this.initialClasses=xi,this.stateMap=new Map}set klass(F){this.initialClasses=null!=F?F.trim().split(Jr):xi}set ngClass(F){this.rawClass="string"==typeof F?F.trim().split(Jr):F}ngDoCheck(){for(const se of this.initialClasses)this._updateState(se,!0);const F=this.rawClass;if(Array.isArray(F)||F instanceof Set)for(const se of F)this._updateState(se,!0);else if(null!=F)for(const se of Object.keys(F))this._updateState(se,Boolean(F[se]));this._applyStateDiff()}_updateState(F,se){const Le=this.stateMap.get(F);void 0!==Le?(Le.enabled!==se&&(Le.changed=!0,Le.enabled=se),Le.touched=!0):this.stateMap.set(F,{enabled:se,changed:!0,touched:!0})}_applyStateDiff(){for(const F of this.stateMap){const se=F[0],Le=F[1];Le.changed?(this._toggleClass(se,Le.enabled),Le.changed=!1):Le.touched||(Le.enabled&&this._toggleClass(se,!1),this.stateMap.delete(se)),Le.touched=!1}}_toggleClass(F,se){(F=F.trim()).length>0&&F.split(Jr).forEach(Le=>{se?this._renderer.addClass(this._ngEl.nativeElement,Le):this._renderer.removeClass(this._ngEl.nativeElement,Le)})}}return T.\u0275fac=function(F){return new(F||T)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},T.\u0275dir=p.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),T})();class Fe{constructor(q,F,se,Le){this.$implicit=q,this.ngForOf=F,this.index=se,this.count=Le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let He=(()=>{class T{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,se,Le){this._viewContainer=F,this._template=se,this._differs=Le,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const se=this._viewContainer;F.forEachOperation((Le,It,qt)=>{if(null==Le.previousIndex)se.createEmbeddedView(this._template,new Fe(Le.item,this._ngForOf,-1,-1),null===qt?void 0:qt);else if(null==qt)se.remove(null===It?void 0:It);else if(null!==It){const Hn=se.get(It);se.move(Hn,qt),Xe(Hn,Le)}});for(let Le=0,It=se.length;Le<It;Le++){const Hn=se.get(Le).context;Hn.index=Le,Hn.count=It,Hn.ngForOf=this._ngForOf}F.forEachIdentityChange(Le=>{Xe(se.get(Le.currentIndex),Le)})}static ngTemplateContextGuard(F,se){return!0}}return T.\u0275fac=function(F){return new(F||T)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},T.\u0275dir=p.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function Xe(T,q){T.context.$implicit=q.item}let Yt=(()=>{class T{constructor(F,se){this._viewContainer=F,this._context=new cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Xn("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Xn("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,se){return!0}}return T.\u0275fac=function(F){return new(F||T)(p.Y36(p.s_b),p.Y36(p.Rgc))},T.\u0275dir=p.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class cn{constructor(){this.$implicit=null,this.ngIf=null}}function Xn(T,q){if(q&&!q.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,p.AaK)(q)}'.`)}let Cs=(()=>{class T{transform(F,se,Le){if(null==F)return null;if(!this.supports(F))throw function Ur(T,q){return new p.vHH(2100,!1)}();return F.slice(se,Le)}supports(F){return"string"==typeof F||Array.isArray(F)}}return T.\u0275fac=function(F){return new(F||T)},T.\u0275pipe=p.Yjl({name:"slice",type:T,pure:!1,standalone:!0}),T})(),ls=(()=>{class T{}return T.\u0275fac=function(F){return new(F||T)},T.\u0275mod=p.oAB({type:T}),T.\u0275inj=p.cJS({}),T})();const Xs="browser";function Io(T){return T===Xs}let _s=(()=>{class T{}return T.\u0275prov=(0,p.Yz7)({token:T,providedIn:"root",factory:()=>new $s((0,p.LFG)(_e),window)}),T})();class $s{constructor(q,F){this.document=q,this.window=F,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const F=function zs(T,q){const F=T.getElementById(q)||T.getElementsByName(q)[0];if(F)return F;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const se=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let Le=se.currentNode;for(;Le;){const It=Le.shadowRoot;if(It){const qt=It.getElementById(q)||It.querySelector(`[name="${q}"]`);if(qt)return qt}Le=se.nextNode()}}return null}(this.document,q);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(q){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=q)}}scrollToElement(q){const F=q.getBoundingClientRect(),se=F.left+this.window.pageXOffset,Le=F.top+this.window.pageYOffset,It=this.offset();this.window.scrollTo(se-It[0],Le-It[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const q=Lr(this.window.history)||Lr(Object.getPrototypeOf(this.window.history));return!(!q||!q.writable&&!q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Lr(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class cs{}},529:(bn,ot,B)=>{B.d(ot,{JF:()=>Ut,eN:()=>st});var p=B(6895),f=B(1571),le=B(9646),Ne=B(9751),Pe=B(4351),_e=B(9300),Ie=B(4004);class Ae{}class Ge{}class ce{constructor(fe){this.normalizedNames=new Map,this.lazyUpdate=null,fe?this.lazyInit="string"==typeof fe?()=>{this.headers=new Map,fe.split("\n").forEach(Te=>{const at=Te.indexOf(":");if(at>0){const Mt=Te.slice(0,at),we=Mt.toLowerCase(),be=Te.slice(at+1).trim();this.maybeSetNormalizedName(Mt,we),this.headers.has(we)?this.headers.get(we).push(be):this.headers.set(we,[be])}})}:()=>{this.headers=new Map,Object.keys(fe).forEach(Te=>{let at=fe[Te];const Mt=Te.toLowerCase();"string"==typeof at&&(at=[at]),at.length>0&&(this.headers.set(Mt,at),this.maybeSetNormalizedName(Te,Mt))})}:this.headers=new Map}has(fe){return this.init(),this.headers.has(fe.toLowerCase())}get(fe){this.init();const Te=this.headers.get(fe.toLowerCase());return Te&&Te.length>0?Te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(fe){return this.init(),this.headers.get(fe.toLowerCase())||null}append(fe,Te){return this.clone({name:fe,value:Te,op:"a"})}set(fe,Te){return this.clone({name:fe,value:Te,op:"s"})}delete(fe,Te){return this.clone({name:fe,value:Te,op:"d"})}maybeSetNormalizedName(fe,Te){this.normalizedNames.has(Te)||this.normalizedNames.set(Te,fe)}init(){this.lazyInit&&(this.lazyInit instanceof ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(fe=>this.applyUpdate(fe)),this.lazyUpdate=null))}copyFrom(fe){fe.init(),Array.from(fe.headers.keys()).forEach(Te=>{this.headers.set(Te,fe.headers.get(Te)),this.normalizedNames.set(Te,fe.normalizedNames.get(Te))})}clone(fe){const Te=new ce;return Te.lazyInit=this.lazyInit&&this.lazyInit instanceof ce?this.lazyInit:this,Te.lazyUpdate=(this.lazyUpdate||[]).concat([fe]),Te}applyUpdate(fe){const Te=fe.name.toLowerCase();switch(fe.op){case"a":case"s":let at=fe.value;if("string"==typeof at&&(at=[at]),0===at.length)return;this.maybeSetNormalizedName(fe.name,Te);const Mt=("a"===fe.op?this.headers.get(Te):void 0)||[];Mt.push(...at),this.headers.set(Te,Mt);break;case"d":const we=fe.value;if(we){let be=this.headers.get(Te);if(!be)return;be=be.filter(Ve=>-1===we.indexOf(Ve)),0===be.length?(this.headers.delete(Te),this.normalizedNames.delete(Te)):this.headers.set(Te,be)}else this.headers.delete(Te),this.normalizedNames.delete(Te)}}forEach(fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Te=>fe(this.normalizedNames.get(Te),this.headers.get(Te)))}}class Ze{encodeKey(fe){return _t(fe)}encodeValue(fe){return _t(fe)}decodeKey(fe){return decodeURIComponent(fe)}decodeValue(fe){return decodeURIComponent(fe)}}const gt=/%(\d[a-f0-9])/gi,Lt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _t(ge){return encodeURIComponent(ge).replace(gt,(fe,Te)=>Lt[Te]??fe)}function Ht(ge){return`${ge}`}class Qt{constructor(fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=fe.encoder||new Ze,fe.fromString){if(fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Dt(ge,fe){const Te=new Map;return ge.length>0&&ge.replace(/^\?/,"").split("&").forEach(Mt=>{const we=Mt.indexOf("="),[be,Ve]=-1==we?[fe.decodeKey(Mt),""]:[fe.decodeKey(Mt.slice(0,we)),fe.decodeValue(Mt.slice(we+1))],dt=Te.get(be)||[];dt.push(Ve),Te.set(be,dt)}),Te}(fe.fromString,this.encoder)}else fe.fromObject?(this.map=new Map,Object.keys(fe.fromObject).forEach(Te=>{const at=fe.fromObject[Te],Mt=Array.isArray(at)?at.map(Ht):[Ht(at)];this.map.set(Te,Mt)})):this.map=null}has(fe){return this.init(),this.map.has(fe)}get(fe){this.init();const Te=this.map.get(fe);return Te?Te[0]:null}getAll(fe){return this.init(),this.map.get(fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(fe,Te){return this.clone({param:fe,value:Te,op:"a"})}appendAll(fe){const Te=[];return Object.keys(fe).forEach(at=>{const Mt=fe[at];Array.isArray(Mt)?Mt.forEach(we=>{Te.push({param:at,value:we,op:"a"})}):Te.push({param:at,value:Mt,op:"a"})}),this.clone(Te)}set(fe,Te){return this.clone({param:fe,value:Te,op:"s"})}delete(fe,Te){return this.clone({param:fe,value:Te,op:"d"})}toString(){return this.init(),this.keys().map(fe=>{const Te=this.encoder.encodeKey(fe);return this.map.get(fe).map(at=>Te+"="+this.encoder.encodeValue(at)).join("&")}).filter(fe=>""!==fe).join("&")}clone(fe){const Te=new Qt({encoder:this.encoder});return Te.cloneFrom=this.cloneFrom||this,Te.updates=(this.updates||[]).concat(fe),Te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(fe=>this.map.set(fe,this.cloneFrom.map.get(fe))),this.updates.forEach(fe=>{switch(fe.op){case"a":case"s":const Te=("a"===fe.op?this.map.get(fe.param):void 0)||[];Te.push(Ht(fe.value)),this.map.set(fe.param,Te);break;case"d":if(void 0===fe.value){this.map.delete(fe.param);break}{let at=this.map.get(fe.param)||[];const Mt=at.indexOf(Ht(fe.value));-1!==Mt&&at.splice(Mt,1),at.length>0?this.map.set(fe.param,at):this.map.delete(fe.param)}}}),this.cloneFrom=this.updates=null)}}class Pn{constructor(){this.map=new Map}set(fe,Te){return this.map.set(fe,Te),this}get(fe){return this.map.has(fe)||this.map.set(fe,fe.defaultValue()),this.map.get(fe)}delete(fe){return this.map.delete(fe),this}has(fe){return this.map.has(fe)}keys(){return this.map.keys()}}function Ce(ge){return typeof ArrayBuffer<"u"&&ge instanceof ArrayBuffer}function Oe(ge){return typeof Blob<"u"&&ge instanceof Blob}function ct(ge){return typeof FormData<"u"&&ge instanceof FormData}class rt{constructor(fe,Te,at,Mt){let we;if(this.url=Te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=fe.toUpperCase(),function Me(ge){switch(ge){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Mt?(this.body=void 0!==at?at:null,we=Mt):we=at,we&&(this.reportProgress=!!we.reportProgress,this.withCredentials=!!we.withCredentials,we.responseType&&(this.responseType=we.responseType),we.headers&&(this.headers=we.headers),we.context&&(this.context=we.context),we.params&&(this.params=we.params)),this.headers||(this.headers=new ce),this.context||(this.context=new Pn),this.params){const be=this.params.toString();if(0===be.length)this.urlWithParams=Te;else{const Ve=Te.indexOf("?");this.urlWithParams=Te+(-1===Ve?"?":Ve<Te.length-1?"&":"")+be}}else this.params=new Qt,this.urlWithParams=Te}serializeBody(){return null===this.body?null:Ce(this.body)||Oe(this.body)||ct(this.body)||function Nt(ge){return typeof URLSearchParams<"u"&&ge instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ct(this.body)?null:Oe(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(fe={}){const Te=fe.method||this.method,at=fe.url||this.url,Mt=fe.responseType||this.responseType,we=void 0!==fe.body?fe.body:this.body,be=void 0!==fe.withCredentials?fe.withCredentials:this.withCredentials,Ve=void 0!==fe.reportProgress?fe.reportProgress:this.reportProgress;let dt=fe.headers||this.headers,Qe=fe.params||this.params;const ln=fe.context??this.context;return void 0!==fe.setHeaders&&(dt=Object.keys(fe.setHeaders).reduce((Be,Re)=>Be.set(Re,fe.setHeaders[Re]),dt)),fe.setParams&&(Qe=Object.keys(fe.setParams).reduce((Be,Re)=>Be.set(Re,fe.setParams[Re]),Qe)),new rt(Te,at,we,{params:Qe,headers:dt,context:ln,reportProgress:Ve,responseType:Mt,withCredentials:be})}}var lt=(()=>((lt=lt||{})[lt.Sent=0]="Sent",lt[lt.UploadProgress=1]="UploadProgress",lt[lt.ResponseHeader=2]="ResponseHeader",lt[lt.DownloadProgress=3]="DownloadProgress",lt[lt.Response=4]="Response",lt[lt.User=5]="User",lt))();class $t{constructor(fe,Te=200,at="OK"){this.headers=fe.headers||new ce,this.status=void 0!==fe.status?fe.status:Te,this.statusText=fe.statusText||at,this.url=fe.url||null,this.ok=this.status>=200&&this.status<300}}class Zt extends $t{constructor(fe={}){super(fe),this.type=lt.ResponseHeader}clone(fe={}){return new Zt({headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}class wt extends $t{constructor(fe={}){super(fe),this.type=lt.Response,this.body=void 0!==fe.body?fe.body:null}clone(fe={}){return new wt({body:void 0!==fe.body?fe.body:this.body,headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}class Xt extends $t{constructor(fe){super(fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${fe.url||"(unknown url)"}`:`Http failure response for ${fe.url||"(unknown url)"}: ${fe.status} ${fe.statusText}`,this.error=fe.error||null}}function tt(ge,fe){return{body:fe,headers:ge.headers,context:ge.context,observe:ge.observe,params:ge.params,reportProgress:ge.reportProgress,responseType:ge.responseType,withCredentials:ge.withCredentials}}let st=(()=>{class ge{constructor(Te){this.handler=Te}request(Te,at,Mt={}){let we;if(Te instanceof rt)we=Te;else{let dt,Qe;dt=Mt.headers instanceof ce?Mt.headers:new ce(Mt.headers),Mt.params&&(Qe=Mt.params instanceof Qt?Mt.params:new Qt({fromObject:Mt.params})),we=new rt(Te,at,void 0!==Mt.body?Mt.body:null,{headers:dt,context:Mt.context,params:Qe,reportProgress:Mt.reportProgress,responseType:Mt.responseType||"json",withCredentials:Mt.withCredentials})}const be=(0,le.of)(we).pipe((0,Pe.b)(dt=>this.handler.handle(dt)));if(Te instanceof rt||"events"===Mt.observe)return be;const Ve=be.pipe((0,_e.h)(dt=>dt instanceof wt));switch(Mt.observe||"body"){case"body":switch(we.responseType){case"arraybuffer":return Ve.pipe((0,Ie.U)(dt=>{if(null!==dt.body&&!(dt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return dt.body}));case"blob":return Ve.pipe((0,Ie.U)(dt=>{if(null!==dt.body&&!(dt.body instanceof Blob))throw new Error("Response is not a Blob.");return dt.body}));case"text":return Ve.pipe((0,Ie.U)(dt=>{if(null!==dt.body&&"string"!=typeof dt.body)throw new Error("Response is not a string.");return dt.body}));default:return Ve.pipe((0,Ie.U)(dt=>dt.body))}case"response":return Ve;default:throw new Error(`Unreachable: unhandled observe type ${Mt.observe}}`)}}delete(Te,at={}){return this.request("DELETE",Te,at)}get(Te,at={}){return this.request("GET",Te,at)}head(Te,at={}){return this.request("HEAD",Te,at)}jsonp(Te,at){return this.request("JSONP",Te,{params:(new Qt).append(at,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Te,at={}){return this.request("OPTIONS",Te,at)}patch(Te,at,Mt={}){return this.request("PATCH",Te,tt(Mt,at))}post(Te,at,Mt={}){return this.request("POST",Te,tt(Mt,at))}put(Te,at,Mt={}){return this.request("PUT",Te,tt(Mt,at))}}return ge.\u0275fac=function(Te){return new(Te||ge)(f.LFG(Ae))},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function pt(ge,fe){return fe(ge)}function St(ge,fe){return(Te,at)=>fe.intercept(Te,{handle:Mt=>ge(Mt,at)})}const Vt=new f.OlP("HTTP_INTERCEPTORS"),pn=new f.OlP("HTTP_INTERCEPTOR_FNS");function ht(){let ge=null;return(fe,Te)=>(null===ge&&(ge=((0,f.f3M)(Vt,{optional:!0})??[]).reduceRight(St,pt)),ge(fe,Te))}let jt=(()=>{class ge extends Ae{constructor(Te,at){super(),this.backend=Te,this.injector=at,this.chain=null}handle(Te){if(null===this.chain){const at=Array.from(new Set(this.injector.get(pn)));this.chain=at.reduceRight((Mt,we)=>function Wt(ge,fe,Te){return(at,Mt)=>Te.runInContext(()=>fe(at,we=>ge(we,Mt)))}(Mt,we,this.injector),pt)}return this.chain(Te,at=>this.backend.handle(at))}}return ge.\u0275fac=function(Te){return new(Te||ge)(f.LFG(Ge),f.LFG(f.lqb))},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const wn=/^\)\]\}',?\n/;let Jn=(()=>{class ge{constructor(Te){this.xhrFactory=Te}handle(Te){if("JSONP"===Te.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ne.y(at=>{const Mt=this.xhrFactory.build();if(Mt.open(Te.method,Te.urlWithParams),Te.withCredentials&&(Mt.withCredentials=!0),Te.headers.forEach((me,ie)=>Mt.setRequestHeader(me,ie.join(","))),Te.headers.has("Accept")||Mt.setRequestHeader("Accept","application/json, text/plain, */*"),!Te.headers.has("Content-Type")){const me=Te.detectContentTypeHeader();null!==me&&Mt.setRequestHeader("Content-Type",me)}if(Te.responseType){const me=Te.responseType.toLowerCase();Mt.responseType="json"!==me?me:"text"}const we=Te.serializeBody();let be=null;const Ve=()=>{if(null!==be)return be;const me=Mt.statusText||"OK",ie=new ce(Mt.getAllResponseHeaders()),te=function Di(ge){return"responseURL"in ge&&ge.responseURL?ge.responseURL:/^X-Request-URL:/m.test(ge.getAllResponseHeaders())?ge.getResponseHeader("X-Request-URL"):null}(Mt)||Te.url;return be=new Zt({headers:ie,status:Mt.status,statusText:me,url:te}),be},dt=()=>{let{headers:me,status:ie,statusText:te,url:re}=Ve(),$e=null;204!==ie&&($e=typeof Mt.response>"u"?Mt.responseText:Mt.response),0===ie&&(ie=$e?200:0);let ze=ie>=200&&ie<300;if("json"===Te.responseType&&"string"==typeof $e){const nt=$e;$e=$e.replace(wn,"");try{$e=""!==$e?JSON.parse($e):null}catch(Bt){$e=nt,ze&&(ze=!1,$e={error:Bt,text:$e})}}ze?(at.next(new wt({body:$e,headers:me,status:ie,statusText:te,url:re||void 0})),at.complete()):at.error(new Xt({error:$e,headers:me,status:ie,statusText:te,url:re||void 0}))},Qe=me=>{const{url:ie}=Ve(),te=new Xt({error:me,status:Mt.status||0,statusText:Mt.statusText||"Unknown Error",url:ie||void 0});at.error(te)};let ln=!1;const Be=me=>{ln||(at.next(Ve()),ln=!0);let ie={type:lt.DownloadProgress,loaded:me.loaded};me.lengthComputable&&(ie.total=me.total),"text"===Te.responseType&&Mt.responseText&&(ie.partialText=Mt.responseText),at.next(ie)},Re=me=>{let ie={type:lt.UploadProgress,loaded:me.loaded};me.lengthComputable&&(ie.total=me.total),at.next(ie)};return Mt.addEventListener("load",dt),Mt.addEventListener("error",Qe),Mt.addEventListener("timeout",Qe),Mt.addEventListener("abort",Qe),Te.reportProgress&&(Mt.addEventListener("progress",Be),null!==we&&Mt.upload&&Mt.upload.addEventListener("progress",Re)),Mt.send(we),at.next({type:lt.Sent}),()=>{Mt.removeEventListener("error",Qe),Mt.removeEventListener("abort",Qe),Mt.removeEventListener("load",dt),Mt.removeEventListener("timeout",Qe),Te.reportProgress&&(Mt.removeEventListener("progress",Be),null!==we&&Mt.upload&&Mt.upload.removeEventListener("progress",Re)),Mt.readyState!==Mt.DONE&&Mt.abort()}})}}return ge.\u0275fac=function(Te){return new(Te||ge)(f.LFG(p.JF))},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const di=new f.OlP("XSRF_ENABLED"),Wn=new f.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),lr=new f.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class xt{}let yn=(()=>{class ge{constructor(Te,at,Mt){this.doc=Te,this.platform=at,this.cookieName=Mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Te=this.doc.cookie||"";return Te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(Te,this.cookieName),this.lastCookieString=Te),this.lastToken}}return ge.\u0275fac=function(Te){return new(Te||ge)(f.LFG(p.K0),f.LFG(f.Lbi),f.LFG(Wn))},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function Rt(ge,fe){const Te=ge.url.toLowerCase();if(!(0,f.f3M)(di)||"GET"===ge.method||"HEAD"===ge.method||Te.startsWith("http://")||Te.startsWith("https://"))return fe(ge);const at=(0,f.f3M)(xt).getToken(),Mt=(0,f.f3M)(lr);return null!=at&&!ge.headers.has(Mt)&&(ge=ge.clone({headers:ge.headers.set(Mt,at)})),fe(ge)}var Jt=(()=>((Jt=Jt||{})[Jt.Interceptors=0]="Interceptors",Jt[Jt.LegacyInterceptors=1]="LegacyInterceptors",Jt[Jt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Jt[Jt.NoXsrfProtection=3]="NoXsrfProtection",Jt[Jt.JsonpSupport=4]="JsonpSupport",Jt[Jt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Jt))();function ti(ge,fe){return{\u0275kind:ge,\u0275providers:fe}}function Gn(...ge){const fe=[st,Jn,jt,{provide:Ae,useExisting:jt},{provide:Ge,useExisting:Jn},{provide:pn,useValue:Rt,multi:!0},{provide:di,useValue:!0},{provide:xt,useClass:yn}];for(const Te of ge)fe.push(...Te.\u0275providers);return(0,f.MR2)(fe)}const Oi=new f.OlP("LEGACY_INTERCEPTOR_FN");let Ut=(()=>{class ge{}return ge.\u0275fac=function(Te){return new(Te||ge)},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({providers:[Gn(ti(Jt.LegacyInterceptors,[{provide:Oi,useFactory:ht},{provide:pn,useExisting:Oi,multi:!0}]))]}),ge})()},1571:(bn,ot,B)=>{B.d(ot,{QbO:()=>GE,tb:()=>q0,AFp:()=>F0,ip1:()=>N0,CZH:()=>Qg,hGG:()=>Mw,z2F:()=>Jg,sBO:()=>pw,Sil:()=>YE,_Vd:()=>nl,EJc:()=>KE,Xts:()=>Eh,SBq:()=>_d,lqb:()=>el,qLn:()=>lu,vpe:()=>ac,tBr:()=>L,XFs:()=>xt,OlP:()=>ss,zs3:()=>Sc,ZZ4:()=>Gy,aQg:()=>Wy,soG:()=>Xg,YKP:()=>Bv,h0i:()=>yf,PXZ:()=>cw,R0b:()=>ol,FiY:()=>$,Lbi:()=>zE,g9A:()=>V0,Qsj:()=>Xl,FYo:()=>zf,JOm:()=>xa,q3G:()=>uo,tp0:()=>ke,Rgc:()=>um,dDg:()=>sw,eoX:()=>G0,q4F:()=>Am,GfV:()=>Sm,s_b:()=>Kg,ifc:()=>me,MMx:()=>vy,Lck:()=>$b,eFA:()=>Z0,Gpc:()=>Lt,f3M:()=>Mt,$WT:()=>Jr,MR2:()=>l_,_c5:()=>Aw,c2e:()=>WE,zSh:()=>ud,wAp:()=>Ai,vHH:()=>Me,lri:()=>$0,rWj:()=>z0,JZr:()=>Pn,EiD:()=>wl,mCW:()=>Gl,qzn:()=>Kn,JVY:()=>As,pB0:()=>zl,eBb:()=>La,L6k:()=>Qr,LAX:()=>wc,D6c:()=>Ow,cg1:()=>jg,kL8:()=>ey,dqk:()=>Gn,Z0I:()=>Qn,eJc:()=>Ay,CqO:()=>_g,QGY:()=>zp,F4k:()=>gg,RDi:()=>id,AaK:()=>Ze,z3N:()=>Nn,qOj:()=>Pd,TTD:()=>oo,_Bn:()=>Vv,jDz:()=>Hv,xp6:()=>ep,uIk:()=>Nd,Tol:()=>cf,ekj:()=>Au,Suo:()=>f0,Xpm:()=>Hi,lG2:()=>os,Yz7:()=>dn,cJS:()=>Bn,oAB:()=>mr,Yjl:()=>as,Y36:()=>il,_UZ:()=>jp,BQk:()=>Bd,ynx:()=>nf,qZA:()=>Iu,TgZ:()=>Ml,EpF:()=>$p,n5z:()=>vs,Ikx:()=>ku,LFG:()=>Te,$8M:()=>Lo,$Z:()=>Fh,NdJ:()=>Gp,CRH:()=>p0,oxw:()=>Ud,ALo:()=>n0,xi3:()=>r0,Dn7:()=>s0,Hsn:()=>Qp,F$t:()=>Yp,Q6J:()=>Ld,DdM:()=>Kv,VKq:()=>Zv,WLB:()=>Yv,iGM:()=>d0,KtG:()=>en,evT:()=>qf,CHM:()=>Ct,oJD:()=>ad,LSH:()=>Cl,P3R:()=>Lf,Udp:()=>lf,d8E:()=>sc,YNc:()=>ef,_uU:()=>Og,Oqu:()=>Ru,hij:()=>zd,Gf:()=>h0});var p=B(7579),f=B(727),le=B(9751),Ne=B(6451),Pe=B(8421),_e=B(930),Ie=B(4482);function Ge(n,i,...s){if(!0===i)return void n();if(!1===i)return;const a=new _e.Hp({next:()=>{a.unsubscribe(),n()}});return(0,Pe.Xf)(i(...s)).subscribe(a)}function ce(n){for(let i in n)if(n[i]===ce)return i;throw Error("Could not find renamed property on target object.")}function Se(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function Ze(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ze).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Dt(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const gt=ce({__forward_ref__:ce});function Lt(n){return n.__forward_ref__=Lt,n.toString=function(){return Ze(this())},n}function _t(n){return Ht(n)?n():n}function Ht(n){return"function"==typeof n&&n.hasOwnProperty(gt)&&n.__forward_ref__===Lt}function Qt(n){return n&&!!n.\u0275providers}const Pn="https://g.co/ng/security#xss";class Me extends Error{constructor(i,s){super(Ce(i,s)),this.code=i}}function Ce(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function Oe(n){return"string"==typeof n?n:null==n?"":String(n)}function $t(n,i){throw new Me(-201,!1)}function et(n,i){null==n&&function Tt(n,i,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,n,null,"!=")}function dn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ci(n){return wn(n,gi)||wn(n,Ti)}function Qn(n){return null!==ci(n)}function wn(n,i){return n.hasOwnProperty(i)?n[i]:null}function di(n){return n&&(n.hasOwnProperty(Wn)||n.hasOwnProperty(lr))?n[Wn]:null}const gi=ce({\u0275prov:ce}),Wn=ce({\u0275inj:ce}),Ti=ce({ngInjectableDef:ce}),lr=ce({ngInjectorDef:ce});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let yn;function zt(n){const i=yn;return yn=n,i}function Jt(n,i,s){const a=ci(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&xt.Optional?null:void 0!==i?i:void $t(Ze(n))}const Gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xn={},si="__NG_DI_FLAG__",pr="ngTempTokenPath",oi="ngTokenPath",Ar=/\n/gm,Ut="\u0275",De="__source";let ve;function ge(n){const i=ve;return ve=n,i}function fe(n,i=xt.Default){if(void 0===ve)throw new Me(-203,!1);return null===ve?Jt(n,void 0,i):ve.get(n,i&xt.Optional?null:void 0,i)}function Te(n,i=xt.Default){return(function Rt(){return yn}()||fe)(_t(n),i)}function Mt(n,i=xt.Default){return Te(n,we(i))}function we(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function be(n){const i=[];for(let s=0;s<n.length;s++){const a=_t(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Me(900,!1);let c,h=xt.Default;for(let E=0;E<a.length;E++){const S=a[E],N=dt(S);"number"==typeof N?-1===N?c=S.token:h|=N:c=S}i.push(Te(c,h))}else i.push(Te(a))}return i}function Ve(n,i){return n[si]=i,n.prototype[si]=i,n}function dt(n){return n[si]}function Be(n){return{toString:n}.toString()}var Re=(()=>((Re=Re||{})[Re.OnPush=0]="OnPush",Re[Re.Default=1]="Default",Re))(),me=(()=>{return(n=me||(me={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",me;var n})();const ie={},te=[],re=ce({\u0275cmp:ce}),$e=ce({\u0275dir:ce}),ze=ce({\u0275pipe:ce}),nt=ce({\u0275mod:ce}),Bt=ce({\u0275fac:ce}),mn=ce({__NG_ELEMENT_ID__:ce});let ni=0;function Hi(n){return Be(()=>{const i=ms(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Re.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||me.Emulated,id:"c"+ni++,styles:n.styles||te,_:null,schemas:n.schemas||null,tView:null};ns(s);const a=n.dependencies;return s.directiveDefs=Ri(a,!1),s.pipeDefs=Ri(a,!0),s})}function Er(n){return _i(n)||wi(n)}function Ls(n){return null!==n}function mr(n){return Be(()=>({type:n.type,bootstrap:n.bootstrap||te,declarations:n.declarations||te,imports:n.imports||te,exports:n.exports||te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ji(n,i){if(null==n)return ie;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,i&&(i[c]=h)}return s}function os(n){return Be(()=>{const i=ms(n);return ns(i),i})}function as(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function _i(n){return n[re]||null}function wi(n){return n[$e]||null}function wr(n){return n[ze]||null}function Jr(n){const i=_i(n)||wi(n)||wr(n);return null!==i&&i.standalone}function xi(n,i){const s=n[nt]||null;if(!s&&!0===i)throw new Error(`Type ${Ze(n)} does not have '\u0275mod' property.`);return s}function ms(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||te,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ji(n.inputs,i),outputs:Ji(n.outputs)}}function ns(n){n.features?.forEach(i=>i(n))}function Ri(n,i){if(!n)return null;const s=i?wr:Er;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(Ls)}const yr=0,Fe=1,He=2,Xe=3,Ot=4,Yt=5,cn=6,Xn=7,On=8,pi=9,gr=10,Yn=11,Ki=12,Vs=13,eo=14,mo=15,Gr=16,to=17,Ur=18,cr=19,Fr=20,Cr=21,Si=22,no=1,io=2,Bs=7,Qs=8,Us=9,vr=10;function ji(n){return Array.isArray(n)&&"object"==typeof n[no]}function ir(n){return Array.isArray(n)&&!0===n[no]}function Mr(n){return 0!=(4&n.flags)}function ws(n){return n.componentOffset>-1}function Ui(n){return 1==(1&n.flags)}function ur(n){return!!n.template}function Ms(n){return 0!=(256&n[He])}function Lr(n,i){return n.hasOwnProperty(Bt)?n[Bt]:null}class zs{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function oo(){return cs}function cs(n){return n.type.prototype.ngOnChanges&&(n.setInput=ks),Po}function Po(){const n=_r(this),i=n?.current;if(i){const s=n.previous;if(s===ie)n.previous=i;else for(let a in i)s[a]=i[a];n.current=null,this.ngOnChanges(i)}}function ks(n,i,s,a){const c=this.declaredInputs[s],h=_r(n)||function Vr(n,i){return n[_o]=i}(n,{previous:ie,current:null}),E=h.current||(h.current={}),S=h.previous,N=S[c];E[c]=new zs(N&&N.currentValue,i,S===ie),n[a]=i}oo.ngInherit=!0;const _o="__ngSimpleChanges__";function _r(n){return n[_o]||null}const Or=function(n,i,s){};function k(n){for(;Array.isArray(n);)n=n[yr];return n}function G(n,i){return k(i[n])}function he(n,i){return k(i[n.index])}function ft(n,i){return n.data[i]}function Pt(n,i){return n[i]}function nn(n,i){const s=i[n];return ji(s)?s:s[yr]}function kn(n){return 64==(64&n[He])}function or(n,i){return null==i?null:n[i]}function Tr(n){n[Ur]=0}function Ir(n,i){n[Yt]+=i;let s=n,a=n[Xe];for(;null!==a&&(1===i&&1===s[Yt]||-1===i&&0===s[Yt]);)a[Yt]+=i,s=a,a=a[Xe]}const Fn={lFrame:So(null),bindingsEnabled:!0};function m(){return Fn.bindingsEnabled}function X(){return Fn.lFrame.lView}function je(){return Fn.lFrame.tView}function Ct(n){return Fn.lFrame.contextLView=n,n[On]}function en(n){return Fn.lFrame.contextLView=null,n}function En(){let n=An();for(;null!==n&&64===n.type;)n=n.parent;return n}function An(){return Fn.lFrame.currentTNode}function qn(n,i){const s=Fn.lFrame;s.currentTNode=n,s.isParent=i}function ar(){return Fn.lFrame.isParent}function zi(){Fn.lFrame.isParent=!1}function Pi(){const n=Fn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function yi(){return Fn.lFrame.bindingIndex++}function Gi(n){const i=Fn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function na(n,i){const s=Fn.lFrame;s.bindingIndex=s.bindingRootIndex=n,ko(i)}function ko(n){Fn.lFrame.currentDirectiveIndex=n}function Wo(n){const i=Fn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Pa(){return Fn.lFrame.currentQueryIndex}function da(n){Fn.lFrame.currentQueryIndex=n}function la(n){const i=n[Fe];return 2===i.type?i.declTNode:1===i.type?n[cn]:null}function ha(n,i,s){if(s&xt.SkipSelf){let c=i,h=n;for(;!(c=c.parent,null!==c||s&xt.Host||(c=la(h),null===c||(h=h[mo],10&c.type))););if(null===c)return!1;i=c,n=h}const a=Fn.lFrame=hs();return a.currentTNode=i,a.lView=n,!0}function ia(n){const i=hs(),s=n[Fe];Fn.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function hs(){const n=Fn.lFrame,i=null===n?null:n.child;return null===i?So(n):i}function So(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function No(){const n=Fn.lFrame;return Fn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fa=No;function Za(){const n=No();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Li(){return Fn.lFrame.selectedIndex}function qo(n){Fn.lFrame.selectedIndex=n}function rn(){const n=Fn.lFrame;return ft(n.tView,n.selectedIndex)}function F(n,i){for(let s=i.directiveStart,a=i.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:S,ngAfterViewInit:N,ngAfterViewChecked:K,ngOnDestroy:ae}=h;E&&(n.contentHooks||(n.contentHooks=[])).push(-s,E),S&&((n.contentHooks||(n.contentHooks=[])).push(s,S),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,S)),N&&(n.viewHooks||(n.viewHooks=[])).push(-s,N),K&&((n.viewHooks||(n.viewHooks=[])).push(s,K),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,K)),null!=ae&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ae)}}function se(n,i,s){qt(n,i,3,s)}function Le(n,i,s,a){(3&n[He])===s&&qt(n,i,s,a)}function It(n,i){let s=n[He];(3&s)===i&&(s&=2047,s+=1,n[He]=s)}function qt(n,i,s,a){const h=a??-1,E=i.length-1;let S=0;for(let N=void 0!==a?65535&n[Ur]:0;N<E;N++)if("number"==typeof i[N+1]){if(S=i[N],null!=a&&S>=a)break}else i[N]<0&&(n[Ur]+=65536),(S<h||-1==h)&&(Hn(n,s,i,N),n[Ur]=(4294901760&n[Ur])+N+2),N++}function Hn(n,i,s,a){const c=s[a]<0,h=s[a+1],S=n[c?-s[a]:s[a]];if(c){if(n[He]>>11<n[Ur]>>16&&(3&n[He])===i){n[He]+=2048,Or(4,S,h);try{h.call(S)}finally{Or(5,S,h)}}}else{Or(4,S,h);try{h.call(S)}finally{Or(5,S,h)}}}const Vi=-1;class Wi{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function b(n,i,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const h=s[a++],E=s[a++],S=s[a++];n.setAttribute(i,E,S,h)}else{const h=c,E=s[++a];W(h)?n.setProperty(i,h,E):n.setAttribute(i,h,E),a++}}return a}function P(n){return 3===n||4===n||6===n}function W(n){return 64===n.charCodeAt(0)}function ue(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const c=i[a];"number"==typeof c?s=c:0===s||ye(n,s,c,null,-1===s||2===s?i[++a]:null)}}return n}function ye(n,i,s,a,c){let h=0,E=n.length;if(-1===i)E=-1;else for(;h<n.length;){const S=n[h++];if("number"==typeof S){if(S===i){E=-1;break}if(S>i){E=h-1;break}}}for(;h<n.length;){const S=n[h];if("number"==typeof S)break;if(S===s){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==E&&(n.splice(E,0,i),h=E+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}function Ke(n){return n!==Vi}function ut(n){return 32767&n}function Cn(n,i){let s=function Ft(n){return n>>16}(n),a=i;for(;s>0;)a=a[mo],s--;return a}let Mn=!0;function ki(n){const i=Mn;return Mn=n,i}const ri=255,mi=5;let Ei=0;const Bi={};function fs(n,i){const s=Zr(n,i);if(-1!==s)return s;const a=i[Fe];a.firstCreatePass&&(n.injectorIndex=i.length,xr(a.data,n),xr(i,null),xr(a.blueprint,null));const c=mt(n,i),h=n.injectorIndex;if(Ke(c)){const E=ut(c),S=Cn(c,i),N=S[Fe].data;for(let K=0;K<8;K++)i[h+K]=S[E+K]|N[E+K]}return i[h+8]=c,h}function xr(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Zr(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function mt(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=i;for(;null!==c;){if(a=es(c),null===a)return Vi;if(s++,c=c[mo],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Vi}function Br(n,i,s){!function is(n,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(mn)&&(a=s[mn]),null==a&&(a=s[mn]=Ei++);const c=a&ri;i.data[n+(c>>mi)]|=1<<c}(n,i,s)}function Is(n,i,s){if(s&xt.Optional||void 0!==n)return n;$t()}function Js(n,i,s,a){if(s&xt.Optional&&void 0===a&&(a=null),!(s&(xt.Self|xt.Host))){const c=n[pi],h=zt(void 0);try{return c?c.get(i,a,s&xt.Optional):Jt(i,a,s&xt.Optional)}finally{zt(h)}}return Is(a,0,s)}function Fo(n,i,s,a=xt.Default,c){if(null!==n){if(1024&i[He]){const E=function Uo(n,i,s,a,c){let h=n,E=i;for(;null!==h&&null!==E&&1024&E[He]&&!(256&E[He]);){const S=ra(h,E,s,a|xt.Self,Bi);if(S!==Bi)return S;let N=h.parent;if(!N){const K=E[Cr];if(K){const ae=K.get(s,Bi,a);if(ae!==Bi)return ae}N=es(E),E=E[mo]}h=N}return c}(n,i,s,a,Bi);if(E!==Bi)return E}const h=ra(n,i,s,a,Bi);if(h!==Bi)return h}return Js(i,s,a,c)}function ra(n,i,s,a,c){const h=function Dn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(mn)?n[mn]:void 0;return"number"==typeof i?i>=0?i&ri:rs:i}(s);if("function"==typeof h){if(!ha(i,n,a))return a&xt.Host?Is(c,0,a):Js(i,s,a,c);try{const E=h(a);if(null!=E||a&xt.Optional)return E;$t()}finally{fa()}}else if("number"==typeof h){let E=null,S=Zr(n,i),N=Vi,K=a&xt.Host?i[Gr][cn]:null;for((-1===S||a&xt.SkipSelf)&&(N=-1===S?mt(n,i):i[S+8],N!==Vi&&jn(a,!1)?(E=i[Fe],S=ut(N),i=Cn(N,i)):S=-1);-1!==S;){const ae=i[Fe];if(ui(h,S,ae.data)){const xe=lo(S,i,s,E,a,K);if(xe!==Bi)return xe}N=i[S+8],N!==Vi&&jn(a,i[Fe].data[S+8]===K)&&ui(h,S,i)?(E=ae,S=ut(N),i=Cn(N,i)):S=-1}}return c}function lo(n,i,s,a,c,h){const E=i[Fe],S=E.data[n+8],ae=Ko(S,E,s,null==a?ws(S)&&Mn:a!=E&&0!=(3&S.type),c&xt.Host&&h===S);return null!==ae?ys(i,E,ae,S):Bi}function Ko(n,i,s,a,c){const h=n.providerIndexes,E=i.data,S=1048575&h,N=n.directiveStart,ae=h>>20,Je=c?S+ae:n.directiveEnd;for(let bt=a?S:S+ae;bt<Je;bt++){const Kt=E[bt];if(bt<N&&s===Kt||bt>=N&&Kt.type===s)return bt}if(c){const bt=E[N];if(bt&&ur(bt)&&bt.type===s)return N}return null}function ys(n,i,s,a){let c=n[s];const h=i.data;if(function fr(n){return n instanceof Wi}(c)){const E=c;E.resolving&&function Nt(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Me(-200,`Circular dependency in DI detected for ${n}${s}`)}(function ct(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Oe(n)}(h[s]));const S=ki(E.canSeeViewProviders);E.resolving=!0;const N=E.injectImpl?zt(E.injectImpl):null;ha(n,a,xt.Default);try{c=n[s]=E.factory(void 0,h,n,a),i.firstCreatePass&&s>=a.directiveStart&&function q(n,i,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(a){const E=cs(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,E),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,E)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],i)}finally{null!==N&&zt(N),ki(S),E.resolving=!1,fa()}}return c}function ui(n,i,s){return!!(s[i+(n>>mi)]&1<<n)}function jn(n,i){return!(n&xt.Self||n&xt.Host&&i)}class Ni{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return Fo(this._tNode,this._lView,i,we(a),s)}}function rs(){return new Ni(En(),X())}function vs(n){return Be(()=>{const i=n.prototype.constructor,s=i[Bt]||er(i),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[Bt]||er(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function er(n){return Ht(n)?()=>{const i=er(_t(n));return i&&i()}:Lr(n)}function es(n){const i=n[Fe],s=i.type;return 2===s?i.declTNode:1===s?n[cn]:null}function Lo(n){return function ps(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(P(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(En(),n)}const Yr="__parameters__";function Yo(n,i,s){return Be(()=>{const a=function Ea(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(i);function c(...h){if(this instanceof c)return a.apply(this,h),this;const E=new c(...h);return S.annotation=E,S;function S(N,K,ae){const xe=N.hasOwnProperty(Yr)?N[Yr]:Object.defineProperty(N,Yr,{value:[]})[Yr];for(;xe.length<=ae;)xe.push(null);return(xe[ae]=xe[ae]||[]).push(E),N}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class ss{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=dn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ts(n,i){n.forEach(s=>Array.isArray(s)?ts(s,i):i(s))}function w(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function C(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function y(n,i){const s=[];for(let a=0;a<n;a++)s.push(i);return s}function Ye(n,i,s){let a=fn(n,i);return a>=0?n[1|a]=s:(a=~a,function J(n,i,s,a){let c=n.length;if(c==i)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=s,n[i+1]=a}}(n,a,i,s)),a}function kt(n,i){const s=fn(n,i);if(s>=0)return n[1|s]}function fn(n,i){return function Mi(n,i,s){let a=0,c=n.length>>s;for(;c!==a;){const h=a+(c-a>>1),E=n[h<<s];if(i===E)return h<<s;E>i?c=h:a=h+1}return~(c<<s)}(n,i,1)}const L=Ve(Yo("Inject",n=>({token:n})),-1),$=Ve(Yo("Optional"),8),ke=Ve(Yo("SkipSelf"),4);var xa=(()=>((xa=xa||{})[xa.Important=1]="Important",xa[xa.DashCase=2]="DashCase",xa))();const $u=new Map;let zu=0;const hl="__ngContext__";function Ho(n,i){ji(i)?(n[hl]=i[Fr],function Fl(n){$u.set(n[Fr],n)}(i)):n[hl]=i}let qc;function Kc(n,i){return qc(n,i)}function Xo(n){const i=n[Xe];return ir(i)?i[Xe]:i}function Ul(n){return Ku(n[Vs])}function pl(n){return Ku(n[Ot])}function Ku(n){for(;null!==n&&!ir(n);)n=n[Ot];return n}function Jo(n,i,s,a,c){if(null!=a){let h,E=!1;ir(a)?h=a:ji(a)&&(E=!0,a=a[yr]);const S=k(a);0===n&&null!==s?null==c?jl(i,s,S):_l(i,s,S,c||null,!0):1===n&&null!==s?_l(i,s,S,c||null,!0):2===n?function Fa(n,i,s){const a=Ju(n,i);a&&function Af(n,i,s,a){n.removeChild(i,s,a)}(n,a,i,s)}(i,S,E):3===n&&i.destroyNode(S),null!=h&&function fh(n,i,s,a,c){const h=s[Bs];h!==k(s)&&Jo(i,n,a,h,c);for(let S=vr;S<s.length;S++){const N=s[S];_c(N[Fe],N,n,i,a,h)}}(i,n,h,s,c)}}function ch(n,i,s){return n.createElement(i,s)}function Yc(n,i){const s=n[Us],a=s.indexOf(i),c=i[Xe];512&i[He]&&(i[He]&=-513,Ir(c,-1)),s.splice(a,1)}function Yu(n,i){if(n.length<=vr)return;const s=vr+i,a=n[s];if(a){const c=a[to];null!==c&&c!==n&&Yc(c,a),i>0&&(n[s-1][Ot]=a[Ot]);const h=C(n,vr+i);!function Yi(n,i){_c(n,i,i[Yn],2,null,null),i[yr]=null,i[cn]=null}(a[Fe],a);const E=h[cr];null!==E&&E.detachView(h[Fe]),a[Xe]=null,a[Ot]=null,a[He]&=-65}return a}function Sf(n,i){if(!(128&i[He])){const s=i[Yn];s.destroyNode&&_c(n,i,s,3,null,null),function Tf(n){let i=n[Vs];if(!i)return Qu(n[Fe],n);for(;i;){let s=null;if(ji(i))s=i[Vs];else{const a=i[vr];a&&(s=a)}if(!s){for(;i&&!i[Ot]&&i!==n;)ji(i)&&Qu(i[Fe],i),i=i[Xe];null===i&&(i=n),ji(i)&&Qu(i[Fe],i),s=i&&i[Ot]}i=s}}(i)}}function Qu(n,i){if(!(128&i[He])){i[He]&=-65,i[He]|=128,function ml(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=i[s[a]];if(!(c instanceof Wi)){const h=s[a+1];if(Array.isArray(h))for(let E=0;E<h.length;E+=2){const S=c[h[E]],N=h[E+1];Or(4,S,N);try{N.call(S)}finally{Or(5,S,N)}}else{Or(4,c,h);try{h.call(c)}finally{Or(5,c,h)}}}}}(n,i),function gc(n,i){const s=n.cleanup,a=i[Xn];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const E=s[h+3];E>=0?a[c=E]():a[c=-E].unsubscribe(),h+=2}else{const E=a[c=s[h+1]];s[h].call(E)}if(null!==a){for(let h=c+1;h<a.length;h++)(0,a[h])();i[Xn]=null}}(n,i),1===i[Fe].type&&i[Yn].destroy();const s=i[to];if(null!==s&&ir(i[Xe])){s!==i[Xe]&&Yc(s,i);const a=i[cr];null!==a&&a.detachView(n)}!function Ll(n){$u.delete(n[Fr])}(i)}}function uh(n,i,s){return function gl(n,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[yr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=n.data[a.directiveStart+c];if(h===me.None||h===me.Emulated)return null}return he(a,s)}}(n,i.parent,s)}function _l(n,i,s,a,c){n.insertBefore(i,s,a,c)}function jl(n,i,s){n.appendChild(i,s)}function dh(n,i,s,a,c){null!==a?_l(n,i,s,a,c):jl(n,i,s)}function Ju(n,i){return n.parentNode(i)}function Ss(n,i,s){return Xc(n,i,s)}let ed,yc,eu,bl,Xc=function Qc(n,i,s){return 40&n.type?he(n,s):null};function yl(n,i,s,a){const c=uh(n,a,i),h=i[Yn],S=Ss(a.parent||i[cn],a,i);if(null!=c)if(Array.isArray(s))for(let N=0;N<s.length;N++)dh(h,c,s[N],S,!1);else dh(h,c,s,S,!1);void 0!==ed&&ed(h,a,i,s,c)}function td(n,i){if(null!==i){const s=i.type;if(3&s)return he(i,n);if(4&s)return vl(-1,n[i.index]);if(8&s){const a=i.child;if(null!==a)return td(n,a);{const c=n[i.index];return ir(c)?vl(-1,c):k(c)}}if(32&s)return Kc(i,n)()||k(n[i.index]);{const a=hh(n,i);return null!==a?Array.isArray(a)?a[0]:td(Xo(n[Gr]),a):td(n,i.next)}}return null}function hh(n,i){return null!==i?n[Gr][cn].projection[i.projection]:null}function vl(n,i){const s=vr+n+1;if(s<i.length){const a=i[s],c=a[Fe].firstChild;if(null!==c)return td(a,c)}return i[Bs]}function nd(n,i,s,a,c,h,E){for(;null!=s;){const S=a[s.index],N=s.type;if(E&&0===i&&(S&&Ho(k(S),a),s.flags|=2),32!=(32&s.flags))if(8&N)nd(n,i,s.child,a,c,h,!1),Jo(i,n,c,S,h);else if(32&N){const K=Kc(s,a);let ae;for(;ae=K();)Jo(i,n,c,ae,h);Jo(i,n,c,S,h)}else 16&N?$l(n,i,a,s,c,h):Jo(i,n,c,S,h);s=E?s.projectionNext:s.next}}function _c(n,i,s,a,c,h){nd(s,a,n.firstChild,i,c,h,!1)}function $l(n,i,s,a,c,h){const E=s[Gr],N=E[cn].projection[a.projection];if(Array.isArray(N))for(let K=0;K<N.length;K++)Jo(i,n,c,N[K],h);else nd(n,i,N,E[Xe],c,h,!0)}function Jc(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function Rf(n,i,s){const{mergedAttrs:a,classes:c,styles:h}=s;null!==a&&b(n,i,a),null!==c&&Jc(n,i,c),null!==h&&function mh(n,i,s){n.setAttribute(i,"style",s)}(n,i,h)}function vc(n){return function gh(){if(void 0===yc&&(yc=null,Gn.trustedTypes))try{yc=Gn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yc}()?.createHTML(n)||n}function id(n){eu=n}function Ec(){if(void 0===bl&&(bl=null,Gn.trustedTypes))try{bl=Gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bl}function _h(n){return Ec()?.createHTML(n)||n}function d(n){return Ec()?.createScriptURL(n)||n}class g{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pn})`}}class R extends g{getTypeName(){return"HTML"}}class ee extends g{getTypeName(){return"Style"}}class Ee extends g{getTypeName(){return"Script"}}class Et extends g{getTypeName(){return"URL"}}class sn extends g{getTypeName(){return"ResourceURL"}}function Nn(n){return n instanceof g?n.changingThisBreaksApplicationSecurity:n}function Kn(n,i){const s=function Qi(n){return n instanceof g&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${Pn})`)}return s===i}function As(n){return new R(n)}function Qr(n){return new ee(n)}function La(n){return new Ee(n)}function wc(n){return new Et(n)}function zl(n){return new sn(n)}class tu{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(vc(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class rd{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=vc(i),s}}const sd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Gl(n){return(n=String(n)).match(sd)?n:"unsafe:"+n}function ga(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function Wl(...n){const i={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(i[a]=!0);return i}const yh=ga("area,br,col,hr,img,wbr"),Ja=ga("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nu=ga("rp,rt"),vh=Wl(yh,Wl(Ja,ga("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wl(nu,ga("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wl(nu,Ja)),kf=ga("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gm=Wl(kf,ga("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ga("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),s_=ga("script,style,template");class ql{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!vh.hasOwnProperty(s))return this.sanitizedSomething=!0,!s_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=i.attributes;for(let c=0;c<a.length;c++){const h=a.item(c),E=h.name,S=E.toLowerCase();if(!gm.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let N=h.value;kf[S]&&(N=Gl(N)),this.buf.push(" ",E,'="',ym(N),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();vh.hasOwnProperty(s)&&!yh.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(ym(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const iu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_m=/([^\#-~ |!])/g;function ym(n){return n.replace(/&/g,"&amp;").replace(iu,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(_m,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let od;function wl(n,i){let s=null;try{od=od||function ua(n){const i=new rd(n);return function El(){try{return!!(new window.DOMParser).parseFromString(vc(""),"text/html")}catch{return!1}}()?new tu(i):i}(n);let a=i?String(i):"";s=od.getInertBodyElement(a);let c=5,h=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=h,h=s.innerHTML,s=od.getInertBodyElement(a)}while(a!==h);return vc((new ql).sanitizeChildren(bh(s)||s))}finally{if(s){const a=bh(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function bh(n){return"content"in n&&function o_(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var uo=(()=>((uo=uo||{})[uo.NONE=0]="NONE",uo[uo.HTML=1]="HTML",uo[uo.STYLE=2]="STYLE",uo[uo.SCRIPT=3]="SCRIPT",uo[uo.URL=4]="URL",uo[uo.RESOURCE_URL=5]="RESOURCE_URL",uo))();function ad(n){const i=ru();return i?_h(i.sanitize(uo.HTML,n)||""):Kn(n,"HTML")?_h(Nn(n)):wl(function bc(){return void 0!==eu?eu:typeof document<"u"?document:void 0}(),Oe(n))}function Cl(n){const i=ru();return i?i.sanitize(uo.URL,n)||"":Kn(n,"URL")?Nn(n):Gl(Oe(n))}function Kl(n){const i=ru();if(i)return d(i.sanitize(uo.RESOURCE_URL,n)||"");if(Kn(n,"ResourceURL"))return d(Nn(n));throw new Me(904,!1)}function Lf(n,i,s){return function Ff(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Kl:Cl}(i,s)(n)}function ru(){const n=X();return n&&n[Ki]}const Eh=new ss("ENVIRONMENT_INITIALIZER"),cd=new ss("INJECTOR",-1),su=new ss("INJECTOR_DEF_TYPES");class Zl{get(i,s=xn){if(s===xn){const a=new Error(`NullInjectorError: No provider for ${Ze(i)}!`);throw a.name="NullInjectorError",a}return s}}function l_(n){return{\u0275providers:n}}function bm(...n){return{\u0275providers:Em(0,n),\u0275fromNgModule:!0}}function Em(n,...i){const s=[],a=new Set;let c;return ts(i,h=>{const E=h;Vf(E,s,[],a)&&(c||(c=[]),c.push(E))}),void 0!==c&&wm(c,s),s}function wm(n,i){for(let s=0;s<n.length;s++){const{providers:c}=n[s];Dl(c,h=>{i.push(h)})}}function Vf(n,i,s,a){if(!(n=_t(n)))return!1;let c=null,h=di(n);const E=!h&&_i(n);if(h||E){if(E&&!E.standalone)return!1;c=n}else{const N=n.ngModule;if(h=di(N),!h)return!1;c=N}const S=a.has(c);if(E){if(S)return!1;if(a.add(c),E.dependencies){const N="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const K of N)Vf(K,i,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let K;a.add(c);try{ts(h.imports,ae=>{Vf(ae,i,s,a)&&(K||(K=[]),K.push(ae))})}finally{}void 0!==K&&wm(K,i)}if(!S){const K=Lr(c)||(()=>new c);i.push({provide:c,useFactory:K,deps:te},{provide:su,useValue:c,multi:!0},{provide:Eh,useValue:()=>Te(c),multi:!0})}const N=h.providers;null==N||S||Dl(N,ae=>{i.push(ae)})}}return c!==n&&void 0!==n.providers}function Dl(n,i){for(let s of n)Qt(s)&&(s=s.\u0275providers),Array.isArray(s)?Dl(s,i):i(s)}const Yl=ce({provide:String,useValue:ce});function Ch(n){return null!==n&&"object"==typeof n&&Yl in n}function Dc(n){return"function"==typeof n}const ud=new ss("Set Injector scope."),dd={},Hf={};let hd;function fd(){return void 0===hd&&(hd=new Zl),hd}class el{}class Dm extends el{get destroyed(){return this._destroyed}constructor(i,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ih(i,E=>this.processProvider(E)),this.records.set(cd,tl(void 0,this)),c.has("environment")&&this.records.set(el,tl(void 0,this));const h=this.records.get(ud);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(su.multi,te,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=ge(this),a=zt(void 0);try{return i()}finally{ge(s),zt(a)}}get(i,s=xn,a=xt.Default){this.assertNotDestroyed(),a=we(a);const c=ge(this),h=zt(void 0);try{if(!(a&xt.SkipSelf)){let S=this.records.get(i);if(void 0===S){const N=function Tm(n){return"function"==typeof n||"object"==typeof n&&n instanceof ss}(i)&&ci(i);S=N&&this.injectableDefInScope(N)?tl(pd(i),dd):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(a&xt.Self?fd():this.parent).get(i,s=a&xt.Optional&&s===xn?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[pr]=E[pr]||[]).unshift(Ze(i)),c)throw E;return function Qe(n,i,s,a){const c=n[pr];throw i[De]&&c.unshift(i[De]),n.message=function ln(n,i,s,a=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Ut?n.slice(2):n;let c=Ze(i);if(Array.isArray(i))c=i.map(Ze).join(" -> ");else if("object"==typeof i){let h=[];for(let E in i)if(i.hasOwnProperty(E)){let S=i[E];h.push(E+":"+("string"==typeof S?JSON.stringify(S):Ze(S)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(Ar,"\n  ")}`}("\n"+n.message,c,s,a),n[oi]=c,n[pr]=null,n}(E,i,"R3InjectorError",this.source)}throw E}finally{zt(h),ge(c)}}resolveInjectorInitializers(){const i=ge(this),s=zt(void 0);try{const a=this.get(Eh.multi,te,xt.Self);for(const c of a)c()}finally{ge(i),zt(s)}}toString(){const i=[],s=this.records;for(const a of s.keys())i.push(Ze(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(i){let s=Dc(i=_t(i))?i:_t(i&&i.provide);const a=function c_(n){return Ch(n)?tl(void 0,n.useValue):tl(jf(n),dd)}(i);if(Dc(i)||!0!==i.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=tl(void 0,dd,!0),c.factory=()=>be(c.multi),this.records.set(s,c)),s=i,c.multi.push(i)}this.records.set(s,a)}hydrate(i,s){return s.value===dd&&(s.value=Hf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function md(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=_t(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function pd(n){const i=ci(n),s=null!==i?i.factory:Lr(n);if(null!==s)return s;if(n instanceof ss)throw new Me(204,!1);if(n instanceof Function)return function Dh(n){const i=n.length;if(i>0)throw y(i,"?"),new Me(204,!1);const s=function Di(n){const i=n&&(n[gi]||n[Ti]);return i?(function Jn(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),i):null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Me(204,!1)}function jf(n,i,s){let a;if(Dc(n)){const c=_t(n);return Lr(c)||pd(c)}if(Ch(n))a=()=>_t(n.useValue);else if(function Bf(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...be(n.deps||[]));else if(function Cm(n){return!(!n||!n.useExisting)}(n))a=()=>Te(_t(n.useExisting));else{const c=_t(n&&(n.useClass||n.provide));if(!function Th(n){return!!n.deps}(n))return Lr(c)||pd(c);a=()=>new c(...be(n.deps))}return a}function tl(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Ih(n,i){for(const s of n)Array.isArray(s)?Ih(s,i):s&&Qt(s)?Ih(s.\u0275providers,i):i(s)}class _a{}class $f{}class Ql{resolveComponentFactory(i){throw function xh(n){const i=Error(`No component factory found for ${Ze(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let nl=(()=>{class n{}return n.NULL=new Ql,n})();function Im(){return Va(En(),X())}function Va(n,i){return new _d(he(n,i))}let _d=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Im,n})();function ou(n){return n instanceof _d?n.nativeElement:n}class zf{}let Xl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function xm(){const n=X(),s=nn(En().index,n);return(ji(s)?s:n)[Yn]}(),n})(),d_=(()=>{class n{}return n.\u0275prov=dn({token:n,providedIn:"root",factory:()=>null}),n})();class Sm{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Am=new Sm("15.2.4"),Gf={},au="ngOriginalError";function Wf(n){return n[au]}class lu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Wf(i);for(;s&&Wf(s);)s=Wf(s);return s||null}}function qf(n){return n.ownerDocument}function Tl(n){return n instanceof Function?n():n}function Pm(n,i,s){let a=n.length;for(;;){const c=n.indexOf(i,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=i.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}s=c+1}}const Zf="ng-template";function g_(n,i,s){let a=0,c=!0;for(;a<n.length;){let h=n[a++];if("string"==typeof h&&c){const E=n[a++];if(s&&"class"===h&&-1!==Pm(E.toLowerCase(),i,0))return!0}else{if(1===h){for(;a<n.length&&"string"==typeof(h=n[a++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function vd(n){return 4===n.type&&n.value!==Zf}function __(n,i,s){return i===(4!==n.type||s?n.value:Zf)}function km(n,i,s){let a=4;const c=n.attrs||[],h=function Qf(n){for(let i=0;i<n.length;i++)if(P(n[i]))return i;return n.length}(c);let E=!1;for(let S=0;S<i.length;S++){const N=i[S];if("number"!=typeof N){if(!E)if(4&a){if(a=2|1&a,""!==N&&!__(n,N,s)||""===N&&1===i.length){if(Sa(a))return!1;E=!0}}else{const K=8&a?N:i[++S];if(8&a&&null!==n.attrs){if(!g_(n.attrs,K,s)){if(Sa(a))return!1;E=!0}continue}const xe=Yf(8&a?"class":N,c,vd(n),s);if(-1===xe){if(Sa(a))return!1;E=!0;continue}if(""!==K){let Je;Je=xe>h?"":c[xe+1].toLowerCase();const bt=8&a?Je:null;if(bt&&-1!==Pm(bt,K,0)||2&a&&K!==Je){if(Sa(a))return!1;E=!0}}}}else{if(!E&&!Sa(a)&&!Sa(N))return!1;if(E&&Sa(N))continue;E=!1,a=N|1&a}}return Sa(a)||E}function Sa(n){return 0==(1&n)}function Yf(n,i,s,a){if(null===i)return-1;let c=0;if(a||!s){let h=!1;for(;c<i.length;){const E=i[c];if(E===n)return c;if(3===E||6===E)h=!0;else{if(1===E||2===E){let S=i[++c];for(;"string"==typeof S;)S=i[++c];continue}if(4===E)break;if(0===E){c+=4;continue}}c+=h?1:2}return-1}return function Xf(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,n)}function cu(n,i,s=!1){for(let a=0;a<i.length;a++)if(km(n,i[a],s))return!0;return!1}function Nm(n,i){e:for(let s=0;s<i.length;s++){const a=i[s];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function Fm(n,i){return n?":not("+i.trim()+")":i}function Lm(n){let i=n[0],s=1,a=2,c="",h=!1;for(;s<n.length;){let E=n[s];if("string"==typeof E)if(2&a){const S=n[++s];c+="["+E+(S.length>0?'="'+S+'"':"")+"]"}else 8&a?c+="."+E:4&a&&(c+=" "+E);else""!==c&&!Sa(E)&&(i+=Fm(h,c),c=""),a=E,h=h||!Sa(a);s++}return""!==c&&(i+=Fm(h,c)),i}const qi={};function ep(n){Bm(je(),X(),Li()+n,!1)}function Bm(n,i,s,a){if(!a)if(3==(3&i[He])){const h=n.preOrderCheckHooks;null!==h&&se(i,h,s)}else{const h=n.preOrderHooks;null!==h&&Le(i,h,0,s)}qo(s)}function jm(n,i=null,s=null,a){const c=Ah(n,i,s,a);return c.resolveInjectorInitializers(),c}function Ah(n,i=null,s=null,a,c=new Set){const h=[s||te,bm(n)];return a=a||("object"==typeof n?void 0:Ze(n)),new Dm(h,i||fd(),a||null,c)}let Sc=(()=>{class n{static create(s,a){if(Array.isArray(s))return jm({name:""},a,s,"");{const c=s.name??"";return jm({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=xn,n.NULL=new Zl,n.\u0275prov=dn({token:n,providedIn:"any",factory:()=>Te(cd)}),n.__NG_ELEMENT_ID__=-1,n})();function il(n,i=xt.Default){const s=X();return null===s?Te(n,i):Fo(En(),s,_t(n),i)}function Fh(){throw new Error("invalid")}function Lh(n,i){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const h=s[a+1];if(-1!==h){const E=n.data[h];da(s[a]),E.contentQueries(2,i[h],h)}}}function pu(n,i,s,a,c,h,E,S,N,K,ae){const xe=i.blueprint.slice();return xe[yr]=c,xe[He]=76|a,(null!==ae||n&&1024&n[He])&&(xe[He]|=1024),Tr(xe),xe[Xe]=xe[mo]=n,xe[On]=s,xe[gr]=E||n&&n[gr],xe[Yn]=S||n&&n[Yn],xe[Ki]=N||n&&n[Ki]||null,xe[pi]=K||n&&n[pi]||null,xe[cn]=h,xe[Fr]=function dl(){return zu++}(),xe[Cr]=ae,xe[Gr]=2==i.type?n[Gr]:xe,xe}function Ac(n,i,s,a,c){let h=n.data[i];if(null===h)h=function Td(n,i,s,a,c){const h=An(),E=ar(),N=n.data[i]=function mu(n,i,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?h:h&&h.parent,s,i,a,c);return null===n.firstChild&&(n.firstChild=N),null!==h&&(E?null==h.child&&null!==N.parent&&(h.child=N):null===h.next&&(h.next=N,N.prev=h)),N}(n,i,s,a,c),function Gs(){return Fn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const E=function ii(){const n=Fn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===E?-1:E.injectorIndex}return qn(h,!0),h}function Mc(n,i,s,a){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(a),n.blueprint.push(a),n.data.push(null);return c}function $a(n,i,s){ia(i);try{const a=n.viewQuery;null!==a&&jh(1,a,s);const c=n.template;null!==c&&Qm(n,i,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Lh(n,i),n.staticViewQueries&&jh(2,n.viewQuery,s);const h=n.components;null!==h&&function Dd(n,i){for(let s=0;s<i.length;s++)x_(n,i[s])}(i,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{i[He]&=-5,Za()}}function Id(n,i,s,a){const c=i[He];if(128!=(128&c)){ia(i);try{Tr(i),function Zi(n){return Fn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Qm(n,i,s,2,a);const E=3==(3&c);if(E){const K=n.preOrderCheckHooks;null!==K&&se(i,K,null)}else{const K=n.preOrderHooks;null!==K&&Le(i,K,0,null),It(i,0)}if(function bp(n){for(let i=Ul(n);null!==i;i=pl(i)){if(!i[io])continue;const s=i[Us];for(let a=0;a<s.length;a++){const c=s[a];512&c[He]||Ir(c[Xe],1),c[He]|=512}}}(i),function vp(n){for(let i=Ul(n);null!==i;i=pl(i))for(let s=vr;s<i.length;s++){const a=i[s],c=a[Fe];kn(a)&&Id(c,a,c.template,a[On])}}(i),null!==n.contentQueries&&Lh(n,i),E){const K=n.contentCheckHooks;null!==K&&se(i,K)}else{const K=n.contentHooks;null!==K&&Le(i,K,1),It(i,1)}!function fu(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)qo(~c);else{const h=c,E=s[++a],S=s[++a];na(E,h),S(2,i[h])}}}finally{qo(-1)}}(n,i);const S=n.components;null!==S&&function Vh(n,i){for(let s=0;s<i.length;s++)Ep(n,i[s])}(i,S);const N=n.viewQuery;if(null!==N&&jh(2,N,a),E){const K=n.viewCheckHooks;null!==K&&se(i,K)}else{const K=n.viewHooks;null!==K&&Le(i,K,2),It(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[He]&=-41,512&i[He]&&(i[He]&=-513,Ir(i[Xe],-1))}finally{Za()}}}function Qm(n,i,s,a,c){const h=Li(),E=2&a;try{qo(-1),E&&i.length>Si&&Bm(n,i,Si,!1),Or(E?2:0,c),s(a,c)}finally{qo(h),Or(E?3:1,c)}}function xd(n,i,s){if(Mr(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const E=n.data[h];E.contentQueries&&E.contentQueries(1,s[h],h)}}}function cp(n,i,s){m()&&(function pp(n,i,s,a){const c=s.directiveStart,h=s.directiveEnd;ws(s)&&function yu(n,i,s){const a=he(i,n),c=Xm(s),h=n[gr],E=vu(n,pu(n,c,null,s.onPush?32:16,a,i,h,h.createRenderer(a,s),null,null,null));n[i.index]=E}(i,s,n.data[c+s.componentOffset]),n.firstCreatePass||fs(s,i),Ho(a,i);const E=s.initialInputs;for(let S=c;S<h;S++){const N=n.data[S],K=ys(i,n,S,s);Ho(K,i),null!==E&&T_(0,S-c,K,N,0,E),ur(N)&&(nn(s.index,i)[On]=ys(i,n,S,s))}}(n,i,s,he(s,i)),64==(64&s.flags)&&mp(n,i,s))}function Sd(n,i,s=he){const a=i.localNames;if(null!==a){let c=i.index+1;for(let h=0;h<a.length;h+=2){const E=a[h+1],S=-1===E?s(i,n):n[E];n[c++]=S}}}function Xm(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Ad(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Ad(n,i,s,a,c,h,E,S,N,K){const ae=Si+a,xe=ae+c,Je=function Bh(n,i){const s=[];for(let a=0;a<i;a++)s.push(a<n?null:qi);return s}(ae,xe),bt="function"==typeof K?K():K;return Je[Fe]={type:n,blueprint:Je,template:s,queries:null,viewQuery:S,declTNode:i,data:Je.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:N,consts:bt,incompleteFirstPass:!1}}function dp(n,i,s,a){const c=Tp(i);null===s?c.push(a):(c.push(s),n.firstCreatePass&&Ip(n).push(a,c.length-1))}function Uh(n,i,s,a){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const h=n[c];null===a?Jm(s,i,c,h):a.hasOwnProperty(c)&&Jm(s,i,a[c],h)}return s}function Jm(n,i,s,a){n.hasOwnProperty(s)?n[s].push(i,a):n[s]=[i,a]}function ya(n,i,s,a,c,h,E,S){const N=he(i,s);let ae,K=i.inputs;!S&&null!=K&&(ae=K[a])?(xp(n,s,ae,a,c),ws(i)&&tg(s,i.index)):3&i.type&&(a=function eg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=E?E(c,i.value||"",a):c,h.setProperty(N,a,c))}function tg(n,i){const s=nn(i,n);16&s[He]||(s[He]|=32)}function Md(n,i,s,a){if(m()){const c=null===a?null:{"":-1},h=function _p(n,i){const s=n.directiveRegistry;let a=null,c=null;if(s)for(let h=0;h<s.length;h++){const E=s[h];if(cu(i,E.selectors,!1))if(a||(a=[]),ur(E))if(null!==E.findHostDirectiveDefs){const S=[];c=c||new Map,E.findHostDirectiveDefs(E,S,c),a.unshift(...S,E),Od(n,i,S.length)}else a.unshift(E),Od(n,i,0);else c=c||new Map,E.findHostDirectiveDefs?.(E,a,c),a.push(E)}return null===a?null:[a,c]}(n,s);let E,S;null===h?E=S=null:[E,S]=h,null!==E&&ng(n,i,s,E,c,S),c&&function gu(n,i,s){if(i){const a=n.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new Me(-301,!1);a.push(i[c],h)}}}(s,a,c)}s.mergedAttrs=ue(s.mergedAttrs,s.attrs)}function ng(n,i,s,a,c,h){for(let K=0;K<a.length;K++)Br(fs(s,i),n,a[K].type);!function yp(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,a.length);for(let K=0;K<a.length;K++){const ae=a[K];ae.providersResolver&&ae.providersResolver(ae)}let E=!1,S=!1,N=Mc(n,i,a.length,null);for(let K=0;K<a.length;K++){const ae=a[K];s.mergedAttrs=ue(s.mergedAttrs,ae.hostAttrs),_u(n,s,i,N,ae),Jl(N,ae,c),null!==ae.contentQueries&&(s.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(s.flags|=64);const xe=ae.type.prototype;!E&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),E=!0),!S&&(xe.ngOnChanges||xe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),S=!0),N++}!function C_(n,i,s){const c=i.directiveEnd,h=n.data,E=i.attrs,S=[];let N=null,K=null;for(let ae=i.directiveStart;ae<c;ae++){const xe=h[ae],Je=s?s.get(xe):null,Kt=Je?Je.outputs:null;N=Uh(xe.inputs,ae,N,Je?Je.inputs:null),K=Uh(xe.outputs,ae,K,Kt);const _n=null===N||null===E||vd(i)?null:I_(N,ae,E);S.push(_n)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=8),N.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=N,i.outputs=K}(n,s,h)}function mp(n,i,s){const a=s.directiveStart,c=s.directiveEnd,h=s.index,E=function ao(){return Fn.lFrame.currentDirectiveIndex}();try{qo(h);for(let S=a;S<c;S++){const N=n.data[S],K=i[S];ko(S),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&gp(N,K)}}finally{qo(-1),ko(E)}}function gp(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Od(n,i,s){i.componentOffset=s,(n.components||(n.components=[])).push(i.index)}function Jl(n,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=n;ur(i)&&(s[""]=n)}}function _u(n,i,s,a,c){n.data[a]=c;const h=c.factory||(c.factory=Lr(c.type)),E=new Wi(h,ur(c),il);n.blueprint[a]=E,s[a]=E,function fp(n,i,s,a,c){const h=c.hostBindings;if(h){let E=n.hostBindingOpCodes;null===E&&(E=n.hostBindingOpCodes=[]);const S=~i.index;(function D_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(E)!=S&&E.push(S),E.push(s,a,h)}}(n,i,a,Mc(n,s,c.hostVars,qi),c)}function za(n,i,s,a,c,h){const E=he(n,i);!function ec(n,i,s,a,c,h,E){if(null==h)n.removeAttribute(i,c,s);else{const S=null==E?Oe(h):E(h,a||"",c);n.setAttribute(i,c,S,s)}}(i[Yn],E,h,n.value,s,a,c)}function T_(n,i,s,a,c,h){const E=h[i];if(null!==E){const S=a.setInput;for(let N=0;N<E.length;){const K=E[N++],ae=E[N++],xe=E[N++];null!==S?a.setInput(s,xe,K,ae):s[ae]=xe}}}function I_(n,i,s){let a=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===a&&(a=[]);const E=n[h];for(let S=0;S<E.length;S+=2)if(E[S]===i){a.push(h,E[S+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Hh(n,i,s,a){return[n,!0,!1,i,null,0,a,s,null,null]}function Ep(n,i){const s=nn(i,n);if(kn(s)){const a=s[Fe];48&s[He]?Id(a,s,a.template,s[On]):s[Yt]>0&&wp(s)}}function wp(n){for(let a=Ul(n);null!==a;a=pl(a))for(let c=vr;c<a.length;c++){const h=a[c];if(kn(h))if(512&h[He]){const E=h[Fe];Id(E,h,E.template,h[On])}else h[Yt]>0&&wp(h)}const s=n[Fe].components;if(null!==s)for(let a=0;a<s.length;a++){const c=nn(s[a],n);kn(c)&&c[Yt]>0&&wp(c)}}function x_(n,i){const s=nn(i,n),a=s[Fe];(function Cp(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(a,s),$a(a,s,s[On])}function vu(n,i){return n[Vs]?n[eo][Ot]=i:n[Vs]=i,n[eo]=i,i}function Dp(n){for(;n;){n[He]|=32;const i=Xo(n);if(Ms(n)&&!i)return n;n=i}return null}function Rd(n,i,s,a=!0){const c=i[gr];c.begin&&c.begin();try{Id(n,i,n.template,s)}catch(E){throw a&&rg(i,E),E}finally{c.end&&c.end()}}function jh(n,i,s){da(0),i(n,s)}function Tp(n){return n[Xn]||(n[Xn]=[])}function Ip(n){return n.cleanup||(n.cleanup=[])}function rg(n,i){const s=n[pi],a=s?s.get(lu,null):null;a&&a.handleError(i)}function xp(n,i,s,a,c){for(let h=0;h<s.length;){const E=s[h++],S=s[h++],N=i[E],K=n.data[E];null!==K.setInput?K.setInput(N,c,a,S):N[S]=c}}function bu(n,i,s){let a=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==i)for(let E=0;E<i.length;E++){const S=i[E];"number"==typeof S?h=S:1==h?c=Dt(c,S):2==h&&(a=Dt(a,S+": "+i[++E]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function Eu(n,i,s,a,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&a.push(k(h)),ir(h))for(let S=vr;S<h.length;S++){const N=h[S],K=N[Fe].firstChild;null!==K&&Eu(N[Fe],N,K,a)}const E=s.type;if(8&E)Eu(n,i,s.child,a);else if(32&E){const S=Kc(s,i);let N;for(;N=S();)a.push(N)}else if(16&E){const S=hh(i,s);if(Array.isArray(S))a.push(...S);else{const N=Xo(i[Gr]);Eu(N[Fe],N,S,a,!0)}}s=c?s.projectionNext:s.next}return a}class Oc{get rootNodes(){const i=this._lView,s=i[Fe];return Eu(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[On]}set context(i){this._lView[On]=i}get destroyed(){return 128==(128&this._lView[He])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Xe];if(ir(i)){const s=i[Qs],a=s?s.indexOf(this):-1;a>-1&&(Yu(i,a),C(s,a))}this._attachedToViewContainer=!1}Sf(this._lView[Fe],this._lView)}onDestroy(i){dp(this._lView[Fe],this._lView,null,i)}markForCheck(){Dp(this._cdRefInjectingView||this._lView)}detach(){this._lView[He]&=-65}reattach(){this._lView[He]|=64}detectChanges(){Rd(this._lView[Fe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zu(n,i){_c(n,i,i[Yn],2,null,null)}(this._lView[Fe],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=i}}class A_ extends Oc{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Rd(i[Fe],i,i[On],!1)}checkNoChanges(){}get context(){return null}}class $h extends nl{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=_i(i);return new Rc(s,this.ngModule)}}function sg(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class og{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,a){a=we(a);const c=this.injector.get(i,Gf,a);return c!==Gf||s===Gf?c:this.parentInjector.get(i,s,a)}}class Rc extends $f{get inputs(){return sg(this.componentDef.inputs)}get outputs(){return sg(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Vm(n){return n.map(Lm).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,a,c){let h=(c=c||this.ngModule)instanceof el?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const E=h?new og(i,h):i,S=E.get(zf,null);if(null===S)throw new Me(407,!1);const N=E.get(d_,null),K=S.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",xe=a?function up(n,i,s){return n.selectRootElement(i,s===me.ShadowDom)}(K,a,this.componentDef.encapsulation):ch(K,ae,function Sp(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(ae)),Je=this.componentDef.onPush?288:272,bt=Ad(0,null,null,1,0,null,null,null,null,null),Kt=pu(null,bt,null,Je,null,null,S,K,N,E,null);let _n,Vn;ia(Kt);try{const Zn=this.componentDef;let Ci,hn=null;Zn.findHostDirectiveDefs?(Ci=[],hn=new Map,Zn.findHostDirectiveDefs(Zn,Ci,hn),Ci.push(Zn)):Ci=[Zn];const Xi=function Ap(n,i){const s=n[Fe],a=Si;return n[a]=i,Ac(s,a,2,"#host",null)}(Kt,xe),po=function M_(n,i,s,a,c,h,E,S){const N=c[Fe];!function Mp(n,i,s,a){for(const c of n)i.mergedAttrs=ue(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(bu(i,i.mergedAttrs,!0),null!==s&&Rf(a,s,i))}(a,n,i,E);const K=h.createRenderer(i,s),ae=pu(c,Xm(s),null,s.onPush?32:16,c[n.index],n,h,K,S||null,null,null);return N.firstCreatePass&&Od(N,n,a.length-1),vu(c,ae),c[n.index]=ae}(Xi,xe,Zn,Ci,Kt,S,K);Vn=ft(bt,Si),xe&&function Op(n,i,s,a){if(a)b(n,s,["ng-version",Am.full]);else{const{attrs:c,classes:h}=function Jf(n){const i=[],s=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&i.push(h,n[++a]):8===c&&s.push(h);else{if(!Sa(c))break;c=h}a++}return{attrs:i,classes:s}}(i.selectors[0]);c&&b(n,s,c),h&&h.length>0&&Jc(n,s,h.join(" "))}}(K,Zn,xe,a),void 0!==s&&function R_(n,i,s){const a=n.projection=[];for(let c=0;c<i.length;c++){const h=s[c];a.push(null!=h?Array.from(h):null)}}(Vn,this.ngContentSelectors,s),_n=function O_(n,i,s,a,c,h){const E=En(),S=c[Fe],N=he(E,c);ng(S,c,E,s,null,a);for(let ae=0;ae<s.length;ae++)Ho(ys(c,S,E.directiveStart+ae,E),c);mp(S,c,E),N&&Ho(N,c);const K=ys(c,S,E.directiveStart+E.componentOffset,E);if(n[On]=c[On]=K,null!==h)for(const ae of h)ae(K,i);return xd(S,E,n),K}(po,Zn,Ci,hn,Kt,[Rp]),$a(bt,Kt,null)}finally{Za()}return new ag(this.componentType,_n,Va(Vn,Kt),Kt,Vn)}}class ag extends _a{constructor(i,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new A_(c),this.componentType=i}setInput(i,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[i])){const h=this._rootLView;xp(h[Fe],h,c,i,s),tg(h,this._tNode.index)}}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Rp(){const n=En();F(X()[Fe],n)}function Pd(n){let i=function zh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;i;){let c;if(ur(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Me(903,!1);c=i.\u0275dir}if(c){if(s){a.push(c);const E=n;E.inputs=Gh(n.inputs),E.declaredInputs=Gh(n.declaredInputs),E.outputs=Gh(n.outputs);const S=c.hostBindings;S&&kp(n,S);const N=c.viewQuery,K=c.contentQueries;if(N&&Pp(n,N),K&&P_(n,K),Se(n.inputs,c.inputs),Se(n.declaredInputs,c.declaredInputs),Se(n.outputs,c.outputs),ur(c)&&c.data.animation){const ae=n.data;ae.animation=(ae.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let E=0;E<h.length;E++){const S=h[E];S&&S.ngInherit&&S(n),S===Pd&&(s=!1)}}i=Object.getPrototypeOf(i)}!function wu(n){let i=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=i+=c.hostVars,c.hostAttrs=ue(c.hostAttrs,s=ue(s,c.hostAttrs))}}(a)}function Gh(n){return n===ie?{}:n===te?[]:n}function Pp(n,i){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{i(a,c),s(a,c)}:i}function P_(n,i){const s=n.contentQueries;n.contentQueries=s?(a,c,h)=>{i(a,c,h),s(a,c,h)}:i}function kp(n,i){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{i(a,c),s(a,c)}:i}function Cu(n){return!!qh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function qh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ga(n,i,s){return n[i]=s}function aa(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function Sl(n,i,s,a){const c=aa(n,i,s);return aa(n,i+1,a)||c}function Nd(n,i,s,a){const c=X();return aa(c,yi(),i)&&(je(),za(rn(),c,n,i,s,a)),Nd}function ef(n,i,s,a,c,h,E,S){const N=X(),K=je(),ae=n+Si,xe=K.firstCreatePass?function Jh(n,i,s,a,c,h,E,S,N){const K=i.consts,ae=Ac(i,n,4,E||null,or(K,S));Md(i,s,ae,or(K,N)),F(i,ae);const xe=ae.tView=Ad(2,ae,a,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,K);return null!==i.queries&&(i.queries.template(i,ae),xe.queries=i.queries.embeddedTView(ae)),ae}(ae,K,N,i,s,a,c,h,E):K.data[ae];qn(xe,!1);const Je=N[Yn].createComment("");yl(K,N,Je,xe),Ho(Je,N),vu(N,N[ae]=Hh(Je,N,Je,xe)),Ui(xe)&&cp(K,N,xe),null!=E&&Sd(N,xe,S)}function Ld(n,i,s){const a=X();return aa(a,yi(),i)&&ya(je(),rn(),a,n,i,a[Yn],s,!1),Ld}function Vd(n,i,s,a,c){const E=c?"class":"style";xp(n,s,i.inputs[E],E,a)}function Ml(n,i,s,a){const c=X(),h=je(),E=Si+n,S=c[Yn],N=h.firstCreatePass?function pg(n,i,s,a,c,h){const E=i.consts,N=Ac(i,n,2,a,or(E,c));return Md(i,s,N,or(E,h)),null!==N.attrs&&bu(N,N.attrs,!1),null!==N.mergedAttrs&&bu(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(E,h,c,i,s,a):h.data[E],K=c[E]=ch(S,i,function T(){return Fn.lFrame.currentNamespace}()),ae=Ui(N);return qn(N,!0),Rf(S,K,N),32!=(32&N.flags)&&yl(h,c,K,N),0===function ta(){return Fn.lFrame.elementDepthCount}()&&Ho(K,c),function U(){Fn.lFrame.elementDepthCount++}(),ae&&(cp(h,c,N),xd(h,N,c)),null!==a&&Sd(c,N),Ml}function Iu(){let n=En();ar()?zi():(n=n.parent,qn(n,!1));const i=n;!function V(){Fn.lFrame.elementDepthCount--}();const s=je();return s.firstCreatePass&&(F(s,n),Mr(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Rr(n){return 0!=(8&n.flags)}(i)&&Vd(s,i,X(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Ao(n){return 0!=(16&n.flags)}(i)&&Vd(s,i,X(),i.stylesWithoutHost,!1),Iu}function jp(n,i,s,a){return Ml(n,i,s,a),Iu(),jp}function nf(n,i,s){const a=X(),c=je(),h=n+Si,E=c.firstCreatePass?function F_(n,i,s,a,c){const h=i.consts,E=or(h,a),S=Ac(i,n,8,"ng-container",E);return null!==E&&bu(S,E,!0),Md(i,s,S,or(h,c)),null!==i.queries&&i.queries.elementStart(i,S),S}(h,c,a,i,s):c.data[h];qn(E,!0);const S=a[h]=a[Yn].createComment("");return yl(c,a,S,E),Ho(S,a),Ui(E)&&(cp(c,a,E),xd(c,E,a)),null!=s&&Sd(a,E),nf}function Bd(){let n=En();const i=je();return ar()?zi():(n=n.parent,qn(n,!1)),i.firstCreatePass&&(F(i,n),Mr(n)&&i.queries.elementEnd(n)),Bd}function $p(){return X()}function zp(n){return!!n&&"function"==typeof n.then}function gg(n){return!!n&&"function"==typeof n.subscribe}const _g=gg;function Gp(n,i,s,a){const c=X(),h=je(),E=En();return function yg(n,i,s,a,c,h,E){const S=Ui(a),K=n.firstCreatePass&&Ip(n),ae=i[On],xe=Tp(i);let Je=!0;if(3&a.type||E){const _n=he(a,i),Vn=E?E(_n):_n,Zn=xe.length,Ci=E?Xi=>E(k(Xi[a.index])):a.index;let hn=null;if(!E&&S&&(hn=function qp(n,i,s,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const E=c[h];if(E===s&&c[h+1]===a){const S=i[Xn],N=c[h+2];return S.length>N?S[N]:null}"string"==typeof E&&(h+=2)}return null}(n,i,c,a.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=h,hn.__ngLastListenerFn__=h,Je=!1;else{h=Zp(a,i,ae,h,!1);const Xi=s.listen(Vn,c,h);xe.push(h,Xi),K&&K.push(c,Ci,Zn,Zn+1)}}else h=Zp(a,i,ae,h,!1);const bt=a.outputs;let Kt;if(Je&&null!==bt&&(Kt=bt[c])){const _n=Kt.length;if(_n)for(let Vn=0;Vn<_n;Vn+=2){const po=i[Kt[Vn]][Kt[Vn+1]].subscribe(h),Bo=xe.length;xe.push(h,po),K&&K.push(c,a.index,Bo,-(Bo+1))}}}(h,c,c[Yn],E,n,i,a),Gp}function Kp(n,i,s,a){try{return Or(6,i,s),!1!==s(a)}catch(c){return rg(n,c),!1}finally{Or(7,i,s)}}function Zp(n,i,s,a,c){return function h(E){if(E===Function)return a;Dp(n.componentOffset>-1?nn(n.index,i):i);let N=Kp(i,s,a,E),K=h.__ngNextListenerFn__;for(;K;)N=Kp(i,s,K,E)&&N,K=K.__ngNextListenerFn__;return c&&!1===N&&(E.preventDefault(),E.returnValue=!1),N}}function Ud(n=1){return function on(n){return(Fn.lFrame.contextLView=function qr(n,i){for(;n>0;)i=i[mo],n--;return i}(n,Fn.lFrame.contextLView))[On]}(n)}function kr(n,i){let s=null;const a=function Sh(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===a?cu(n,h,!0):Nm(a,h))return c}else s=c}return s}function Yp(n){const i=X()[Gr][cn];if(!i.projection){const a=i.projection=y(n?n.length:1,null),c=a.slice();let h=i.child;for(;null!==h;){const E=n?kr(h,n):0;null!==E&&(c[E]?c[E].projectionNext=h:a[E]=h,c[E]=h),h=h.next}}}function Qp(n,i=0,s){const a=X(),c=je(),h=Ac(c,Si+n,16,null,s||null);null===h.projection&&(h.projection=i),zi(),32!=(32&h.flags)&&function Of(n,i,s){$l(i[Yn],0,i,s,uh(n,s,i),Ss(s.parent||i[cn],s,i))}(c,a,h)}function rf(n,i){return n<<17|i<<2}function rl(n){return n>>17&32767}function Es(n){return 2|n}function Su(n){return(131068&n)>>2}function tm(n,i){return-131069&n|i<<2}function sf(n){return 1|n}function U_(n,i,s,a,c){const h=n[s+1],E=null===i;let S=a?rl(h):Su(h),N=!1;for(;0!==S&&(!1===N||E);){const ae=n[S+1];av(n[S],i)&&(N=!0,n[S+1]=a?sf(ae):Es(ae)),S=a?rl(ae):Su(ae)}N&&(n[s+1]=a?Es(h):sf(h))}function av(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&fn(n,i)>=0}const $o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function H_(n){return n.substring($o.key,$o.keyEnd)}function nm(n,i){const s=$o.textEnd;return s===i?-1:(i=$o.keyEnd=function uv(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,$o.key=i,s),Ka(n,i,s))}function Ka(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function lf(n,i,s){return Ba(n,i,s,!1),lf}function Au(n,i){return Ba(n,i,null,!0),Au}function cf(n){!function Aa(n,i,s,a){const c=je(),h=Gi(2);c.firstUpdatePass&&Dg(c,null,h,a);const E=X();if(s!==qi&&aa(E,h,s)){const S=c.data[Li()];if(df(S,a)&&!Cg(c,h)){let N=a?S.classesWithoutHost:S.stylesWithoutHost;null!==N&&(s=Dt(N,s||"")),Vd(c,S,E,s,a)}else!function jd(n,i,s,a,c,h,E,S){c===qi&&(c=te);let N=0,K=0,ae=0<c.length?c[0]:null,xe=0<h.length?h[0]:null;for(;null!==ae||null!==xe;){const Je=N<c.length?c[N+1]:void 0,bt=K<h.length?h[K+1]:void 0;let _n,Kt=null;ae===xe?(N+=2,K+=2,Je!==bt&&(Kt=xe,_n=bt)):null===xe||null!==ae&&ae<xe?(N+=2,Kt=ae):(K+=2,Kt=xe,_n=bt),null!==Kt&&Ag(n,i,s,a,Kt,_n,E,S),ae=N<c.length?c[N]:null,xe=K<h.length?h[K]:null}}(c,S,E,E[Yn],E[h+1],E[h+1]=function Sg(n,i,s){if(null==s||""===s)return te;const a=[],c=Nn(s);if(Array.isArray(c))for(let h=0;h<c.length;h++)n(a,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&n(a,h,c[h]);else"string"==typeof c&&i(a,c);return a}(n,i,s),a,h)}}(Ye,ba,n,!0)}function ba(n,i){for(let s=function cv(n){return function ic(n){$o.key=0,$o.keyEnd=0,$o.value=0,$o.valueEnd=0,$o.textEnd=n.length}(n),nm(n,Ka(n,0,$o.textEnd))}(i);s>=0;s=nm(i,s))Ye(n,H_(i),!0)}function Ba(n,i,s,a){const c=X(),h=je(),E=Gi(2);h.firstUpdatePass&&Dg(h,n,E,a),i!==qi&&aa(c,E,i)&&Ag(h,h.data[Li()],c,c[Yn],n,c[E+1]=function Mg(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ze(Nn(n)))),n}(i,s),a,E)}function Cg(n,i){return i>=n.expandoStartIndex}function Dg(n,i,s,a){const c=n.data;if(null===c[s+1]){const h=c[Li()],E=Cg(n,s);df(h,a)&&null===i&&!E&&(i=!1),i=function z_(n,i,s,a){const c=Wo(n);let h=a?i.residualClasses:i.residualStyles;if(null===c)0===(a?i.classBindings:i.styleBindings)&&(s=Ou(s=Ol(null,n,i,s,a),i.attrs,a),h=null);else{const E=i.directiveStylingLast;if(-1===E||n[E]!==c)if(s=Ol(c,n,i,s,a),null===h){let N=function Tg(n,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==Su(a))return n[rl(a)]}(n,i,a);void 0!==N&&Array.isArray(N)&&(N=Ol(null,n,i,N[1],a),N=Ou(N,i.attrs,a),function Ig(n,i,s,a){n[rl(s?i.classBindings:i.styleBindings)]=a}(n,i,a,N))}else h=function xg(n,i,s){let a;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)a=Ou(a,n[h].hostAttrs,s);return Ou(a,i.attrs,s)}(n,i,a)}return void 0!==h&&(a?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,a),function bg(n,i,s,a,c,h){let E=h?i.classBindings:i.styleBindings,S=rl(E),N=Su(E);n[a]=s;let ae,K=!1;if(Array.isArray(s)?(ae=s[1],(null===ae||fn(s,ae)>0)&&(K=!0)):ae=s,c)if(0!==N){const Je=rl(n[S+1]);n[a+1]=rf(Je,S),0!==Je&&(n[Je+1]=tm(n[Je+1],a)),n[S+1]=function sv(n,i){return 131071&n|i<<17}(n[S+1],a)}else n[a+1]=rf(S,0),0!==S&&(n[S+1]=tm(n[S+1],a)),S=a;else n[a+1]=rf(N,0),0===S?S=a:n[N+1]=tm(n[N+1],a),N=a;K&&(n[a+1]=Es(n[a+1])),U_(n,ae,a,!0),U_(n,ae,a,!1),function ov(n,i,s,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&fn(h,i)>=0&&(s[a+1]=sf(s[a+1]))}(i,ae,n,a,h),E=rf(S,N),h?i.classBindings=E:i.styleBindings=E}(c,h,i,s,E,a)}}function Ol(n,i,s,a,c){let h=null;const E=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<E&&(h=i[S],a=Ou(a,h.hostAttrs,c),h!==n);)S++;return null!==n&&(s.directiveStylingLast=S),a}function Ou(n,i,s){const a=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const E=i[h];"number"==typeof E?c=E:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ye(n,E,!!s||i[++h]))}return void 0===n?null:n}function Ag(n,i,s,a,c,h,E,S){if(!(3&i.type))return;const N=n.data,K=N[S+1],ae=function Ro(n){return 1==(1&n)}(K)?$d(N,i,s,c,Su(K),E):void 0;Fc(ae)||(Fc(h)||function B_(n){return 2==(2&n)}(K)&&(h=$d(N,null,s,c,S,E)),function ph(n,i,s,a,c){if(i)c?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:xa.DashCase;null==c?n.removeStyle(s,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=xa.Important),n.setStyle(s,a,c,h))}}(a,E,G(Li(),s),c,h))}function $d(n,i,s,a,c,h){const E=null===i;let S;for(;c>0;){const N=n[c],K=Array.isArray(N),ae=K?N[1]:N,xe=null===ae;let Je=s[c+1];Je===qi&&(Je=xe?te:void 0);let bt=xe?kt(Je,a):ae===a?Je:void 0;if(K&&!Fc(bt)&&(bt=kt(N,a)),Fc(bt)&&(S=bt,E))return S;const Kt=n[c+1];c=E?rl(Kt):Su(Kt)}if(null!==i){let N=h?i.residualClasses:i.residualStyles;null!=N&&(S=kt(N,a))}return S}function Fc(n){return void 0!==n}function df(n,i){return 0!=(n.flags&(i?8:16))}function Og(n,i=""){const s=X(),a=je(),c=n+Si,h=a.firstCreatePass?Ac(a,c,1,i,null):a.data[c],E=s[c]=function Zc(n,i){return n.createText(i)}(s[Yn],i);yl(a,s,E,h),qn(h,!1)}function Ru(n){return zd("",n,""),Ru}function zd(n,i,s){const a=X(),c=function Du(n,i,s,a){return aa(n,yi(),s)?i+Oe(s)+a:qi}(a,n,i,s);return c!==qi&&function Il(n,i,s){const a=G(i,n);!function Hl(n,i,s){n.setValue(i,s)}(n[Yn],a,s)}(a,Li(),c),zd}function ku(n,i,s){const a=X();return aa(a,yi(),i)&&ya(je(),rn(),a,n,i,a[Yn],s,!0),ku}function sc(n,i,s){const a=X();if(aa(a,yi(),i)){const h=je(),E=rn();ya(h,E,a,n,i,function ig(n,i,s){return(null===n||ur(n))&&(s=function x(n){for(;Array.isArray(n);){if("object"==typeof n[no])return n;n=n[yr]}return null}(s[i.index])),s[Yn]}(Wo(h.data),E,a),s,!0)}return sc}const Bc=void 0;var J_=["en",[["a","p"],["AM","PM"],Bc],[["AM","PM"],Bc,Bc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bc,"{1} 'at' {0}",Bc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yv(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Ma={};function jg(n){const i=function ny(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=ty(i);if(s)return s;const a=i.split("-")[0];if(s=ty(a),s)return s;if("en"===a)return J_;throw new Me(701,!1)}function ey(n){return jg(n)[Ai.PluralCase]}function ty(n){return n in Ma||(Ma[n]=Gn.ng&&Gn.ng.common&&Gn.ng.common.locales&&Gn.ng.common.locales[n]),Ma[n]}var Ai=(()=>((Ai=Ai||{})[Ai.LocaleId=0]="LocaleId",Ai[Ai.DayPeriodsFormat=1]="DayPeriodsFormat",Ai[Ai.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ai[Ai.DaysFormat=3]="DaysFormat",Ai[Ai.DaysStandalone=4]="DaysStandalone",Ai[Ai.MonthsFormat=5]="MonthsFormat",Ai[Ai.MonthsStandalone=6]="MonthsStandalone",Ai[Ai.Eras=7]="Eras",Ai[Ai.FirstDayOfWeek=8]="FirstDayOfWeek",Ai[Ai.WeekendRange=9]="WeekendRange",Ai[Ai.DateFormat=10]="DateFormat",Ai[Ai.TimeFormat=11]="TimeFormat",Ai[Ai.DateTimeFormat=12]="DateTimeFormat",Ai[Ai.NumberSymbols=13]="NumberSymbols",Ai[Ai.NumberFormats=14]="NumberFormats",Ai[Ai.CurrencyCode=15]="CurrencyCode",Ai[Ai.CurrencySymbol=16]="CurrencySymbol",Ai[Ai.CurrencyName=17]="CurrencyName",Ai[Ai.Currencies=18]="Currencies",Ai[Ai.Directionality=19]="Directionality",Ai[Ai.PluralCase=20]="PluralCase",Ai[Ai.ExtraData=21]="ExtraData",Ai))();const Gd="en-US";let $g=Gd;function py(n,i,s,a,c){if(n=_t(n),Array.isArray(n))for(let h=0;h<n.length;h++)py(n[h],i,s,a,c);else{const h=je(),E=X();let S=Dc(n)?n:_t(n.provide),N=jf(n);const K=En(),ae=1048575&K.providerIndexes,xe=K.directiveStart,Je=K.providerIndexes>>20;if(Dc(n)||!n.multi){const bt=new Wi(N,c,il),Kt=gy(S,i,c?ae:ae+Je,xe);-1===Kt?(Br(fs(K,E),h,S),my(h,n,i.length),i.push(S),K.directiveStart++,K.directiveEnd++,c&&(K.providerIndexes+=1048576),s.push(bt),E.push(bt)):(s[Kt]=bt,E[Kt]=bt)}else{const bt=gy(S,i,ae+Je,xe),Kt=gy(S,i,ae,ae+Je),Vn=Kt>=0&&s[Kt];if(c&&!Vn||!c&&!(bt>=0&&s[bt])){Br(fs(K,E),h,S);const Zn=function jb(n,i,s,a,c){const h=new Wi(n,s,il);return h.multi=[],h.index=i,h.componentProviders=0,Lv(h,c,a&&!s),h}(c?Hb:Ub,s.length,c,a,N);!c&&Vn&&(s[Kt].providerFactory=Zn),my(h,n,i.length,0),i.push(S),K.directiveStart++,K.directiveEnd++,c&&(K.providerIndexes+=1048576),s.push(Zn),E.push(Zn)}else my(h,n,bt>-1?bt:Kt,Lv(s[c?Kt:bt],N,!c&&a));!c&&a&&Vn&&s[Kt].componentProviders++}}}function my(n,i,s,a){const c=Dc(i),h=function Uf(n){return!!n.useClass}(i);if(c||h){const N=(h?_t(i.useClass):i).prototype.ngOnDestroy;if(N){const K=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const ae=K.indexOf(s);-1===ae?K.push(s,[a,N]):K[ae+1].push(a,N)}else K.push(s,N)}}}function Lv(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function gy(n,i,s,a){for(let c=s;c<a;c++)if(i[c]===n)return c;return-1}function Ub(n,i,s,a){return _y(this.multi,[])}function Hb(n,i,s,a){const c=this.multi;let h;if(this.providerFactory){const E=this.providerFactory.componentProviders,S=ys(s,s[Fe],this.providerFactory.index,a);h=S.slice(0,E),_y(c,h);for(let N=E;N<S.length;N++)h.push(S[N])}else h=[],_y(c,h);return h}function _y(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function Vv(n,i=[]){return s=>{s.providersResolver=(a,c)=>function Bb(n,i,s){const a=je();if(a.firstCreatePass){const c=ur(n);py(s,a.data,a.blueprint,c,!0),py(i,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,i)}}class yf{}class Bv{}function $b(n,i){return new Uv(n,i??null)}class Uv extends yf{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $h(this);const a=xi(i);this._bootstrapComponents=Tl(a.bootstrap),this._r3Injector=Ah(i,s,[{provide:yf,useValue:this},{provide:nl,useValue:this.componentFactoryResolver}],Ze(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class yy extends Bv{constructor(i){super(),this.moduleType=i}create(i){return new Uv(this.moduleType,i)}}class zb extends yf{constructor(i,s,a){super(),this.componentFactoryResolver=new $h(this),this.instance=null;const c=new Dm([...i,{provide:yf,useValue:this},{provide:nl,useValue:this.componentFactoryResolver}],s||fd(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function vy(n,i,s=null){return new zb(n,i,s).injector}let Gb=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=Em(0,s.type),c=a.length>0?vy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=dn({token:n,providedIn:"environment",factory:()=>new n(Te(el))}),n})();function Hv(n){n.getStandaloneInjector=i=>i.get(Gb).getOrCreateStandaloneInjector(n)}function Kv(n,i,s){const a=Pi()+n,c=X();return c[a]===qi?Ga(c,a,s?i.call(s):i()):function kd(n,i){return n[i]}(c,a)}function Zv(n,i,s,a){return function Qv(n,i,s,a,c,h){const E=i+s;return aa(n,E,c)?Ga(n,E+1,h?a.call(h,c):a(c)):lm(n,E+1)}(X(),Pi(),n,i,s,a)}function Yv(n,i,s,a,c){return Xv(X(),Pi(),n,i,s,a,c)}function lm(n,i){const s=n[i];return s===qi?void 0:s}function Xv(n,i,s,a,c,h,E){const S=i+s;return Sl(n,S,c,h)?Ga(n,S+2,E?a.call(E,c,h):a(c,h)):lm(n,S+2)}function Jv(n,i,s,a,c,h,E,S){const N=i+s;return function Kh(n,i,s,a,c){const h=Sl(n,i,s,a);return aa(n,i+2,c)||h}(n,N,c,h,E)?Ga(n,N+3,S?a.call(S,c,h,E):a(c,h,E)):lm(n,N+3)}function n0(n,i){const s=je();let a;const c=n+Si;s.firstCreatePass?(a=function aE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const a=i[s];if(n===a.name)return a}}(i,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const h=a.factory||(a.factory=Lr(a.type)),E=zt(il);try{const S=ki(!1),N=h();return ki(S),function fg(n,i,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=a}(s,X(),c,N),N}finally{zt(E)}}function r0(n,i,s,a){const c=n+Si,h=X(),E=Pt(h,c);return cm(h,c)?Xv(h,Pi(),i,E.transform,s,a,E):E.transform(s,a)}function s0(n,i,s,a,c){const h=n+Si,E=X(),S=Pt(E,h);return cm(E,h)?Jv(E,Pi(),i,S.transform,s,a,c,S):S.transform(s,a,c)}function cm(n,i){return n[Fe].data[i].pure}function Ey(n){return i=>{setTimeout(n,void 0,i)}}const ac=class dE extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){let c=i,h=s||(()=>null),E=a;if(i&&"object"==typeof i){const N=i;c=N.next?.bind(N),h=N.error?.bind(N),E=N.complete?.bind(N)}this.__isAsync&&(h=Ey(h),c&&(c=Ey(c)),E&&(E=Ey(E)));const S=super.subscribe({next:c,error:h,complete:E});return i instanceof f.w0&&i.add(S),S}};function hE(){return this._results[Symbol.iterator]()}class wy{get changes(){return this._changes||(this._changes=new ac)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=wy.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=hE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const a=this;a.dirty=!1;const c=function qs(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function sa(n,i,s){if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=i[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let um=(()=>{class n{}return n.__NG_ELEMENT_ID__=mE,n})();const fE=um,pE=class extends fE{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(i,s){const a=this._declarationTContainer.tView,c=pu(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null,s||null);c[to]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[cr];return null!==E&&(c[cr]=E.createEmbeddedView(a)),$a(a,c,i),new Oc(c)}};function mE(){return qg(En(),X())}function qg(n,i){return 4&n.type?new pE(i,n,Va(n,i)):null}let Kg=(()=>{class n{}return n.__NG_ELEMENT_ID__=gE,n})();function gE(){return l0(En(),X())}const _E=Kg,o0=class extends _E{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const i=mt(this._hostTNode,this._hostLView);if(Ke(i)){const s=Cn(i,this._hostLView),a=ut(i);return new Ni(s[Fe].data[a+8],s)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=a0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(i,s,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const E=i.createEmbeddedView(s||{},h);return this.insert(E,c),E}createComponent(i,s,a,c,h){const E=i&&!function Ca(n){return"function"==typeof n}(i);let S;if(E)S=s;else{const xe=s||{};S=xe.index,a=xe.injector,c=xe.projectableNodes,h=xe.environmentInjector||xe.ngModuleRef}const N=E?i:new Rc(_i(i)),K=a||this.parentInjector;if(!h&&null==N.ngModule){const Je=(E?K:this.parentInjector).get(el,null);Je&&(h=Je)}const ae=N.create(K,c,void 0,h);return this.insert(ae.hostView,S),ae}insert(i,s){const a=i._lView,c=a[Fe];if(function bi(n){return ir(n[Xe])}(a)){const ae=this.indexOf(i);if(-1!==ae)this.detach(ae);else{const xe=a[Xe],Je=new o0(xe,xe[cn],xe[Xe]);Je.detach(Je.indexOf(i))}}const h=this._adjustIndex(s),E=this._lContainer;!function If(n,i,s,a){const c=vr+a,h=s.length;a>0&&(s[c-1][Ot]=i),a<h-vr?(i[Ot]=s[c],w(s,vr+a,i)):(s.push(i),i[Ot]=null),i[Xe]=s;const E=i[to];null!==E&&s!==E&&function xf(n,i){const s=n[Us];i[Gr]!==i[Xe][Xe][Gr]&&(n[io]=!0),null===s?n[Us]=[i]:s.push(i)}(E,i);const S=i[cr];null!==S&&S.insertView(n),i[He]|=64}(c,a,E,h);const S=vl(h,E),N=a[Yn],K=Ju(N,E[Bs]);return null!==K&&function hm(n,i,s,a,c,h){a[yr]=c,a[cn]=i,_c(n,a,s,1,c,h)}(c,E[cn],N,a,K,S),i.attachToViewContainerRef(),w(Cy(E),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=a0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=Yu(this._lContainer,s);a&&(C(Cy(this._lContainer),s),Sf(a[Fe],a))}detach(i){const s=this._adjustIndex(i,-1),a=Yu(this._lContainer,s);return a&&null!=C(Cy(this._lContainer),s)?new Oc(a):null}_adjustIndex(i,s=0){return i??this.length+s}};function a0(n){return n[Qs]}function Cy(n){return n[Qs]||(n[Qs]=[])}function l0(n,i){let s;const a=i[n.index];if(ir(a))s=a;else{let c;if(8&n.type)c=k(a);else{const h=i[Yn];c=h.createComment("");const E=he(n,i);_l(h,Ju(h,E),c,function fm(n,i){return n.nextSibling(i)}(h,E),!1)}i[n.index]=s=Hh(a,i,c,n),vu(i,s)}return new o0(s,n,i)}class Dy{constructor(i){this.queryList=i,this.matches=null}clone(){return new Dy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ty{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const a=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const E=s.getByIndex(h);c.push(this.queries[E.indexInDeclarationView].clone())}return new Ty(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==_0(i,s).matches&&this.queries[s].setDirty()}}class c0{constructor(i,s,a=null){this.predicate=i,this.flags=s,this.read=a}}class Iy{constructor(i=[]){this.queries=i}elementStart(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(i,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new Iy(s):null}template(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class xy{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new xy(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(i,s,yE(s,h)),this.matchTNodeWithReadOption(i,s,Ko(s,i,h,!1,!1))}else a===um?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Ko(s,i,a,!1,!1))}matchTNodeWithReadOption(i,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===_d||c===Kg||c===um&&4&s.type)this.addMatch(s.index,-2);else{const h=Ko(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function yE(n,i){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===i)return s[a+1];return null}function bE(n,i,s,a){return-1===s?function vE(n,i){return 11&n.type?Va(n,i):4&n.type?qg(n,i):null}(i,n):-2===s?function EE(n,i,s){return s===_d?Va(i,n):s===um?qg(i,n):s===Kg?l0(i,n):void 0}(n,i,a):ys(n,n[Fe],s,i)}function u0(n,i,s,a){const c=i[cr].queries[a];if(null===c.matches){const h=n.data,E=s.matches,S=[];for(let N=0;N<E.length;N+=2){const K=E[N];S.push(K<0?null:bE(i,h[K],E[N+1],s.metadata.read))}c.matches=S}return c.matches}function Sy(n,i,s,a){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const E=u0(n,i,c,s);for(let S=0;S<h.length;S+=2){const N=h[S];if(N>0)a.push(E[S/2]);else{const K=h[S+1],ae=i[-N];for(let xe=vr;xe<ae.length;xe++){const Je=ae[xe];Je[to]===Je[Xe]&&Sy(Je[Fe],Je,K,a)}if(null!==ae[Us]){const xe=ae[Us];for(let Je=0;Je<xe.length;Je++){const bt=xe[Je];Sy(bt[Fe],bt,K,a)}}}}}return a}function d0(n){const i=X(),s=je(),a=Pa();da(a+1);const c=_0(s,a);if(n.dirty&&function Tn(n){return 4==(4&n[He])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?Sy(s,i,a,[]):u0(s,i,c,a);n.reset(h,ou),n.notifyOnChanges()}return!0}return!1}function h0(n,i,s){const a=je();a.firstCreatePass&&(g0(a,new c0(n,i,s),-1),2==(2&i)&&(a.staticViewQueries=!0)),m0(a,X(),i)}function f0(n,i,s,a){const c=je();if(c.firstCreatePass){const h=En();g0(c,new c0(i,s,a),h.index),function CE(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}m0(c,X(),s)}function p0(){return function wE(n,i){return n[cr].queries[i].queryList}(X(),Pa())}function m0(n,i,s){const a=new wy(4==(4&s));dp(n,i,a,a.destroy),null===i[cr]&&(i[cr]=new Ty),i[cr].queries.push(new Dy(a))}function g0(n,i,s){null===n.queries&&(n.queries=new Iy),n.queries.track(new xy(i,s))}function _0(n,i){return n.queries.getByIndex(i)}function Ay(n){return!!xi(n)}function Yg(...n){}const N0=new ss("Application Initializer");let Qg=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Yg,this.reject=Yg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(zp(h))s.push(h);else if(_g(h)){const E=new Promise((S,N)=>{h.subscribe({complete:S,error:N})});s.push(E)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Te(N0,8))},n.\u0275prov=dn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F0=new ss("AppId",{providedIn:"root",factory:function L0(){return`${ky()}${ky()}${ky()}`}});function ky(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const V0=new ss("Platform Initializer"),zE=new ss("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),GE=new ss("AnimationModuleType");let WE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=dn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Xg=new ss("LocaleId",{providedIn:"root",factory:()=>Mt(Xg,xt.Optional|xt.SkipSelf)||function qE(){return typeof $localize<"u"&&$localize.locale||Gd}()}),KE=new ss("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZE{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let YE=(()=>{class n{compileModuleSync(s){return new yy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=Tl(xi(s).declarations).reduce((E,S)=>{const N=_i(S);return N&&E.push(new Rc(N)),E},[]);return new ZE(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=dn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JE=(()=>Promise.resolve(0))();function Ny(n){typeof Zone>"u"?JE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ol{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ac(!1),this.onMicrotaskEmpty=new ac(!1),this.onStable=new ac(!1),this.onError=new ac(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function ew(){let n=Gn.requestAnimationFrame,i=Gn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function iw(n){const i=()=>{!function nw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Gn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ly(n),n.isCheckStableRunning=!0,Fy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ly(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,E,S)=>{try{return H0(n),s.invokeTask(c,h,E,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),j0(n)}},onInvoke:(s,a,c,h,E,S,N)=>{try{return H0(n),s.invoke(c,h,E,S,N)}finally{n.shouldCoalesceRunChangeDetection&&i(),j0(n)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,Ly(n),Fy(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ol.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(ol.isInAngularZone())throw new Me(909,!1)}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,c){const h=this._inner,E=h.scheduleEventTask("NgZoneEvent: "+c,i,tw,Yg,Yg);try{return h.runTask(E,s,a)}finally{h.cancelTask(E)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const tw={};function Fy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ly(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function H0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function j0(n){n._nesting--,Fy(n)}class rw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ac,this.onMicrotaskEmpty=new ac,this.onStable=new ac,this.onError=new ac}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,c){return i.apply(s,a)}}const $0=new ss(""),z0=new ss("");let Vy,sw=(()=>{class n{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vy||(function ow(n){Vy=n}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ol.assertNotInAngularZone(),Ny(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ny(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(Te(ol),Te(G0),Te(z0))},n.\u0275prov=dn({token:n,factory:n.\u0275fac}),n})(),G0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Vy?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=dn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Uc=!1;let Lu=null;const W0=new ss("AllowMultipleToken"),By=new ss("PlatformDestroyListeners"),q0=new ss("appBootstrapListener");class cw{constructor(i,s){this.name=i,this.token=s}}function Z0(n,i,s=[]){const a=`Platform: ${i}`,c=new ss(a);return(h=[])=>{let E=Uy();if(!E||E.injector.get(W0,!1)){const S=[...s,...h,{provide:c,useValue:!0}];n?n(S):function uw(n){if(Lu&&!Lu.get(W0,!1))throw new Me(400,!1);Lu=n;const i=n.get(Q0);(function K0(n){const i=n.get(V0,null);i&&i.forEach(s=>s())})(n)}(function Y0(n=[],i){return Sc.create({name:i,providers:[{provide:ud,useValue:"platform"},{provide:By,useValue:new Set([()=>Lu=null])},...n]})}(S,a))}return function hw(n){const i=Uy();if(!i)throw new Me(401,!1);return i}()}}function Uy(){return Lu?.get(Q0)??null}let Q0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function J0(n,i){let s;return s="noop"===n?new rw:("zone.js"===n?void 0:n)||new ol(i),s}(a?.ngZone,function X0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:ol,useValue:c}];return c.run(()=>{const E=Sc.create({providers:h,parent:this.injector,name:s.moduleType.name}),S=s.create(E),N=S.injector.get(lu,null);if(!N)throw new Me(402,!1);return c.runOutsideAngular(()=>{const K=c.onError.subscribe({next:ae=>{N.handleError(ae)}});S.onDestroy(()=>{e_(this._modules,S),K.unsubscribe()})}),function eb(n,i,s){try{const a=s();return zp(a)?a.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw i.runOutsideAngular(()=>n.handleError(a)),a}}(N,c,()=>{const K=S.injector.get(Qg);return K.runInitializers(),K.donePromise.then(()=>(function sy(n){et(n,"Expected localeId to be defined"),"string"==typeof n&&($g=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Xg,Gd)||Gd),this._moduleDoBootstrap(S),S))})})}bootstrapModule(s,a=[]){const c=tb({},a);return function aw(n,i,s){const a=new yy(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(Jg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Me(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(By,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Te(Sc))},n.\u0275prov=dn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function tb(n,i){return Array.isArray(i)?i.reduce(tb,n):{...n,...i}}let Jg=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new le.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),E=new le.y(S=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{ol.assertNotInAngularZone(),Ny(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{ol.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{N.unsubscribe(),K.unsubscribe()}});this.isStable=(0,Ne.T)(h,E.pipe(function Ae(n={}){const{connector:i=(()=>new p.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=n;return h=>{let E,S,N,K=0,ae=!1,xe=!1;const Je=()=>{S?.unsubscribe(),S=void 0},bt=()=>{Je(),E=N=void 0,ae=xe=!1},Kt=()=>{const _n=E;bt(),_n?.unsubscribe()};return(0,Ie.e)((_n,Vn)=>{K++,!xe&&!ae&&Je();const Zn=N=N??i();Vn.add(()=>{K--,0===K&&!xe&&!ae&&(S=Ge(Kt,c))}),Zn.subscribe(Vn),!E&&K>0&&(E=new _e.Hp({next:Ci=>Zn.next(Ci),error:Ci=>{xe=!0,Je(),S=Ge(bt,s,Ci),Zn.error(Ci)},complete:()=>{ae=!0,Je(),S=Ge(bt,a),Zn.complete()}}),(0,Pe.Xf)(_n).subscribe(E))})(h)}}()))}bootstrap(s,a){const c=s instanceof $f;if(!this._injector.get(Qg).done){!c&&Jr(s);throw new Me(405,Uc)}let E;E=c?s:this._injector.get(nl).resolveComponentFactory(s),this.componentTypes.push(E.componentType);const S=function lw(n){return n.isBoundToModule}(E)?void 0:this._injector.get(yf),K=E.create(Sc.NULL,[],a||E.selector,S),ae=K.location.nativeElement,xe=K.injector.get($0,null);return xe?.registerApplication(ae),K.onDestroy(()=>{this.detachView(K.hostView),e_(this.components,K),xe?.unregisterApplication(ae)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;e_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(q0,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>e_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Me(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(Te(ol),Te(el),Te(lu))},n.\u0275prov=dn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function e_(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let pw=(()=>{class n{}return n.__NG_ELEMENT_ID__=mw,n})();function mw(n){return function gw(n,i,s){if(ws(n)&&!s){const a=nn(n.index,i);return new Oc(a,a)}return 47&n.type?new Oc(i[Gr],i):null}(En(),X(),16==(16&n))}class ob{constructor(){}supports(i){return Cu(i)}create(i){return new ww(i)}}const Ew=(n,i)=>i;class ww{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Ew}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const E=!a||s&&s.currentIndex<lb(a,c,h)?s:a,S=lb(E,c,h),N=E.currentIndex;if(E===a)c--,a=a._nextRemoved;else if(s=s._next,null==E.previousIndex)c++;else{h||(h=[]);const K=S-c,ae=N-c;if(K!=ae){for(let Je=0;Je<K;Je++){const bt=Je<h.length?h[Je]:h[Je]=0,Kt=bt+Je;ae<=Kt&&Kt<K&&(h[Je]=bt+1)}h[E.previousIndex]=ae-K}}S!==N&&i(E,S,N)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Cu(i))throw new Me(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,E,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)h=i[S],E=this._trackByFn(S,h),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,h,E,S)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,E,S),a=!0),s=s._next}else c=0,function Vp(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,S=>{E=this._trackByFn(c,S),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,S,E,c)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,E,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new Cw(s,a),h,c),i}_verifyReinsertion(i,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new ab),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ab),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Cw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class ab{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new Dw,this.map.set(s,a)),a.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lb(n,i,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+i+c}class cb{constructor(){}supports(i){return i instanceof Map||qh(i)}create(){return new Tw}}class Tw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||qh(i)))throw new Me(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,E=c._next;return h&&(h._next=E),E&&(E._prev=h),c._next=null,c._prev=null,c}const a=new Iw(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class Iw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ub(){return new Gy([new ob])}let Gy=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||ub()),deps:[[n,new ke,new $]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Me(901,!1)}}return n.\u0275prov=dn({token:n,providedIn:"root",factory:ub}),n})();function db(){return new Wy([new cb])}let Wy=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||db()),deps:[[n,new ke,new $]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Me(901,!1)}}return n.\u0275prov=dn({token:n,providedIn:"root",factory:db}),n})();const Aw=Z0(null,"core",[]);let Mw=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Te(Jg))},n.\u0275mod=mr({type:n}),n.\u0275inj=Bn({}),n})();function Ow(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(bn,ot,B)=>{B.d(ot,{Fj:()=>Me,qu:()=>Tr,u:()=>Rs,sg:()=>gs,u5:()=>Go,JJ:()=>yn,JL:()=>Rt,F:()=>On,YN:()=>us,wV:()=>Bs,UX:()=>ta,EJ:()=>To,kI:()=>$t,_Y:()=>no,Kr:()=>_s});var p=B(1571),f=B(6895),le=B(8996),Ne=B(9751),Pe=B(4742),_e=B(8421),Ie=B(3269),Ae=B(5403),Ge=B(3268),ce=B(1810),Ze=B(4004);let Dt=(()=>{class U{constructor(m,D){this._renderer=m,this._elementRef=D,this.onChange=Q=>{},this.onTouched=()=>{}}setProperty(m,D){this._renderer.setProperty(this._elementRef.nativeElement,m,D)}registerOnTouched(m){this.onTouched=m}registerOnChange(m){this.onChange=m}setDisabledState(m){this.setProperty("disabled",m)}}return U.\u0275fac=function(m){return new(m||U)(p.Y36(p.Qsj),p.Y36(p.SBq))},U.\u0275dir=p.lG2({type:U}),U})(),gt=(()=>{class U extends Dt{}return U.\u0275fac=function(){let V;return function(D){return(V||(V=p.n5z(U)))(D||U)}}(),U.\u0275dir=p.lG2({type:U,features:[p.qOj]}),U})();const Lt=new p.OlP("NgValueAccessor"),Qt={provide:Lt,useExisting:(0,p.Gpc)(()=>Me),multi:!0},Pn=new p.OlP("CompositionEventMode");let Me=(()=>{class U extends Dt{constructor(m,D,Q){super(m,D),this._compositionMode=Q,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gn(){const U=(0,f.q)()?(0,f.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(m){this.setProperty("value",m??"")}_handleInput(m){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(m)}_compositionStart(){this._composing=!0}_compositionEnd(m){this._composing=!1,this._compositionMode&&this.onChange(m)}}return U.\u0275fac=function(m){return new(m||U)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Pn,8))},U.\u0275dir=p.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(m,D){1&m&&p.NdJ("input",function(X){return D._handleInput(X.target.value)})("blur",function(){return D.onTouched()})("compositionstart",function(){return D._compositionStart()})("compositionend",function(X){return D._compositionEnd(X.target.value)})},features:[p._Bn([Qt]),p.qOj]}),U})();const Ce=!1;function Oe(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function ct(U){return null!=U&&"number"==typeof U.length}const Nt=new p.OlP("NgValidators"),rt=new p.OlP("NgAsyncValidators"),lt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $t{static min(V){return function Zt(U){return V=>{if(Oe(V.value)||Oe(U))return null;const m=parseFloat(V.value);return!isNaN(m)&&m<U?{min:{min:U,actual:V.value}}:null}}(V)}static max(V){return function wt(U){return V=>{if(Oe(V.value)||Oe(U))return null;const m=parseFloat(V.value);return!isNaN(m)&&m>U?{max:{max:U,actual:V.value}}:null}}(V)}static required(V){return function Xt(U){return Oe(U.value)?{required:!0}:null}(V)}static requiredTrue(V){return function tt(U){return!0===U.value?null:{required:!0}}(V)}static email(V){return function st(U){return Oe(U.value)||lt.test(U.value)?null:{email:!0}}(V)}static minLength(V){return function pt(U){return V=>Oe(V.value)||!ct(V.value)?null:V.value.length<U?{minlength:{requiredLength:U,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function St(U){return V=>ct(V.value)&&V.value.length>U?{maxlength:{requiredLength:U,actualLength:V.value.length}}:null}(V)}static pattern(V){return function Wt(U){if(!U)return Vt;let V,m;return"string"==typeof U?(m="","^"!==U.charAt(0)&&(m+="^"),m+=U,"$"!==U.charAt(U.length-1)&&(m+="$"),V=new RegExp(m)):(m=U.toString(),V=U),D=>{if(Oe(D.value))return null;const Q=D.value;return V.test(Q)?null:{pattern:{requiredPattern:m,actualValue:Q}}}}(V)}static nullValidator(V){return null}static compose(V){return un(V)}static composeAsync(V){return an(V)}}function Vt(U){return null}function pn(U){return null!=U}function ht(U){const V=(0,p.QGY)(U)?(0,le.D)(U):U;if(Ce&&!(0,p.CqO)(V)){let m="Expected async validator to return Promise or Observable.";throw"object"==typeof U&&(m+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,m)}return V}function jt(U){let V={};return U.forEach(m=>{V=null!=m?{...V,...m}:V}),0===Object.keys(V).length?null:V}function We(U,V){return V.map(m=>m(U))}function Tt(U){return U.map(V=>function et(U){return!U.validate}(V)?V:m=>V.validate(m))}function un(U){if(!U)return null;const V=U.filter(pn);return 0==V.length?null:function(m){return jt(We(m,V))}}function fi(U){return null!=U?un(Tt(U)):null}function an(U){if(!U)return null;const V=U.filter(pn);return 0==V.length?null:function(m){return function Se(...U){const V=(0,Ie.jO)(U),{args:m,keys:D}=(0,Pe.D)(U),Q=new Ne.y(X=>{const{length:je}=m;if(!je)return void X.complete();const Ct=new Array(je);let en=je,En=je;for(let An=0;An<je;An++){let ii=!1;(0,_e.Xf)(m[An]).subscribe((0,Ae.x)(X,qn=>{ii||(ii=!0,En--),Ct[An]=qn},()=>en--,void 0,()=>{(!en||!ii)&&(En||X.next(D?(0,ce.n)(D,Ct):Ct),X.complete())}))}});return V?Q.pipe((0,Ge.Z)(V)):Q}(We(m,V).map(ht)).pipe((0,Ze.U)(jt))}}function dn(U){return null!=U?an(Tt(U)):null}function Un(U,V){return null===U?[V]:Array.isArray(U)?[...U,V]:[U,V]}function Bn(U){return U._rawValidators}function ci(U){return U._rawAsyncValidators}function Qn(U){return U?Array.isArray(U)?U:[U]:[]}function wn(U,V){return Array.isArray(U)?U.includes(V):U===V}function Di(U,V){const m=Qn(V);return Qn(U).forEach(Q=>{wn(m,Q)||m.push(Q)}),m}function Jn(U,V){return Qn(V).filter(m=>!wn(U,m))}class di{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=fi(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,m){return!!this.control&&this.control.hasError(V,m)}getError(V,m){return this.control?this.control.getError(V,m):null}}class gi extends di{get formDirective(){return null}get path(){return null}}class Wn extends di{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ti{constructor(V){this._cd=V}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yn=(()=>{class U extends Ti{constructor(m){super(m)}}return U.\u0275fac=function(m){return new(m||U)(p.Y36(Wn,2))},U.\u0275dir=p.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(m,D){2&m&&p.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)},features:[p.qOj]}),U})(),Rt=(()=>{class U extends Ti{constructor(m){super(m)}}return U.\u0275fac=function(m){return new(m||U)(p.Y36(gi,10))},U.\u0275dir=p.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(m,D){2&m&&p.ekj("ng-untouched",D.isUntouched)("ng-touched",D.isTouched)("ng-pristine",D.isPristine)("ng-dirty",D.isDirty)("ng-valid",D.isValid)("ng-invalid",D.isInvalid)("ng-pending",D.isPending)("ng-submitted",D.isSubmitted)},features:[p.qOj]}),U})();function De(U,V){return U?`with name: '${V}'`:`at index: ${V}`}const Te=!1,at="VALID",Mt="INVALID",we="PENDING",be="DISABLED";function Ve(U){return(Be(U)?U.validators:U)||null}function Qe(U,V){return(Be(V)?V.asyncValidators:U)||null}function Be(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function Re(U,V,m){const D=U.controls;if(!(V?Object.keys(D):D).length)throw new p.vHH(1e3,Te?function ve(U){return`\n    There are no form controls registered with this ${U?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(V):"");if(!D[m])throw new p.vHH(1001,Te?function ge(U,V){return`Cannot find form control ${De(U,V)}`}(V,m):"")}function me(U,V,m){U._forEachChild((D,Q)=>{if(void 0===m[Q])throw new p.vHH(1002,Te?function fe(U,V){return`Must supply a value for form control ${De(U,V)}`}(V,Q):"")})}class ie{constructor(V,m){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(V),this._assignAsyncValidators(m)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===at}get invalid(){return this.status===Mt}get pending(){return this.status==we}get disabled(){return this.status===be}get enabled(){return this.status!==be}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._assignValidators(V)}setAsyncValidators(V){this._assignAsyncValidators(V)}addValidators(V){this.setValidators(Di(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(Di(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(Jn(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(Jn(V,this._rawAsyncValidators))}hasValidator(V){return wn(this._rawValidators,V)}hasAsyncValidator(V){return wn(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(m=>{m.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(m=>{m.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=we,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const m=this._parentMarkedDirty(V.onlySelf);this.status=be,this.errors=null,this._forEachChild(D=>{D.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:m}),this._onDisabledChange.forEach(D=>D(!0))}enable(V={}){const m=this._parentMarkedDirty(V.onlySelf);this.status=at,this._forEachChild(D=>{D.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:m}),this._onDisabledChange.forEach(D=>D(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===at||this.status===we)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(m=>m._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?be:at}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=we,this._hasOwnPendingAsyncValidator=!0;const m=ht(this.asyncValidator(this));this._asyncValidationSubscription=m.subscribe(D=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(D,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,m={}){this.errors=V,this._updateControlsErrors(!1!==m.emitEvent)}get(V){let m=V;return null==m||(Array.isArray(m)||(m=m.split(".")),0===m.length)?null:m.reduce((D,Q)=>D&&D._find(Q),this)}getError(V,m){const D=m?this.get(m):this;return D&&D.errors?D.errors[V]:null}hasError(V,m){return!!this.getError(V,m)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?be:this.errors?Mt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(we)?we:this._anyControlsHaveStatus(Mt)?Mt:at}_anyControlsHaveStatus(V){return this._anyControls(m=>m.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){Be(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}_assignValidators(V){this._rawValidators=Array.isArray(V)?V.slice():V,this._composedValidatorFn=function dt(U){return Array.isArray(U)?fi(U):U||null}(this._rawValidators)}_assignAsyncValidators(V){this._rawAsyncValidators=Array.isArray(V)?V.slice():V,this._composedAsyncValidatorFn=function ln(U){return Array.isArray(U)?dn(U):U||null}(this._rawAsyncValidators)}}class te extends ie{constructor(V,m,D){super(Ve(m),Qe(D,m)),this.controls=V,this._initObservables(),this._setUpdateStrategy(m),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,m){return this.controls[V]?this.controls[V]:(this.controls[V]=m,m.setParent(this),m._registerOnCollectionChange(this._onCollectionChange),m)}addControl(V,m,D={}){this.registerControl(V,m),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}removeControl(V,m={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:m.emitEvent}),this._onCollectionChange()}setControl(V,m,D={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],m&&this.registerControl(V,m),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,m={}){me(this,!0,V),Object.keys(V).forEach(D=>{Re(this,!0,D),this.controls[D].setValue(V[D],{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m)}patchValue(V,m={}){null!=V&&(Object.keys(V).forEach(D=>{const Q=this.controls[D];Q&&Q.patchValue(V[D],{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m))}reset(V={},m={}){this._forEachChild((D,Q)=>{D.reset(V[Q],{onlySelf:!0,emitEvent:m.emitEvent})}),this._updatePristine(m),this._updateTouched(m),this.updateValueAndValidity(m)}getRawValue(){return this._reduceChildren({},(V,m,D)=>(V[D]=m.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(m,D)=>!!D._syncPendingControls()||m);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(m=>{const D=this.controls[m];D&&V(D,m)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[m,D]of Object.entries(this.controls))if(this.contains(m)&&V(D))return!0;return!1}_reduceValue(){return this._reduceChildren({},(m,D,Q)=>((D.enabled||this.disabled)&&(m[Q]=D.value),m))}_reduceChildren(V,m){let D=V;return this._forEachChild((Q,X)=>{D=m(D,Q,X)}),D}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}class ze extends te{}const Bt=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>mn}),mn="always";function Hi(U,V,m=mn){mr(U,V),V.valueAccessor.writeValue(U.value),(U.disabled||"always"===m)&&V.valueAccessor.setDisabledState?.(U.disabled),function Ji(U,V){V.valueAccessor.registerOnChange(m=>{U._pendingValue=m,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&as(U,V)})}(U,V),function _i(U,V){const m=(D,Q)=>{V.valueAccessor.writeValue(D),Q&&V.viewToModelUpdate(D)};U.registerOnChange(m),V._registerOnDestroy(()=>{U._unregisterOnChange(m)})}(U,V),function os(U,V){V.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&as(U,V),"submit"!==U.updateOn&&U.markAsTouched()})}(U,V),function Ls(U,V){if(V.valueAccessor.setDisabledState){const m=D=>{V.valueAccessor.setDisabledState(D)};U.registerOnDisabledChange(m),V._registerOnDestroy(()=>{U._unregisterOnDisabledChange(m)})}}(U,V)}function sr(U,V,m=!0){const D=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(D),V.valueAccessor.registerOnTouched(D)),zr(U,V),U&&(V._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Er(U,V){U.forEach(m=>{m.registerOnValidatorChange&&m.registerOnValidatorChange(V)})}function mr(U,V){const m=Bn(U);null!==V.validator?U.setValidators(Un(m,V.validator)):"function"==typeof m&&U.setValidators([m]);const D=ci(U);null!==V.asyncValidator?U.setAsyncValidators(Un(D,V.asyncValidator)):"function"==typeof D&&U.setAsyncValidators([D]);const Q=()=>U.updateValueAndValidity();Er(V._rawValidators,Q),Er(V._rawAsyncValidators,Q)}function zr(U,V){let m=!1;if(null!==U){if(null!==V.validator){const Q=Bn(U);if(Array.isArray(Q)&&Q.length>0){const X=Q.filter(je=>je!==V.validator);X.length!==Q.length&&(m=!0,U.setValidators(X))}}if(null!==V.asyncValidator){const Q=ci(U);if(Array.isArray(Q)&&Q.length>0){const X=Q.filter(je=>je!==V.asyncValidator);X.length!==Q.length&&(m=!0,U.setAsyncValidators(X))}}}const D=()=>{};return Er(V._rawValidators,D),Er(V._rawAsyncValidators,D),m}function as(U,V){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function wi(U,V){mr(U,V)}function He(U,V){U._syncPendingControls(),V.forEach(m=>{const D=m.control;"submit"===D.updateOn&&D._pendingChange&&(m.viewToModelUpdate(D._pendingValue),D._pendingChange=!1)})}const cn={provide:gi,useExisting:(0,p.Gpc)(()=>On)},Xn=(()=>Promise.resolve())();let On=(()=>{class U extends gi{constructor(m,D,Q){super(),this.callSetDisabledState=Q,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new te({},fi(m),dn(D))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(m){Xn.then(()=>{const D=this._findContainer(m.path);m.control=D.registerControl(m.name,m.control),Hi(m.control,m,this.callSetDisabledState),m.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(m)})}getControl(m){return this.form.get(m.path)}removeControl(m){Xn.then(()=>{const D=this._findContainer(m.path);D&&D.removeControl(m.name),this._directives.delete(m)})}addFormGroup(m){Xn.then(()=>{const D=this._findContainer(m.path),Q=new te({});wi(Q,m),D.registerControl(m.name,Q),Q.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(m){Xn.then(()=>{const D=this._findContainer(m.path);D&&D.removeControl(m.name)})}getFormGroup(m){return this.form.get(m.path)}updateModel(m,D){Xn.then(()=>{this.form.get(m.path).setValue(D)})}setValue(m){this.control.setValue(m)}onSubmit(m){return this.submitted=!0,He(this.form,this._directives),this.ngSubmit.emit(m),"dialog"===m?.target?.method}onReset(){this.resetForm()}resetForm(m){this.form.reset(m),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(m){return m.pop(),m.length?this.form.get(m):this.form}}return U.\u0275fac=function(m){return new(m||U)(p.Y36(Nt,10),p.Y36(rt,10),p.Y36(Bt,8))},U.\u0275dir=p.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(m,D){1&m&&p.NdJ("submit",function(X){return D.onSubmit(X)})("reset",function(){return D.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([cn]),p.qOj]}),U})();function pi(U,V){const m=U.indexOf(V);m>-1&&U.splice(m,1)}function gr(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const Yn=class extends ie{constructor(V=null,m,D){super(Ve(m),Qe(D,m)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(m),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Be(m)&&(m.nonNullable||m.initialValueIsDefault)&&(this.defaultValue=gr(V)?V.value:V)}setValue(V,m={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==m.emitModelToViewChange&&this._onChange.forEach(D=>D(this.value,!1!==m.emitViewToModelChange)),this.updateValueAndValidity(m)}patchValue(V,m={}){this.setValue(V,m)}reset(V=this.defaultValue,m={}){this._applyFormState(V),this.markAsPristine(m),this.markAsUntouched(m),this.setValue(this.value,m),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){pi(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){pi(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){gr(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}};let no=(()=>{class U{}return U.\u0275fac=function(m){return new(m||U)},U.\u0275dir=p.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})();const io={provide:Lt,useExisting:(0,p.Gpc)(()=>Bs),multi:!0};let Bs=(()=>{class U extends gt{writeValue(m){this.setProperty("value",m??"")}registerOnChange(m){this.onChange=D=>{m(""==D?null:parseFloat(D))}}}return U.\u0275fac=function(){let V;return function(D){return(V||(V=p.n5z(U)))(D||U)}}(),U.\u0275dir=p.lG2({type:U,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(m,D){1&m&&p.NdJ("input",function(X){return D.onChange(X.target.value)})("blur",function(){return D.onTouched()})},features:[p._Bn([io]),p.qOj]}),U})(),vr=(()=>{class U{}return U.\u0275fac=function(m){return new(m||U)},U.\u0275mod=p.oAB({type:U}),U.\u0275inj=p.cJS({}),U})();const ws=new p.OlP("NgModelWithFormControlWarning"),Ms={provide:gi,useExisting:(0,p.Gpc)(()=>gs)};let gs=(()=>{class U extends gi{constructor(m,D,Q){super(),this.callSetDisabledState=Q,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(m),this._setAsyncValidators(D)}ngOnChanges(m){this._checkFormPresent(),m.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(m){const D=this.form.get(m.path);return Hi(D,m,this.callSetDisabledState),D.updateValueAndValidity({emitEvent:!1}),this.directives.push(m),D}getControl(m){return this.form.get(m.path)}removeControl(m){sr(m.control||null,m,!1),function Ot(U,V){const m=U.indexOf(V);m>-1&&U.splice(m,1)}(this.directives,m)}addFormGroup(m){this._setUpFormContainer(m)}removeFormGroup(m){this._cleanUpFormContainer(m)}getFormGroup(m){return this.form.get(m.path)}addFormArray(m){this._setUpFormContainer(m)}removeFormArray(m){this._cleanUpFormContainer(m)}getFormArray(m){return this.form.get(m.path)}updateModel(m,D){this.form.get(m.path).setValue(D)}onSubmit(m){return this.submitted=!0,He(this.form,this.directives),this.ngSubmit.emit(m),"dialog"===m?.target?.method}onReset(){this.resetForm()}resetForm(m){this.form.reset(m),this.submitted=!1}_updateDomValue(){this.directives.forEach(m=>{const D=m.control,Q=this.form.get(m.path);D!==Q&&(sr(D||null,m),(U=>U instanceof Yn)(Q)&&(Hi(Q,m,this.callSetDisabledState),m.control=Q))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(m){const D=this.form.get(m.path);wi(D,m),D.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(m){if(this.form){const D=this.form.get(m.path);D&&function wr(U,V){return zr(U,V)}(D,m)&&D.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mr(this.form,this),this._oldForm&&zr(this._oldForm,this)}_checkFormPresent(){}}return U.\u0275fac=function(m){return new(m||U)(p.Y36(Nt,10),p.Y36(rt,10),p.Y36(Bt,8))},U.\u0275dir=p.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(m,D){1&m&&p.NdJ("submit",function(X){return D.onSubmit(X)})("reset",function(){return D.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Ms]),p.qOj,p.TTD]}),U})();const Cs={provide:Wn,useExisting:(0,p.Gpc)(()=>Rs)};let Rs=(()=>{class U extends Wn{set isDisabled(m){}constructor(m,D,Q,X,je){super(),this._ngModelWarningConfig=je,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=m,this._setValidators(D),this._setAsyncValidators(Q),this.valueAccessor=function Xe(U,V){if(!V)return null;let m,D,Q;return Array.isArray(V),V.forEach(X=>{X.constructor===Me?m=X:function Fe(U){return Object.getPrototypeOf(U.constructor)===gt}(X)?D=X:Q=X}),Q||D||m||null}(0,X)}ngOnChanges(m){this._added||this._setUpControl(),function yr(U,V){if(!U.hasOwnProperty("model"))return!1;const m=U.model;return!!m.isFirstChange()||!Object.is(V,m.currentValue)}(m,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(m){this.viewModel=m,this.update.emit(m)}get path(){return function ni(U,V){return[...V.path,U]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return U._ngModelWarningSentOnce=!1,U.\u0275fac=function(m){return new(m||U)(p.Y36(gi,13),p.Y36(Nt,10),p.Y36(rt,10),p.Y36(Lt,10),p.Y36(ws,8))},U.\u0275dir=p.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Cs]),p.qOj,p.TTD]}),U})();const ls={provide:Lt,useExisting:(0,p.Gpc)(()=>To),multi:!0};function Xs(U,V){return null==U?`${V}`:(V&&"object"==typeof V&&(V="Object"),`${U}: ${V}`.slice(0,50))}let To=(()=>{class U extends gt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(m){this._compareWith=m}writeValue(m){this.value=m;const Q=Xs(this._getOptionId(m),m);this.setProperty("value",Q)}registerOnChange(m){this.onChange=D=>{this.value=this._getOptionValue(D),m(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(m){for(const D of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(D),m))return D;return null}_getOptionValue(m){const D=function Do(U){return U.split(":")[0]}(m);return this._optionMap.has(D)?this._optionMap.get(D):m}}return U.\u0275fac=function(){let V;return function(D){return(V||(V=p.n5z(U)))(D||U)}}(),U.\u0275dir=p.lG2({type:U,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(m,D){1&m&&p.NdJ("change",function(X){return D.onChange(X.target.value)})("blur",function(){return D.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([ls]),p.qOj]}),U})(),us=(()=>{class U{constructor(m,D,Q){this._element=m,this._renderer=D,this._select=Q,this._select&&(this.id=this._select._registerOption())}set ngValue(m){null!=this._select&&(this._select._optionMap.set(this.id,m),this._setElementValue(Xs(this.id,m)),this._select.writeValue(this._select.value))}set value(m){this._setElementValue(m),this._select&&this._select.writeValue(this._select.value)}_setElementValue(m){this._renderer.setProperty(this._element.nativeElement,"value",m)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return U.\u0275fac=function(m){return new(m||U)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(To,9))},U.\u0275dir=p.lG2({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),U})();const Io={provide:Lt,useExisting:(0,p.Gpc)(()=>Ps),multi:!0};function hr(U,V){return null==U?`${V}`:("string"==typeof V&&(V=`'${V}'`),V&&"object"==typeof V&&(V="Object"),`${U}: ${V}`.slice(0,50))}let Ps=(()=>{class U extends gt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(m){this._compareWith=m}writeValue(m){let D;if(this.value=m,Array.isArray(m)){const Q=m.map(X=>this._getOptionId(X));D=(X,je)=>{X._setSelected(Q.indexOf(je.toString())>-1)}}else D=(Q,X)=>{Q._setSelected(!1)};this._optionMap.forEach(D)}registerOnChange(m){this.onChange=D=>{const Q=[],X=D.selectedOptions;if(void 0!==X){const je=X;for(let Ct=0;Ct<je.length;Ct++){const En=this._getOptionValue(je[Ct].value);Q.push(En)}}else{const je=D.options;for(let Ct=0;Ct<je.length;Ct++){const en=je[Ct];if(en.selected){const En=this._getOptionValue(en.value);Q.push(En)}}}this.value=Q,m(Q)}}_registerOption(m){const D=(this._idCounter++).toString();return this._optionMap.set(D,m),D}_getOptionId(m){for(const D of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(D)._value,m))return D;return null}_getOptionValue(m){const D=function so(U){return U.split(":")[0]}(m);return this._optionMap.has(D)?this._optionMap.get(D)._value:m}}return U.\u0275fac=function(){let V;return function(D){return(V||(V=p.n5z(U)))(D||U)}}(),U.\u0275dir=p.lG2({type:U,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(m,D){1&m&&p.NdJ("change",function(X){return D.onChange(X.target)})("blur",function(){return D.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Io]),p.qOj]}),U})(),_s=(()=>{class U{constructor(m,D,Q){this._element=m,this._renderer=D,this._select=Q,this._select&&(this.id=this._select._registerOption(this))}set ngValue(m){null!=this._select&&(this._value=m,this._setElementValue(hr(this.id,m)),this._select.writeValue(this._select.value))}set value(m){this._select?(this._value=m,this._setElementValue(hr(this.id,m)),this._select.writeValue(this._select.value)):this._setElementValue(m)}_setElementValue(m){this._renderer.setProperty(this._element.nativeElement,"value",m)}_setSelected(m){this._renderer.setProperty(this._element.nativeElement,"selected",m)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return U.\u0275fac=function(m){return new(m||U)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Ps,9))},U.\u0275dir=p.lG2({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),U})(),nn=(()=>{class U{}return U.\u0275fac=function(m){return new(m||U)},U.\u0275mod=p.oAB({type:U}),U.\u0275inj=p.cJS({imports:[vr]}),U})();class Tn extends ie{constructor(V,m,D){super(Ve(m),Qe(D,m)),this.controls=V,this._initObservables(),this._setUpdateStrategy(m),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[this._adjustIndex(V)]}push(V,m={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:m.emitEvent}),this._onCollectionChange()}insert(V,m,D={}){this.controls.splice(V,0,m),this._registerControl(m),this.updateValueAndValidity({emitEvent:D.emitEvent})}removeAt(V,m={}){let D=this._adjustIndex(V);D<0&&(D=0),this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),this.controls.splice(D,1),this.updateValueAndValidity({emitEvent:m.emitEvent})}setControl(V,m,D={}){let Q=this._adjustIndex(V);Q<0&&(Q=0),this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),this.controls.splice(Q,1),m&&(this.controls.splice(Q,0,m),this._registerControl(m)),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,m={}){me(this,!1,V),V.forEach((D,Q)=>{Re(this,!1,Q),this.at(Q).setValue(D,{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m)}patchValue(V,m={}){null!=V&&(V.forEach((D,Q)=>{this.at(Q)&&this.at(Q).patchValue(D,{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m))}reset(V=[],m={}){this._forEachChild((D,Q)=>{D.reset(V[Q],{onlySelf:!0,emitEvent:m.emitEvent})}),this._updatePristine(m),this._updateTouched(m),this.updateValueAndValidity(m)}getRawValue(){return this.controls.map(V=>V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(m=>m._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_adjustIndex(V){return V<0?V+this.length:V}_syncPendingControls(){let V=this.controls.reduce((m,D)=>!!D._syncPendingControls()||m,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((m,D)=>{V(m,D)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(m=>m.enabled&&V(m))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}_find(V){return this.at(V)??null}}function or(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let Tr=(()=>{class U{constructor(){this.useNonNullable=!1}get nonNullable(){const m=new U;return m.useNonNullable=!0,m}group(m,D=null){const Q=this._reduceControls(m);let X={};return or(D)?X=D:null!==D&&(X.validators=D.validator,X.asyncValidators=D.asyncValidator),new te(Q,X)}record(m,D=null){const Q=this._reduceControls(m);return new ze(Q,D)}control(m,D,Q){let X={};return this.useNonNullable?(or(D)?X=D:(X.validators=D,X.asyncValidators=Q),new Yn(m,{...X,nonNullable:!0})):new Yn(m,D,Q)}array(m,D,Q){const X=m.map(je=>this._createControl(je));return new Tn(X,D,Q)}_reduceControls(m){const D={};return Object.keys(m).forEach(Q=>{D[Q]=this._createControl(m[Q])}),D}_createControl(m){return m instanceof Yn||m instanceof ie?m:Array.isArray(m)?this.control(m[0],m.length>1?m[1]:null,m.length>2?m[2]:null):this.control(m)}}return U.\u0275fac=function(m){return new(m||U)},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),Go=(()=>{class U{static withConfig(m){return{ngModule:U,providers:[{provide:Bt,useValue:m.callSetDisabledState??mn}]}}}return U.\u0275fac=function(m){return new(m||U)},U.\u0275mod=p.oAB({type:U}),U.\u0275inj=p.cJS({imports:[nn]}),U})(),ta=(()=>{class U{static withConfig(m){return{ngModule:U,providers:[{provide:ws,useValue:m.warnOnNgModelWithFormControl??"always"},{provide:Bt,useValue:m.callSetDisabledState??mn}]}}}return U.\u0275fac=function(m){return new(m||U)},U.\u0275mod=p.oAB({type:U}),U.\u0275inj=p.cJS({imports:[nn]}),U})()},3238:(bn,ot,B)=>{B.d(ot,{BQ:()=>Me});var p=B(1571),f=B(1842),le=B(445),Pe=B(6895),_e=B(3353),Ie=B(1281);const Pn=new p.OlP("mat-sanity-checks",{providedIn:"root",factory:function gn(){return!0}});let Me=(()=>{class Ut{constructor(ve,ge,fe){this._sanityChecks=ge,this._document=fe,this._hasDoneGlobalChecks=!1,ve._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ve){return!(0,_e.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ve])}}return Ut.\u0275fac=function(ve){return new(ve||Ut)(p.LFG(f.qm),p.LFG(Pn,8),p.LFG(Pe.K0))},Ut.\u0275mod=p.oAB({type:Ut}),Ut.\u0275inj=p.cJS({imports:[le.vT,le.vT]}),Ut})();class dn{constructor(De,ve,ge,fe=!1){this._renderer=De,this.element=ve,this.config=ge,this._animationForciblyDisabledThroughCss=fe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Un=(0,_e.i$)({passive:!0,capture:!0});class Bn{constructor(){this._events=new Map,this._delegateEventHandler=De=>{const ve=(0,_e.sA)(De);ve&&this._events.get(De.type)?.forEach((ge,fe)=>{(fe===ve||fe.contains(ve))&&ge.forEach(Te=>Te.handleEvent(De))})}}addHandler(De,ve,ge,fe){const Te=this._events.get(ve);if(Te){const at=Te.get(ge);at?at.add(fe):Te.set(ge,new Set([fe]))}else this._events.set(ve,new Map([[ge,new Set([fe])]])),De.runOutsideAngular(()=>{document.addEventListener(ve,this._delegateEventHandler,Un)})}removeHandler(De,ve,ge){const fe=this._events.get(De);if(!fe)return;const Te=fe.get(ve);Te&&(Te.delete(ge),0===Te.size&&fe.delete(ve),0===fe.size&&(this._events.delete(De),document.removeEventListener(De,this._delegateEventHandler,Un)))}}const ci={enterDuration:225,exitDuration:150},wn=(0,_e.i$)({passive:!0,capture:!0}),Di=["mousedown","touchstart"],Jn=["mouseup","mouseleave","touchend","touchcancel"];class di{constructor(De,ve,ge,fe){this._target=De,this._ngZone=ve,this._platform=fe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,fe.isBrowser&&(this._containerElement=(0,Ie.fI)(ge))}fadeInRipple(De,ve,ge={}){const fe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Te={...ci,...ge.animation};ge.centered&&(De=fe.left+fe.width/2,ve=fe.top+fe.height/2);const at=ge.radius||function gi(Ut,De,ve){const ge=Math.max(Math.abs(Ut-ve.left),Math.abs(Ut-ve.right)),fe=Math.max(Math.abs(De-ve.top),Math.abs(De-ve.bottom));return Math.sqrt(ge*ge+fe*fe)}(De,ve,fe),Mt=De-fe.left,we=ve-fe.top,be=Te.enterDuration,Ve=document.createElement("div");Ve.classList.add("mat-ripple-element"),Ve.style.left=Mt-at+"px",Ve.style.top=we-at+"px",Ve.style.height=2*at+"px",Ve.style.width=2*at+"px",null!=ge.color&&(Ve.style.backgroundColor=ge.color),Ve.style.transitionDuration=`${be}ms`,this._containerElement.appendChild(Ve);const dt=window.getComputedStyle(Ve),ln=dt.transitionDuration,Be="none"===dt.transitionProperty||"0s"===ln||"0s, 0s"===ln||0===fe.width&&0===fe.height,Re=new dn(this,Ve,ge,Be);Ve.style.transform="scale3d(1, 1, 1)",Re.state=0,ge.persistent||(this._mostRecentTransientRipple=Re);let me=null;return!Be&&(be||Te.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ie=()=>this._finishRippleTransition(Re),te=()=>this._destroyRipple(Re);Ve.addEventListener("transitionend",ie),Ve.addEventListener("transitioncancel",te),me={onTransitionEnd:ie,onTransitionCancel:te}}),this._activeRipples.set(Re,me),(Be||!be)&&this._finishRippleTransition(Re),Re}fadeOutRipple(De){if(2===De.state||3===De.state)return;const ve=De.element,ge={...ci,...De.config.animation};ve.style.transitionDuration=`${ge.exitDuration}ms`,ve.style.opacity="0",De.state=2,(De._animationForciblyDisabledThroughCss||!ge.exitDuration)&&this._finishRippleTransition(De)}fadeOutAll(){this._getActiveRipples().forEach(De=>De.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(De=>{De.config.persistent||De.fadeOut()})}setupTriggerEvents(De){const ve=(0,Ie.fI)(De);!this._platform.isBrowser||!ve||ve===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ve,Di.forEach(ge=>{di._eventManager.addHandler(this._ngZone,ge,ve,this)}))}handleEvent(De){"mousedown"===De.type?this._onMousedown(De):"touchstart"===De.type?this._onTouchStart(De):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Jn.forEach(ve=>{this._triggerElement.addEventListener(ve,this,wn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(De){0===De.state?this._startFadeOutTransition(De):2===De.state&&this._destroyRipple(De)}_startFadeOutTransition(De){const ve=De===this._mostRecentTransientRipple,{persistent:ge}=De.config;De.state=1,!ge&&(!ve||!this._isPointerDown)&&De.fadeOut()}_destroyRipple(De){const ve=this._activeRipples.get(De)??null;this._activeRipples.delete(De),this._activeRipples.size||(this._containerRect=null),De===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),De.state=3,null!==ve&&(De.element.removeEventListener("transitionend",ve.onTransitionEnd),De.element.removeEventListener("transitioncancel",ve.onTransitionCancel)),De.element.remove()}_onMousedown(De){const ve=(0,f.X6)(De),ge=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ve&&!ge&&(this._isPointerDown=!0,this.fadeInRipple(De.clientX,De.clientY,this._target.rippleConfig))}_onTouchStart(De){if(!this._target.rippleDisabled&&!(0,f.yG)(De)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ve=De.changedTouches;for(let ge=0;ge<ve.length;ge++)this.fadeInRipple(ve[ge].clientX,ve[ge].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(De=>{!De.config.persistent&&(1===De.state||De.config.terminateOnPointerUp&&0===De.state)&&De.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const De=this._triggerElement;De&&(Di.forEach(ve=>di._eventManager.removeHandler(ve,De,this)),this._pointerUpEventsRegistered&&Jn.forEach(ve=>De.removeEventListener(ve,this,wn)))}}di._eventManager=new Bn},3903:(bn,ot,B)=>{B.d(ot,{uw:()=>cs,ZT:()=>ks,Is:()=>Ts,so:()=>Io});var p=B(1281),f=B(1571),le=B(7579),Ne=B(9646),Pe=B(9751),_e=B(8421),Ie=B(5577),Ae=B(1144),Ge=B(576),ce=B(3268);const Se=["addListener","removeListener"],Ze=["addEventListener","removeEventListener"],Dt=["on","off"];function gt(de,k,x,G){if((0,Ge.m)(x)&&(G=x,x=void 0),G)return gt(de,k,x).pipe((0,ce.Z)(G));const[he,Ue]=function Qt(de){return(0,Ge.m)(de.addEventListener)&&(0,Ge.m)(de.removeEventListener)}(de)?Ze.map(ft=>Pt=>de[ft](k,Pt,x)):function _t(de){return(0,Ge.m)(de.addListener)&&(0,Ge.m)(de.removeListener)}(de)?Se.map(Lt(de,k)):function Ht(de){return(0,Ge.m)(de.on)&&(0,Ge.m)(de.off)}(de)?Dt.map(Lt(de,k)):[];if(!he&&(0,Ae.z)(de))return(0,Ie.z)(ft=>gt(ft,k,x))((0,_e.Xf)(de));if(!he)throw new TypeError("Invalid event target");return new Pe.y(ft=>{const Pt=(...nn)=>ft.next(1<nn.length?nn:nn[0]);return he(Pt),()=>Ue(Pt)})}function Lt(de,k){return x=>G=>de[x](k,G)}var gn=B(4408),Pn=B(727);const Me={schedule(de){let k=requestAnimationFrame,x=cancelAnimationFrame;const{delegate:G}=Me;G&&(k=G.requestAnimationFrame,x=G.cancelAnimationFrame);const he=k(Ue=>{x=void 0,de(Ue)});return new Pn.w0(()=>x?.(he))},requestAnimationFrame(...de){const{delegate:k}=Me;return(k?.requestAnimationFrame||requestAnimationFrame)(...de)},cancelAnimationFrame(...de){const{delegate:k}=Me;return(k?.cancelAnimationFrame||cancelAnimationFrame)(...de)},delegate:void 0};var Oe=B(640);const Nt=new class ct extends Oe.v{flush(k){this._active=!0;const x=this._scheduled;this._scheduled=void 0;const{actions:G}=this;let he;k=k||G.shift();do{if(he=k.execute(k.state,k.delay))break}while((k=G[0])&&k.id===x&&G.shift());if(this._active=!1,he){for(;(k=G[0])&&k.id===x&&G.shift();)k.unsubscribe();throw he}}}(class Ce extends gn.o{constructor(k,x){super(k,x),this.scheduler=k,this.work=x}requestAsyncId(k,x,G=0){return null!==G&&G>0?super.requestAsyncId(k,x,G):(k.actions.push(this),k._scheduled||(k._scheduled=Me.requestAnimationFrame(()=>k.flush(void 0))))}recycleAsyncId(k,x,G=0){var he;if(null!=G?G>0:this.delay>0)return super.recycleAsyncId(k,x,G);const{actions:Ue}=k;null!=x&&(null===(he=Ue[Ue.length-1])||void 0===he?void 0:he.id)!==x&&(Me.cancelAnimationFrame(x),k._scheduled=void 0)}});let $t,lt=1;const Zt={};function wt(de){return de in Zt&&(delete Zt[de],!0)}const Xt={setImmediate(de){const k=lt++;return Zt[k]=!0,$t||($t=Promise.resolve()),$t.then(()=>wt(k)&&de()),k},clearImmediate(de){wt(de)}},{setImmediate:st,clearImmediate:pt}=Xt,St={setImmediate(...de){const{delegate:k}=St;return(k?.setImmediate||st)(...de)},clearImmediate(de){const{delegate:k}=St;return(k?.clearImmediate||pt)(de)},delegate:void 0},pn=new class Vt extends Oe.v{flush(k){this._active=!0;const x=this._scheduled;this._scheduled=void 0;const{actions:G}=this;let he;k=k||G.shift();do{if(he=k.execute(k.state,k.delay))break}while((k=G[0])&&k.id===x&&G.shift());if(this._active=!1,he){for(;(k=G[0])&&k.id===x&&G.shift();)k.unsubscribe();throw he}}}(class Wt extends gn.o{constructor(k,x){super(k,x),this.scheduler=k,this.work=x}requestAsyncId(k,x,G=0){return null!==G&&G>0?super.requestAsyncId(k,x,G):(k.actions.push(this),k._scheduled||(k._scheduled=St.setImmediate(k.flush.bind(k,void 0))))}recycleAsyncId(k,x,G=0){var he;if(null!=G?G>0:this.delay>0)return super.recycleAsyncId(k,x,G);const{actions:Ue}=k;null!=x&&(null===(he=Ue[Ue.length-1])||void 0===he?void 0:he.id)!==x&&(St.clearImmediate(x),k._scheduled=void 0)}});var jt=B(4986),We=B(4482),et=B(5403),un=B(3532);function dn(de,k=jt.z){return function Tt(de){return(0,We.e)((k,x)=>{let G=!1,he=null,Ue=null,ft=!1;const Pt=()=>{if(Ue?.unsubscribe(),Ue=null,G){G=!1;const Tn=he;he=null,x.next(Tn)}ft&&x.complete()},nn=()=>{Ue=null,ft&&x.complete()};k.subscribe((0,et.x)(x,Tn=>{G=!0,he=Tn,Ue||(0,_e.Xf)(de(Tn)).subscribe(Ue=(0,et.x)(x,Pt,nn))},()=>{ft=!0,(!G||!Ue||Ue.closed)&&x.complete()}))})}(()=>function an(de=0,k,x=jt.P){let G=-1;return null!=k&&((0,un.K)(k)?x=k:G=k),new Pe.y(he=>{let Ue=function fi(de){return de instanceof Date&&!isNaN(de)}(de)?+de-x.now():de;Ue<0&&(Ue=0);let ft=0;return x.schedule(function(){he.closed||(he.next(ft++),0<=G?this.schedule(void 0,G):he.complete())},Ue)})}(de,k))}var Un=B(9300),Bn=B(2722),ci=B(8675),Qn=B(3353),wn=B(6895),Di=B(445);const Jn=["contentWrapper"],di=["*"],gi=new f.OlP("VIRTUAL_SCROLL_STRATEGY");let yn=(()=>{class de{constructor(x,G,he){this._ngZone=x,this._platform=G,this._scrolled=new le.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=he}register(x){this.scrollContainers.has(x)||this.scrollContainers.set(x,x.elementScrolled().subscribe(()=>this._scrolled.next(x)))}deregister(x){const G=this.scrollContainers.get(x);G&&(G.unsubscribe(),this.scrollContainers.delete(x))}scrolled(x=20){return this._platform.isBrowser?new Pe.y(G=>{this._globalSubscription||this._addGlobalListener();const he=x>0?this._scrolled.pipe(dn(x)).subscribe(G):this._scrolled.subscribe(G);return this._scrolledCount++,()=>{he.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ne.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((x,G)=>this.deregister(G)),this._scrolled.complete()}ancestorScrolled(x,G){const he=this.getAncestorScrollContainers(x);return this.scrolled(G).pipe((0,Un.h)(Ue=>!Ue||he.indexOf(Ue)>-1))}getAncestorScrollContainers(x){const G=[];return this.scrollContainers.forEach((he,Ue)=>{this._scrollableContainsElement(Ue,x)&&G.push(Ue)}),G}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(x,G){let he=(0,p.fI)(G),Ue=x.getElementRef().nativeElement;do{if(he==Ue)return!0}while(he=he.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>gt(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(f.R0b),f.LFG(Qn.t4),f.LFG(wn.K0,8))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),Rt=(()=>{class de{constructor(x,G,he,Ue){this.elementRef=x,this.scrollDispatcher=G,this.ngZone=he,this.dir=Ue,this._destroyed=new le.x,this._elementScrolled=new Pe.y(ft=>this.ngZone.runOutsideAngular(()=>gt(this.elementRef.nativeElement,"scroll").pipe((0,Bn.R)(this._destroyed)).subscribe(ft)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(x){const G=this.elementRef.nativeElement,he=this.dir&&"rtl"==this.dir.value;null==x.left&&(x.left=he?x.end:x.start),null==x.right&&(x.right=he?x.start:x.end),null!=x.bottom&&(x.top=G.scrollHeight-G.clientHeight-x.bottom),he&&0!=(0,Qn._i)()?(null!=x.left&&(x.right=G.scrollWidth-G.clientWidth-x.left),2==(0,Qn._i)()?x.left=x.right:1==(0,Qn._i)()&&(x.left=x.right?-x.right:x.right)):null!=x.right&&(x.left=G.scrollWidth-G.clientWidth-x.right),this._applyScrollToOptions(x)}_applyScrollToOptions(x){const G=this.elementRef.nativeElement;(0,Qn.Mq)()?G.scrollTo(x):(null!=x.top&&(G.scrollTop=x.top),null!=x.left&&(G.scrollLeft=x.left))}measureScrollOffset(x){const G="left",Ue=this.elementRef.nativeElement;if("top"==x)return Ue.scrollTop;if("bottom"==x)return Ue.scrollHeight-Ue.clientHeight-Ue.scrollTop;const ft=this.dir&&"rtl"==this.dir.value;return"start"==x?x=ft?"right":G:"end"==x&&(x=ft?G:"right"),ft&&2==(0,Qn._i)()?x==G?Ue.scrollWidth-Ue.clientWidth-Ue.scrollLeft:Ue.scrollLeft:ft&&1==(0,Qn._i)()?x==G?Ue.scrollLeft+Ue.scrollWidth-Ue.clientWidth:-Ue.scrollLeft:x==G?Ue.scrollLeft:Ue.scrollWidth-Ue.clientWidth-Ue.scrollLeft}}return de.\u0275fac=function(x){return new(x||de)(f.Y36(f.SBq),f.Y36(yn),f.Y36(f.R0b),f.Y36(Di.Is,8))},de.\u0275dir=f.lG2({type:de,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),de})(),Jt=(()=>{class de{constructor(x,G,he){this._platform=x,this._change=new le.x,this._changeListener=Ue=>{this._change.next(Ue)},this._document=he,G.runOutsideAngular(()=>{if(x.isBrowser){const Ue=this._getWindow();Ue.addEventListener("resize",this._changeListener),Ue.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const x=this._getWindow();x.removeEventListener("resize",this._changeListener),x.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const x={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),x}getViewportRect(){const x=this.getViewportScrollPosition(),{width:G,height:he}=this.getViewportSize();return{top:x.top,left:x.left,bottom:x.top+he,right:x.left+G,height:he,width:G}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const x=this._document,G=this._getWindow(),he=x.documentElement,Ue=he.getBoundingClientRect();return{top:-Ue.top||x.body.scrollTop||G.scrollY||he.scrollTop||0,left:-Ue.left||x.body.scrollLeft||G.scrollX||he.scrollLeft||0}}change(x=20){return x>0?this._change.pipe(dn(x)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const x=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:x.innerWidth,height:x.innerHeight}:{width:0,height:0}}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(Qn.t4),f.LFG(f.R0b),f.LFG(wn.K0,8))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();const ti=new f.OlP("VIRTUAL_SCROLLABLE");let Gn=(()=>{class de extends Rt{constructor(x,G,he,Ue){super(x,G,he,Ue)}measureViewportSize(x){const G=this.elementRef.nativeElement;return"horizontal"===x?G.clientWidth:G.clientHeight}}return de.\u0275fac=function(x){return new(x||de)(f.Y36(f.SBq),f.Y36(yn),f.Y36(f.R0b),f.Y36(Di.Is,8))},de.\u0275dir=f.lG2({type:de,features:[f.qOj]}),de})();const Oi=typeof requestAnimationFrame<"u"?Nt:pn;let Ii=(()=>{class de extends Gn{get orientation(){return this._orientation}set orientation(x){this._orientation!==x&&(this._orientation=x,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(x){this._appendOnly=(0,p.Ig)(x)}constructor(x,G,he,Ue,ft,Pt,nn,Tn){super(x,Pt,he,ft),this.elementRef=x,this._changeDetectorRef=G,this._scrollStrategy=Ue,this.scrollable=Tn,this._platform=(0,f.f3M)(Qn.t4),this._detachedSubject=new le.x,this._renderedRangeSubject=new le.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Pe.y(kn=>this._scrollStrategy.scrolledIndexChange.subscribe(bi=>Promise.resolve().then(()=>this.ngZone.run(()=>kn.next(bi))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Pn.w0.EMPTY,this._viewportChanges=nn.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,ci.O)(null),dn(0,Oi)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(x){this.ngZone.runOutsideAngular(()=>{this._forOf=x,this._forOf.dataStream.pipe((0,Bn.R)(this._detachedSubject)).subscribe(G=>{const he=G.length;he!==this._dataLength&&(this._dataLength=he,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(x){return this.getElementRef().nativeElement.getBoundingClientRect()[x]}setTotalContentSize(x){this._totalContentSize!==x&&(this._totalContentSize=x,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(x){(function Fi(de,k){return de.start==k.start&&de.end==k.end})(this._renderedRange,x)||(this.appendOnly&&(x={start:0,end:Math.max(this._renderedRange.end,x.end)}),this._renderedRangeSubject.next(this._renderedRange=x),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(x,G="to-start"){x=this.appendOnly&&"to-start"===G?0:x;const Ue="horizontal"==this.orientation,ft=Ue?"X":"Y";let nn=`translate${ft}(${Number((Ue&&this.dir&&"rtl"==this.dir.value?-1:1)*x)}px)`;this._renderedContentOffset=x,"to-end"===G&&(nn+=` translate${ft}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=nn&&(this._renderedContentTransform=nn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(x,G="auto"){const he={behavior:G};"horizontal"===this.orientation?he.start=x:he.top=x,this.scrollable.scrollTo(he)}scrollToIndex(x,G="auto"){this._scrollStrategy.scrollToIndex(x,G)}measureScrollOffset(x){let G;return G=this.scrollable==this?he=>super.measureScrollOffset(he):he=>this.scrollable.measureScrollOffset(he),Math.max(0,G(x??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(x){let G;const ft="rtl"==this.dir?.value;G="start"==x?ft?"right":"left":"end"==x?ft?"left":"right":x||("horizontal"===this.orientation?"left":"top");const Pt=this.scrollable.measureBoundingClientRectWithScrollOffset(G);return this.elementRef.nativeElement.getBoundingClientRect()[G]-Pt}measureRenderedContentSize(){const x=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?x.offsetWidth:x.offsetHeight}measureRangeSize(x){return this._forOf?this._forOf.measureRangeSize(x,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(x){x&&this._runAfterChangeDetection.push(x),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const x=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const G of x)G()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return de.\u0275fac=function(x){return new(x||de)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(gi,8),f.Y36(Di.Is,8),f.Y36(yn),f.Y36(Jt),f.Y36(ti,8))},de.\u0275cmp=f.Xpm({type:de,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(x,G){if(1&x&&f.Gf(Jn,7),2&x){let he;f.iGM(he=f.CRH())&&(G._contentWrapper=he.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(x,G){2&x&&f.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===G.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==G.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[f._Bn([{provide:Rt,useFactory:(k,x)=>k||x,deps:[[new f.FiY,new f.tBr(ti)],de]}]),f.qOj,f.jDz],ngContentSelectors:di,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(x,G){1&x&&(f.F$t(),f.TgZ(0,"div",0,1),f.Hsn(2),f.qZA(),f._UZ(3,"div",2)),2&x&&(f.xp6(3),f.Udp("width",G._totalContentWidth)("height",G._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),de})(),Ar=(()=>{class de{}return de.\u0275fac=function(x){return new(x||de)},de.\u0275mod=f.oAB({type:de}),de.\u0275inj=f.cJS({}),de})(),Ut=(()=>{class de{}return de.\u0275fac=function(x){return new(x||de)},de.\u0275mod=f.oAB({type:de}),de.\u0275inj=f.cJS({imports:[Di.vT,Ar,Ii,Di.vT,Ar]}),de})();var De=B(5698);class we{attach(k){return this._attachedHost=k,k.attach(this)}detach(){let k=this._attachedHost;null!=k&&(this._attachedHost=null,k.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(k){this._attachedHost=k}}class be extends we{constructor(k,x,G,he,Ue){super(),this.component=k,this.viewContainerRef=x,this.injector=G,this.componentFactoryResolver=he,this.projectableNodes=Ue}}class Ve extends we{constructor(k,x,G,he){super(),this.templateRef=k,this.viewContainerRef=x,this.context=G,this.injector=he}get origin(){return this.templateRef.elementRef}attach(k,x=this.context){return this.context=x,super.attach(k)}detach(){return this.context=void 0,super.detach()}}class dt extends we{constructor(k){super(),this.element=k instanceof f.SBq?k.nativeElement:k}}class Qe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(k){return k instanceof be?(this._attachedPortal=k,this.attachComponentPortal(k)):k instanceof Ve?(this._attachedPortal=k,this.attachTemplatePortal(k)):this.attachDomPortal&&k instanceof dt?(this._attachedPortal=k,this.attachDomPortal(k)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(k){this._disposeFn=k}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Be extends Qe{constructor(k,x,G,he,Ue){super(),this.outletElement=k,this._componentFactoryResolver=x,this._appRef=G,this._defaultInjector=he,this.attachDomPortal=ft=>{const Pt=ft.element,nn=this._document.createComment("dom-portal");Pt.parentNode.insertBefore(nn,Pt),this.outletElement.appendChild(Pt),this._attachedPortal=ft,super.setDisposeFn(()=>{nn.parentNode&&nn.parentNode.replaceChild(Pt,nn)})},this._document=Ue}attachComponentPortal(k){const G=(k.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(k.component);let he;return k.viewContainerRef?(he=k.viewContainerRef.createComponent(G,k.viewContainerRef.length,k.injector||k.viewContainerRef.injector,k.projectableNodes||void 0),this.setDisposeFn(()=>he.destroy())):(he=G.create(k.injector||this._defaultInjector||f.zs3.NULL),this._appRef.attachView(he.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(he.hostView),he.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(he)),this._attachedPortal=k,he}attachTemplatePortal(k){let x=k.viewContainerRef,G=x.createEmbeddedView(k.templateRef,k.context,{injector:k.injector});return G.rootNodes.forEach(he=>this.outletElement.appendChild(he)),G.detectChanges(),this.setDisposeFn(()=>{let he=x.indexOf(G);-1!==he&&x.remove(he)}),this._attachedPortal=k,G}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(k){return k.hostView.rootNodes[0]}}let te=(()=>{class de extends Qe{constructor(x,G,he){super(),this._componentFactoryResolver=x,this._viewContainerRef=G,this._isInitialized=!1,this.attached=new f.vpe,this.attachDomPortal=Ue=>{const ft=Ue.element,Pt=this._document.createComment("dom-portal");Ue.setAttachedHost(this),ft.parentNode.insertBefore(Pt,ft),this._getRootNode().appendChild(ft),this._attachedPortal=Ue,super.setDisposeFn(()=>{Pt.parentNode&&Pt.parentNode.replaceChild(ft,Pt)})},this._document=he}get portal(){return this._attachedPortal}set portal(x){this.hasAttached()&&!x&&!this._isInitialized||(this.hasAttached()&&super.detach(),x&&super.attach(x),this._attachedPortal=x||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(x){x.setAttachedHost(this);const G=null!=x.viewContainerRef?x.viewContainerRef:this._viewContainerRef,Ue=(x.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(x.component),ft=G.createComponent(Ue,G.length,x.injector||G.injector,x.projectableNodes||void 0);return G!==this._viewContainerRef&&this._getRootNode().appendChild(ft.hostView.rootNodes[0]),super.setDisposeFn(()=>ft.destroy()),this._attachedPortal=x,this._attachedRef=ft,this.attached.emit(ft),ft}attachTemplatePortal(x){x.setAttachedHost(this);const G=this._viewContainerRef.createEmbeddedView(x.templateRef,x.context,{injector:x.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=x,this._attachedRef=G,this.attached.emit(G),G}_getRootNode(){const x=this._viewContainerRef.element.nativeElement;return x.nodeType===x.ELEMENT_NODE?x:x.parentNode}}return de.\u0275fac=function(x){return new(x||de)(f.Y36(f._Vd),f.Y36(f.s_b),f.Y36(wn.K0))},de.\u0275dir=f.lG2({type:de,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[f.qOj]}),de})(),$e=(()=>{class de{}return de.\u0275fac=function(x){return new(x||de)},de.\u0275mod=f.oAB({type:de}),de.\u0275inj=f.cJS({}),de})();var nt=B(6451);const Bt=(0,Qn.Mq)();class mn{constructor(k,x){this._viewportRuler=k,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=x}attach(){}enable(){if(this._canBeEnabled()){const k=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=k.style.left||"",this._previousHTMLStyles.top=k.style.top||"",k.style.left=(0,p.HM)(-this._previousScrollPosition.left),k.style.top=(0,p.HM)(-this._previousScrollPosition.top),k.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const k=this._document.documentElement,G=k.style,he=this._document.body.style,Ue=G.scrollBehavior||"",ft=he.scrollBehavior||"";this._isEnabled=!1,G.left=this._previousHTMLStyles.left,G.top=this._previousHTMLStyles.top,k.classList.remove("cdk-global-scrollblock"),Bt&&(G.scrollBehavior=he.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Bt&&(G.scrollBehavior=Ue,he.scrollBehavior=ft)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const x=this._document.body,G=this._viewportRuler.getViewportSize();return x.scrollHeight>G.height||x.scrollWidth>G.width}}class Hi{constructor(k,x,G,he){this._scrollDispatcher=k,this._ngZone=x,this._viewportRuler=G,this._config=he,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(k){this._overlayRef=k}enable(){if(this._scrollSubscription)return;const k=this._scrollDispatcher.scrolled(0).pipe((0,Un.h)(x=>!x||!this._overlayRef.overlayElement.contains(x.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=k.subscribe(()=>{const x=this._viewportRuler.getViewportScrollPosition().top;Math.abs(x-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=k.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class sr{enable(){}disable(){}attach(){}}function Er(de,k){return k.some(x=>de.bottom<x.top||de.top>x.bottom||de.right<x.left||de.left>x.right)}function Ls(de,k){return k.some(x=>de.top<x.top||de.bottom>x.bottom||de.left<x.left||de.right>x.right)}class mr{constructor(k,x,G,he){this._scrollDispatcher=k,this._viewportRuler=x,this._ngZone=G,this._config=he,this._scrollSubscription=null}attach(k){this._overlayRef=k}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const x=this._overlayRef.overlayElement.getBoundingClientRect(),{width:G,height:he}=this._viewportRuler.getViewportSize();Er(x,[{width:G,height:he,bottom:he,right:G,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zr=(()=>{class de{constructor(x,G,he,Ue){this._scrollDispatcher=x,this._viewportRuler=G,this._ngZone=he,this.noop=()=>new sr,this.close=ft=>new Hi(this._scrollDispatcher,this._ngZone,this._viewportRuler,ft),this.block=()=>new mn(this._viewportRuler,this._document),this.reposition=ft=>new mr(this._scrollDispatcher,this._viewportRuler,this._ngZone,ft),this._document=Ue}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(yn),f.LFG(Jt),f.LFG(f.R0b),f.LFG(wn.K0))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();class Ji{constructor(k){if(this.scrollStrategy=new sr,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,k){const x=Object.keys(k);for(const G of x)void 0!==k[G]&&(this[G]=k[G])}}}class _i{constructor(k,x){this.connectionPair=k,this.scrollableViewProperties=x}}let Jr=(()=>{class de{constructor(x){this._attachedOverlays=[],this._document=x}ngOnDestroy(){this.detach()}add(x){this.remove(x),this._attachedOverlays.push(x)}remove(x){const G=this._attachedOverlays.indexOf(x);G>-1&&this._attachedOverlays.splice(G,1),0===this._attachedOverlays.length&&this.detach()}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(wn.K0))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),xi=(()=>{class de extends Jr{constructor(x,G){super(x),this._ngZone=G,this._keydownListener=he=>{const Ue=this._attachedOverlays;for(let ft=Ue.length-1;ft>-1;ft--)if(Ue[ft]._keydownEvents.observers.length>0){const Pt=Ue[ft]._keydownEvents;this._ngZone?this._ngZone.run(()=>Pt.next(he)):Pt.next(he);break}}}add(x){super.add(x),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(wn.K0),f.LFG(f.R0b,8))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),ms=(()=>{class de extends Jr{constructor(x,G,he){super(x),this._platform=G,this._ngZone=he,this._cursorStyleIsSet=!1,this._pointerDownListener=Ue=>{this._pointerDownEventTarget=(0,Qn.sA)(Ue)},this._clickListener=Ue=>{const ft=(0,Qn.sA)(Ue),Pt="click"===Ue.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ft;this._pointerDownEventTarget=null;const nn=this._attachedOverlays.slice();for(let Tn=nn.length-1;Tn>-1;Tn--){const kn=nn[Tn];if(kn._outsidePointerEvents.observers.length<1||!kn.hasAttached())continue;if(kn.overlayElement.contains(ft)||kn.overlayElement.contains(Pt))break;const bi=kn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>bi.next(Ue)):bi.next(Ue)}}}add(x){if(super.add(x),!this._isAttached){const G=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(G)):this._addEventListeners(G),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=G.style.cursor,G.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const x=this._document.body;x.removeEventListener("pointerdown",this._pointerDownListener,!0),x.removeEventListener("click",this._clickListener,!0),x.removeEventListener("auxclick",this._clickListener,!0),x.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(x.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(x){x.addEventListener("pointerdown",this._pointerDownListener,!0),x.addEventListener("click",this._clickListener,!0),x.addEventListener("auxclick",this._clickListener,!0),x.addEventListener("contextmenu",this._clickListener,!0)}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(wn.K0),f.LFG(Qn.t4),f.LFG(f.R0b,8))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),ns=(()=>{class de{constructor(x,G){this._platform=G,this._document=x}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const x="cdk-overlay-container";if(this._platform.isBrowser||(0,Qn.Oy)()){const he=this._document.querySelectorAll(`.${x}[platform="server"], .${x}[platform="test"]`);for(let Ue=0;Ue<he.length;Ue++)he[Ue].remove()}const G=this._document.createElement("div");G.classList.add(x),(0,Qn.Oy)()?G.setAttribute("platform","test"):this._platform.isBrowser||G.setAttribute("platform","server"),this._document.body.appendChild(G),this._containerElement=G}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(wn.K0),f.LFG(Qn.t4))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();class Ri{constructor(k,x,G,he,Ue,ft,Pt,nn,Tn,kn=!1){this._portalOutlet=k,this._host=x,this._pane=G,this._config=he,this._ngZone=Ue,this._keyboardDispatcher=ft,this._document=Pt,this._location=nn,this._outsideClickDispatcher=Tn,this._animationsDisabled=kn,this._backdropElement=null,this._backdropClick=new le.x,this._attachments=new le.x,this._detachments=new le.x,this._locationChanges=Pn.w0.EMPTY,this._backdropClickHandler=bi=>this._backdropClick.next(bi),this._backdropTransitionendHandler=bi=>{this._disposeBackdrop(bi.target)},this._keydownEvents=new le.x,this._outsidePointerEvents=new le.x,he.scrollStrategy&&(this._scrollStrategy=he.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=he.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(k){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const x=this._portalOutlet.attach(k);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,De.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof x?.onDestroy&&x.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),x}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const k=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),k}dispose(){const k=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,k&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(k){k!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=k,this.hasAttached()&&(k.attach(this),this.updatePosition()))}updateSize(k){this._config={...this._config,...k},this._updateElementSize()}setDirection(k){this._config={...this._config,direction:k},this._updateElementDirection()}addPanelClass(k){this._pane&&this._toggleClasses(this._pane,k,!0)}removePanelClass(k){this._pane&&this._toggleClasses(this._pane,k,!1)}getDirection(){const k=this._config.direction;return k?"string"==typeof k?k:k.value:"ltr"}updateScrollStrategy(k){k!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=k,this.hasAttached()&&(k.attach(this),k.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const k=this._pane.style;k.width=(0,p.HM)(this._config.width),k.height=(0,p.HM)(this._config.height),k.minWidth=(0,p.HM)(this._config.minWidth),k.minHeight=(0,p.HM)(this._config.minHeight),k.maxWidth=(0,p.HM)(this._config.maxWidth),k.maxHeight=(0,p.HM)(this._config.maxHeight)}_togglePointerEvents(k){this._pane.style.pointerEvents=k?"":"none"}_attachBackdrop(){const k="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(k)})}):this._backdropElement.classList.add(k)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const k=this._backdropElement;if(k){if(this._animationsDisabled)return void this._disposeBackdrop(k);k.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{k.addEventListener("transitionend",this._backdropTransitionendHandler)}),k.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(k)},500))}}_toggleClasses(k,x,G){const he=(0,p.Eq)(x||[]).filter(Ue=>!!Ue);he.length&&(G?k.classList.add(...he):k.classList.remove(...he))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const k=this._ngZone.onStable.pipe((0,Bn.R)((0,nt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),k.unsubscribe())})})}_disposeScrollStrategy(){const k=this._scrollStrategy;k&&(k.disable(),k.detach&&k.detach())}_disposeBackdrop(k){k&&(k.removeEventListener("click",this._backdropClickHandler),k.removeEventListener("transitionend",this._backdropTransitionendHandler),k.remove(),this._backdropElement===k&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yr="cdk-overlay-connected-position-bounding-box",Fe=/([A-Za-z%]+)$/;class He{get positions(){return this._preferredPositions}constructor(k,x,G,he,Ue){this._viewportRuler=x,this._document=G,this._platform=he,this._overlayContainer=Ue,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new le.x,this._resizeSubscription=Pn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(k)}attach(k){this._validatePositions(),k.hostElement.classList.add(yr),this._overlayRef=k,this._boundingBox=k.hostElement,this._pane=k.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const k=this._originRect,x=this._overlayRect,G=this._viewportRect,he=this._containerRect,Ue=[];let ft;for(let Pt of this._preferredPositions){let nn=this._getOriginPoint(k,he,Pt),Tn=this._getOverlayPoint(nn,x,Pt),kn=this._getOverlayFit(Tn,x,G,Pt);if(kn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Pt,nn);this._canFitWithFlexibleDimensions(kn,Tn,G)?Ue.push({position:Pt,origin:nn,overlayRect:x,boundingBoxRect:this._calculateBoundingBoxRect(nn,Pt)}):(!ft||ft.overlayFit.visibleArea<kn.visibleArea)&&(ft={overlayFit:kn,overlayPoint:Tn,originPoint:nn,position:Pt,overlayRect:x})}if(Ue.length){let Pt=null,nn=-1;for(const Tn of Ue){const kn=Tn.boundingBoxRect.width*Tn.boundingBoxRect.height*(Tn.position.weight||1);kn>nn&&(nn=kn,Pt=Tn)}return this._isPushed=!1,void this._applyPosition(Pt.position,Pt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ft.position,ft.originPoint);this._applyPosition(ft.position,ft.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yr),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const k=this._lastPosition;if(k){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const x=this._getOriginPoint(this._originRect,this._containerRect,k);this._applyPosition(k,x)}else this.apply()}withScrollableContainers(k){return this._scrollables=k,this}withPositions(k){return this._preferredPositions=k,-1===k.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(k){return this._viewportMargin=k,this}withFlexibleDimensions(k=!0){return this._hasFlexibleDimensions=k,this}withGrowAfterOpen(k=!0){return this._growAfterOpen=k,this}withPush(k=!0){return this._canPush=k,this}withLockedPosition(k=!0){return this._positionLocked=k,this}setOrigin(k){return this._origin=k,this}withDefaultOffsetX(k){return this._offsetX=k,this}withDefaultOffsetY(k){return this._offsetY=k,this}withTransformOriginOn(k){return this._transformOriginSelector=k,this}_getOriginPoint(k,x,G){let he,Ue;if("center"==G.originX)he=k.left+k.width/2;else{const ft=this._isRtl()?k.right:k.left,Pt=this._isRtl()?k.left:k.right;he="start"==G.originX?ft:Pt}return x.left<0&&(he-=x.left),Ue="center"==G.originY?k.top+k.height/2:"top"==G.originY?k.top:k.bottom,x.top<0&&(Ue-=x.top),{x:he,y:Ue}}_getOverlayPoint(k,x,G){let he,Ue;return he="center"==G.overlayX?-x.width/2:"start"===G.overlayX?this._isRtl()?-x.width:0:this._isRtl()?0:-x.width,Ue="center"==G.overlayY?-x.height/2:"top"==G.overlayY?0:-x.height,{x:k.x+he,y:k.y+Ue}}_getOverlayFit(k,x,G,he){const Ue=Yt(x);let{x:ft,y:Pt}=k,nn=this._getOffset(he,"x"),Tn=this._getOffset(he,"y");nn&&(ft+=nn),Tn&&(Pt+=Tn);let or=0-Pt,Tr=Pt+Ue.height-G.height,Ir=this._subtractOverflows(Ue.width,0-ft,ft+Ue.width-G.width),Fn=this._subtractOverflows(Ue.height,or,Tr),yo=Ir*Fn;return{visibleArea:yo,isCompletelyWithinViewport:Ue.width*Ue.height===yo,fitsInViewportVertically:Fn===Ue.height,fitsInViewportHorizontally:Ir==Ue.width}}_canFitWithFlexibleDimensions(k,x,G){if(this._hasFlexibleDimensions){const he=G.bottom-x.y,Ue=G.right-x.x,ft=Ot(this._overlayRef.getConfig().minHeight),Pt=Ot(this._overlayRef.getConfig().minWidth);return(k.fitsInViewportVertically||null!=ft&&ft<=he)&&(k.fitsInViewportHorizontally||null!=Pt&&Pt<=Ue)}return!1}_pushOverlayOnScreen(k,x,G){if(this._previousPushAmount&&this._positionLocked)return{x:k.x+this._previousPushAmount.x,y:k.y+this._previousPushAmount.y};const he=Yt(x),Ue=this._viewportRect,ft=Math.max(k.x+he.width-Ue.width,0),Pt=Math.max(k.y+he.height-Ue.height,0),nn=Math.max(Ue.top-G.top-k.y,0),Tn=Math.max(Ue.left-G.left-k.x,0);let kn=0,bi=0;return kn=he.width<=Ue.width?Tn||-ft:k.x<this._viewportMargin?Ue.left-G.left-k.x:0,bi=he.height<=Ue.height?nn||-Pt:k.y<this._viewportMargin?Ue.top-G.top-k.y:0,this._previousPushAmount={x:kn,y:bi},{x:k.x+kn,y:k.y+bi}}_applyPosition(k,x){if(this._setTransformOrigin(k),this._setOverlayElementStyles(x,k),this._setBoundingBoxStyles(x,k),k.panelClass&&this._addPanelClasses(k.panelClass),this._lastPosition=k,this._positionChanges.observers.length){const G=this._getScrollVisibility(),he=new _i(k,G);this._positionChanges.next(he)}this._isInitialRender=!1}_setTransformOrigin(k){if(!this._transformOriginSelector)return;const x=this._boundingBox.querySelectorAll(this._transformOriginSelector);let G,he=k.overlayY;G="center"===k.overlayX?"center":this._isRtl()?"start"===k.overlayX?"right":"left":"start"===k.overlayX?"left":"right";for(let Ue=0;Ue<x.length;Ue++)x[Ue].style.transformOrigin=`${G} ${he}`}_calculateBoundingBoxRect(k,x){const G=this._viewportRect,he=this._isRtl();let Ue,ft,Pt,kn,bi,or;if("top"===x.overlayY)ft=k.y,Ue=G.height-ft+this._viewportMargin;else if("bottom"===x.overlayY)Pt=G.height-k.y+2*this._viewportMargin,Ue=G.height-Pt+this._viewportMargin;else{const Tr=Math.min(G.bottom-k.y+G.top,k.y),Ir=this._lastBoundingBoxSize.height;Ue=2*Tr,ft=k.y-Tr,Ue>Ir&&!this._isInitialRender&&!this._growAfterOpen&&(ft=k.y-Ir/2)}if("end"===x.overlayX&&!he||"start"===x.overlayX&&he)or=G.width-k.x+this._viewportMargin,kn=k.x-this._viewportMargin;else if("start"===x.overlayX&&!he||"end"===x.overlayX&&he)bi=k.x,kn=G.right-k.x;else{const Tr=Math.min(G.right-k.x+G.left,k.x),Ir=this._lastBoundingBoxSize.width;kn=2*Tr,bi=k.x-Tr,kn>Ir&&!this._isInitialRender&&!this._growAfterOpen&&(bi=k.x-Ir/2)}return{top:ft,left:bi,bottom:Pt,right:or,width:kn,height:Ue}}_setBoundingBoxStyles(k,x){const G=this._calculateBoundingBoxRect(k,x);!this._isInitialRender&&!this._growAfterOpen&&(G.height=Math.min(G.height,this._lastBoundingBoxSize.height),G.width=Math.min(G.width,this._lastBoundingBoxSize.width));const he={};if(this._hasExactPosition())he.top=he.left="0",he.bottom=he.right=he.maxHeight=he.maxWidth="",he.width=he.height="100%";else{const Ue=this._overlayRef.getConfig().maxHeight,ft=this._overlayRef.getConfig().maxWidth;he.height=(0,p.HM)(G.height),he.top=(0,p.HM)(G.top),he.bottom=(0,p.HM)(G.bottom),he.width=(0,p.HM)(G.width),he.left=(0,p.HM)(G.left),he.right=(0,p.HM)(G.right),he.alignItems="center"===x.overlayX?"center":"end"===x.overlayX?"flex-end":"flex-start",he.justifyContent="center"===x.overlayY?"center":"bottom"===x.overlayY?"flex-end":"flex-start",Ue&&(he.maxHeight=(0,p.HM)(Ue)),ft&&(he.maxWidth=(0,p.HM)(ft))}this._lastBoundingBoxSize=G,Xe(this._boundingBox.style,he)}_resetBoundingBoxStyles(){Xe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(k,x){const G={},he=this._hasExactPosition(),Ue=this._hasFlexibleDimensions,ft=this._overlayRef.getConfig();if(he){const kn=this._viewportRuler.getViewportScrollPosition();Xe(G,this._getExactOverlayY(x,k,kn)),Xe(G,this._getExactOverlayX(x,k,kn))}else G.position="static";let Pt="",nn=this._getOffset(x,"x"),Tn=this._getOffset(x,"y");nn&&(Pt+=`translateX(${nn}px) `),Tn&&(Pt+=`translateY(${Tn}px)`),G.transform=Pt.trim(),ft.maxHeight&&(he?G.maxHeight=(0,p.HM)(ft.maxHeight):Ue&&(G.maxHeight="")),ft.maxWidth&&(he?G.maxWidth=(0,p.HM)(ft.maxWidth):Ue&&(G.maxWidth="")),Xe(this._pane.style,G)}_getExactOverlayY(k,x,G){let he={top:"",bottom:""},Ue=this._getOverlayPoint(x,this._overlayRect,k);return this._isPushed&&(Ue=this._pushOverlayOnScreen(Ue,this._overlayRect,G)),"bottom"===k.overlayY?he.bottom=this._document.documentElement.clientHeight-(Ue.y+this._overlayRect.height)+"px":he.top=(0,p.HM)(Ue.y),he}_getExactOverlayX(k,x,G){let ft,he={left:"",right:""},Ue=this._getOverlayPoint(x,this._overlayRect,k);return this._isPushed&&(Ue=this._pushOverlayOnScreen(Ue,this._overlayRect,G)),ft=this._isRtl()?"end"===k.overlayX?"left":"right":"end"===k.overlayX?"right":"left","right"===ft?he.right=this._document.documentElement.clientWidth-(Ue.x+this._overlayRect.width)+"px":he.left=(0,p.HM)(Ue.x),he}_getScrollVisibility(){const k=this._getOriginRect(),x=this._pane.getBoundingClientRect(),G=this._scrollables.map(he=>he.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ls(k,G),isOriginOutsideView:Er(k,G),isOverlayClipped:Ls(x,G),isOverlayOutsideView:Er(x,G)}}_subtractOverflows(k,...x){return x.reduce((G,he)=>G-Math.max(he,0),k)}_getNarrowedViewportRect(){const k=this._document.documentElement.clientWidth,x=this._document.documentElement.clientHeight,G=this._viewportRuler.getViewportScrollPosition();return{top:G.top+this._viewportMargin,left:G.left+this._viewportMargin,right:G.left+k-this._viewportMargin,bottom:G.top+x-this._viewportMargin,width:k-2*this._viewportMargin,height:x-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(k,x){return"x"===x?null==k.offsetX?this._offsetX:k.offsetX:null==k.offsetY?this._offsetY:k.offsetY}_validatePositions(){}_addPanelClasses(k){this._pane&&(0,p.Eq)(k).forEach(x=>{""!==x&&-1===this._appliedPanelClasses.indexOf(x)&&(this._appliedPanelClasses.push(x),this._pane.classList.add(x))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(k=>{this._pane.classList.remove(k)}),this._appliedPanelClasses=[])}_getOriginRect(){const k=this._origin;if(k instanceof f.SBq)return k.nativeElement.getBoundingClientRect();if(k instanceof Element)return k.getBoundingClientRect();const x=k.width||0,G=k.height||0;return{top:k.y,bottom:k.y+G,left:k.x,right:k.x+x,height:G,width:x}}}function Xe(de,k){for(let x in k)k.hasOwnProperty(x)&&(de[x]=k[x]);return de}function Ot(de){if("number"!=typeof de&&null!=de){const[k,x]=de.split(Fe);return x&&"px"!==x?null:parseFloat(k)}return de||null}function Yt(de){return{top:Math.floor(de.top),right:Math.floor(de.right),bottom:Math.floor(de.bottom),left:Math.floor(de.left),width:Math.floor(de.width),height:Math.floor(de.height)}}const On="cdk-global-overlay-wrapper";class pi{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(k){const x=k.getConfig();this._overlayRef=k,this._width&&!x.width&&k.updateSize({width:this._width}),this._height&&!x.height&&k.updateSize({height:this._height}),k.hostElement.classList.add(On),this._isDisposed=!1}top(k=""){return this._bottomOffset="",this._topOffset=k,this._alignItems="flex-start",this}left(k=""){return this._xOffset=k,this._xPosition="left",this}bottom(k=""){return this._topOffset="",this._bottomOffset=k,this._alignItems="flex-end",this}right(k=""){return this._xOffset=k,this._xPosition="right",this}start(k=""){return this._xOffset=k,this._xPosition="start",this}end(k=""){return this._xOffset=k,this._xPosition="end",this}width(k=""){return this._overlayRef?this._overlayRef.updateSize({width:k}):this._width=k,this}height(k=""){return this._overlayRef?this._overlayRef.updateSize({height:k}):this._height=k,this}centerHorizontally(k=""){return this.left(k),this._xPosition="center",this}centerVertically(k=""){return this.top(k),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const k=this._overlayRef.overlayElement.style,x=this._overlayRef.hostElement.style,G=this._overlayRef.getConfig(),{width:he,height:Ue,maxWidth:ft,maxHeight:Pt}=G,nn=!("100%"!==he&&"100vw"!==he||ft&&"100%"!==ft&&"100vw"!==ft),Tn=!("100%"!==Ue&&"100vh"!==Ue||Pt&&"100%"!==Pt&&"100vh"!==Pt),kn=this._xPosition,bi=this._xOffset,or="rtl"===this._overlayRef.getConfig().direction;let Tr="",Ir="",Fn="";nn?Fn="flex-start":"center"===kn?(Fn="center",or?Ir=bi:Tr=bi):or?"left"===kn||"end"===kn?(Fn="flex-end",Tr=bi):("right"===kn||"start"===kn)&&(Fn="flex-start",Ir=bi):"left"===kn||"start"===kn?(Fn="flex-start",Tr=bi):("right"===kn||"end"===kn)&&(Fn="flex-end",Ir=bi),k.position=this._cssPosition,k.marginLeft=nn?"0":Tr,k.marginTop=Tn?"0":this._topOffset,k.marginBottom=this._bottomOffset,k.marginRight=nn?"0":Ir,x.justifyContent=Fn,x.alignItems=Tn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const k=this._overlayRef.overlayElement.style,x=this._overlayRef.hostElement,G=x.style;x.classList.remove(On),G.justifyContent=G.alignItems=k.marginTop=k.marginBottom=k.marginLeft=k.marginRight=k.position="",this._overlayRef=null,this._isDisposed=!0}}let gr=(()=>{class de{constructor(x,G,he,Ue){this._viewportRuler=x,this._document=G,this._platform=he,this._overlayContainer=Ue}global(){return new pi}flexibleConnectedTo(x){return new He(x,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(Jt),f.LFG(wn.K0),f.LFG(Qn.t4),f.LFG(ns))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),Yn=0,Ki=(()=>{class de{constructor(x,G,he,Ue,ft,Pt,nn,Tn,kn,bi,or,Tr){this.scrollStrategies=x,this._overlayContainer=G,this._componentFactoryResolver=he,this._positionBuilder=Ue,this._keyboardDispatcher=ft,this._injector=Pt,this._ngZone=nn,this._document=Tn,this._directionality=kn,this._location=bi,this._outsideClickDispatcher=or,this._animationsModuleType=Tr}create(x){const G=this._createHostElement(),he=this._createPaneElement(G),Ue=this._createPortalOutlet(he),ft=new Ji(x);return ft.direction=ft.direction||this._directionality.value,new Ri(Ue,G,he,ft,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(x){const G=this._document.createElement("div");return G.id="cdk-overlay-"+Yn++,G.classList.add("cdk-overlay-pane"),x.appendChild(G),G}_createHostElement(){const x=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(x),x}_createPortalOutlet(x){return this._appRef||(this._appRef=this._injector.get(f.z2F)),new Be(x,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(zr),f.LFG(ns),f.LFG(f._Vd),f.LFG(gr),f.LFG(xi),f.LFG(f.zs3),f.LFG(f.R0b),f.LFG(wn.K0),f.LFG(Di.Is),f.LFG(wn.Ye),f.LFG(ms),f.LFG(f.QbO,8))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();const Ur={provide:new f.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Ki],useFactory:function to(de){return()=>de.scrollStrategies.reposition()}};let cr=(()=>{class de{}return de.\u0275fac=function(x){return new(x||de)},de.\u0275mod=f.oAB({type:de}),de.\u0275inj=f.cJS({providers:[Ki,Ur],imports:[Di.vT,$e,Ut,Ut]}),de})();var Cr=B(1842),Si=B(9521),Dr=B(9770);function no(de,k){}class io{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Qs=(()=>{class de extends Qe{constructor(x,G,he,Ue,ft,Pt,nn,Tn){super(),this._elementRef=x,this._focusTrapFactory=G,this._config=Ue,this._interactivityChecker=ft,this._ngZone=Pt,this._overlayRef=nn,this._focusMonitor=Tn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=kn=>{this._portalOutlet.hasAttached();const bi=this._portalOutlet.attachDomPortal(kn);return this._contentAttached(),bi},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=he}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(x){this._portalOutlet.hasAttached();const G=this._portalOutlet.attachComponentPortal(x);return this._contentAttached(),G}attachTemplatePortal(x){this._portalOutlet.hasAttached();const G=this._portalOutlet.attachTemplatePortal(x);return this._contentAttached(),G}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(x,G){this._interactivityChecker.isFocusable(x)||(x.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const he=()=>{x.removeEventListener("blur",he),x.removeEventListener("mousedown",he),x.removeAttribute("tabindex")};x.addEventListener("blur",he),x.addEventListener("mousedown",he)})),x.focus(G)}_focusByCssSelector(x,G){let he=this._elementRef.nativeElement.querySelector(x);he&&this._forceFocus(he,G)}_trapFocus(){const x=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||x.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(G=>{G||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const x=this._config.restoreFocus;let G=null;if("string"==typeof x?G=this._document.querySelector(x):"boolean"==typeof x?G=x?this._elementFocusedBeforeDialogWasOpened:null:x&&(G=x),this._config.restoreFocus&&G&&"function"==typeof G.focus){const he=(0,Qn.ht)(),Ue=this._elementRef.nativeElement;(!he||he===this._document.body||he===Ue||Ue.contains(he))&&(this._focusMonitor?(this._focusMonitor.focusVia(G,this._closeInteractionType),this._closeInteractionType=null):G.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const x=this._elementRef.nativeElement,G=(0,Qn.ht)();return x===G||x.contains(G)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Qn.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return de.\u0275fac=function(x){return new(x||de)(f.Y36(f.SBq),f.Y36(Cr.qV),f.Y36(wn.K0,8),f.Y36(io),f.Y36(Cr.ic),f.Y36(f.R0b),f.Y36(Ri),f.Y36(Cr.tE))},de.\u0275cmp=f.Xpm({type:de,selectors:[["cdk-dialog-container"]],viewQuery:function(x,G){if(1&x&&f.Gf(te,7),2&x){let he;f.iGM(he=f.CRH())&&(G._portalOutlet=he.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(x,G){2&x&&f.uIk("id",G._config.id||null)("role",G._config.role)("aria-modal",G._config.ariaModal)("aria-labelledby",G._config.ariaLabel?null:G._ariaLabelledBy)("aria-label",G._config.ariaLabel)("aria-describedby",G._config.ariaDescribedBy||null)},features:[f.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(x,G){1&x&&f.YNc(0,no,0,0,"ng-template",0)},dependencies:[te],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),de})();class Us{constructor(k,x){this.overlayRef=k,this.config=x,this.closed=new le.x,this.disableClose=x.disableClose,this.backdropClick=k.backdropClick(),this.keydownEvents=k.keydownEvents(),this.outsidePointerEvents=k.outsidePointerEvents(),this.id=x.id,this.keydownEvents.subscribe(G=>{G.keyCode===Si.hY&&!this.disableClose&&!(0,Si.Vb)(G)&&(G.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=k.detachments().subscribe(()=>{!1!==x.closeOnOverlayDetachments&&this.close()})}close(k,x){if(this.containerInstance){const G=this.closed;this.containerInstance._closeInteractionType=x?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),G.next(k),G.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(k="",x=""){return this.overlayRef.updateSize({width:k,height:x}),this}addPanelClass(k){return this.overlayRef.addPanelClass(k),this}removePanelClass(k){return this.overlayRef.removePanelClass(k),this}}const vr=new f.OlP("DialogScrollStrategy"),Hs=new f.OlP("DialogData"),ji=new f.OlP("DefaultDialogConfig"),Mr={provide:vr,deps:[Ki],useFactory:function ir(de){return()=>de.scrollStrategies.block()}};let ws=0,Ui=(()=>{class de{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(x,G,he,Ue,ft,Pt){this._overlay=x,this._injector=G,this._defaultOptions=he,this._parentDialog=Ue,this._overlayContainer=ft,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new le.x,this._afterOpenedAtThisLevel=new le.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Dr.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ci.O)(void 0))),this._scrollStrategy=Pt}open(x,G){(G={...this._defaultOptions||new io,...G}).id=G.id||"cdk-dialog-"+ws++,G.id&&this.getDialogById(G.id);const Ue=this._getOverlayConfig(G),ft=this._overlay.create(Ue),Pt=new Us(ft,G),nn=this._attachContainer(ft,Pt,G);return Pt.containerInstance=nn,this._attachDialogContent(x,Pt,nn,G),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Pt),Pt.closed.subscribe(()=>this._removeOpenDialog(Pt,!0)),this.afterOpened.next(Pt),Pt}closeAll(){ur(this.openDialogs,x=>x.close())}getDialogById(x){return this.openDialogs.find(G=>G.id===x)}ngOnDestroy(){ur(this._openDialogsAtThisLevel,x=>{!1===x.config.closeOnDestroy&&this._removeOpenDialog(x,!1)}),ur(this._openDialogsAtThisLevel,x=>x.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(x){const G=new Ji({positionStrategy:x.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:x.scrollStrategy||this._scrollStrategy(),panelClass:x.panelClass,hasBackdrop:x.hasBackdrop,direction:x.direction,minWidth:x.minWidth,minHeight:x.minHeight,maxWidth:x.maxWidth,maxHeight:x.maxHeight,width:x.width,height:x.height,disposeOnNavigation:x.closeOnNavigation});return x.backdropClass&&(G.backdropClass=x.backdropClass),G}_attachContainer(x,G,he){const Ue=he.injector||he.viewContainerRef?.injector,ft=[{provide:io,useValue:he},{provide:Us,useValue:G},{provide:Ri,useValue:x}];let Pt;he.container?"function"==typeof he.container?Pt=he.container:(Pt=he.container.type,ft.push(...he.container.providers(he))):Pt=Qs;const nn=new be(Pt,he.viewContainerRef,f.zs3.create({parent:Ue||this._injector,providers:ft}),he.componentFactoryResolver);return x.attach(nn).instance}_attachDialogContent(x,G,he,Ue){if(x instanceof f.Rgc){const ft=this._createInjector(Ue,G,he,void 0);let Pt={$implicit:Ue.data,dialogRef:G};Ue.templateContext&&(Pt={...Pt,..."function"==typeof Ue.templateContext?Ue.templateContext():Ue.templateContext}),he.attachTemplatePortal(new Ve(x,null,Pt,ft))}else{const ft=this._createInjector(Ue,G,he,this._injector),Pt=he.attachComponentPortal(new be(x,Ue.viewContainerRef,ft,Ue.componentFactoryResolver));G.componentInstance=Pt.instance}}_createInjector(x,G,he,Ue){const ft=x.injector||x.viewContainerRef?.injector,Pt=[{provide:Hs,useValue:x.data},{provide:Us,useValue:G}];return x.providers&&("function"==typeof x.providers?Pt.push(...x.providers(G,x,he)):Pt.push(...x.providers)),x.direction&&(!ft||!ft.get(Di.Is,null,{optional:!0}))&&Pt.push({provide:Di.Is,useValue:{value:x.direction,change:(0,Ne.of)()}}),f.zs3.create({parent:ft||Ue,providers:Pt})}_removeOpenDialog(x,G){const he=this.openDialogs.indexOf(x);he>-1&&(this.openDialogs.splice(he,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Ue,ft)=>{Ue?ft.setAttribute("aria-hidden",Ue):ft.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),G&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const x=this._overlayContainer.getContainerElement();if(x.parentElement){const G=x.parentElement.children;for(let he=G.length-1;he>-1;he--){const Ue=G[he];Ue!==x&&"SCRIPT"!==Ue.nodeName&&"STYLE"!==Ue.nodeName&&!Ue.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Ue,Ue.getAttribute("aria-hidden")),Ue.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const x=this._parentDialog;return x?x._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(Ki),f.LFG(f.zs3),f.LFG(ji,8),f.LFG(de,12),f.LFG(ns),f.LFG(vr))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac}),de})();function ur(de,k){let x=de.length;for(;x--;)k(de[x])}let Ms=(()=>{class de{}return de.\u0275fac=function(x){return new(x||de)},de.\u0275mod=f.oAB({type:de}),de.\u0275inj=f.cJS({providers:[Ui,Mr],imports:[cr,$e,Cr.rt,$e]}),de})();var gs=B(3238);function js(de,k){}B(7340);class ro{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const go="mdc-dialog--open",Os="mdc-dialog--opening",Cs="mdc-dialog--closing";let Xs=(()=>{class de extends Qs{constructor(x,G,he,Ue,ft,Pt,nn,Tn){super(x,G,he,Ue,ft,Pt,nn,Tn),this._animationStateChanged=new f.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(x){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:x})}}return de.\u0275fac=function(x){return new(x||de)(f.Y36(f.SBq),f.Y36(Cr.qV),f.Y36(wn.K0,8),f.Y36(ro),f.Y36(Cr.ic),f.Y36(f.R0b),f.Y36(Ri),f.Y36(Cr.tE))},de.\u0275cmp=f.Xpm({type:de,selectors:[["ng-component"]],features:[f.qOj],decls:0,vars:0,template:function(x,G){},encapsulation:2}),de})();const Do="--mat-dialog-transition-duration";function To(de){return null==de?null:"number"==typeof de?de:de.endsWith("ms")?(0,p.su)(de.substring(0,de.length-2)):de.endsWith("s")?1e3*(0,p.su)(de.substring(0,de.length-1)):"0"===de?0:null}let us=(()=>{class de extends Xs{constructor(x,G,he,Ue,ft,Pt,nn,Tn,kn){super(x,G,he,Ue,ft,Pt,nn,kn),this._animationMode=Tn,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?To(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?To(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Do,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Os),this._hostElement.classList.add(go),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(go),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(go),this._animationsEnabled?(this._hostElement.style.setProperty(Do,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(Cs),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Os),this._hostElement.classList.remove(Cs)}_waitForAnimationToComplete(x,G){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(G,x)}}return de.\u0275fac=function(x){return new(x||de)(f.Y36(f.SBq),f.Y36(Cr.qV),f.Y36(wn.K0,8),f.Y36(ro),f.Y36(Cr.ic),f.Y36(f.R0b),f.Y36(Ri),f.Y36(f.QbO,8),f.Y36(Cr.tE))},de.\u0275cmp=f.Xpm({type:de,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(x,G){2&x&&(f.Ikx("id",G._config.id),f.uIk("aria-modal",G._config.ariaModal)("role",G._config.role)("aria-labelledby",G._config.ariaLabel?null:G._ariaLabelledBy)("aria-label",G._config.ariaLabel)("aria-describedby",G._config.ariaDescribedBy||null),f.ekj("_mat-animation-noopable",!G._animationsEnabled))},features:[f.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(x,G){1&x&&(f.TgZ(0,"div",0)(1,"div",1),f.YNc(2,js,0,0,"ng-template",2),f.qZA()())},dependencies:[te],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),de})();class Io{constructor(k,x,G){this._ref=k,this._containerInstance=G,this._afterOpened=new le.x,this._beforeClosed=new le.x,this._state=0,this.disableClose=x.disableClose,this.id=k.id,G._animationStateChanged.pipe((0,Un.h)(he=>"opened"===he.state),(0,De.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),G._animationStateChanged.pipe((0,Un.h)(he=>"closed"===he.state),(0,De.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),k.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,nt.T)(this.backdropClick(),this.keydownEvents().pipe((0,Un.h)(he=>he.keyCode===Si.hY&&!this.disableClose&&!(0,Si.Vb)(he)))).subscribe(he=>{this.disableClose||(he.preventDefault(),hr(this,"keydown"===he.type?"keyboard":"mouse"))})}close(k){this._result=k,this._containerInstance._animationStateChanged.pipe((0,Un.h)(x=>"closing"===x.state),(0,De.q)(1)).subscribe(x=>{this._beforeClosed.next(k),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),x.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(k){let x=this._ref.config.positionStrategy;return k&&(k.left||k.right)?k.left?x.left(k.left):x.right(k.right):x.centerHorizontally(),k&&(k.top||k.bottom)?k.top?x.top(k.top):x.bottom(k.bottom):x.centerVertically(),this._ref.updatePosition(),this}updateSize(k="",x=""){return this._ref.updateSize(k,x),this}addPanelClass(k){return this._ref.addPanelClass(k),this}removePanelClass(k){return this._ref.removePanelClass(k),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function hr(de,k,x){return de._closeInteractionType=k,de.close(x)}const so=new f.OlP("MatMdcDialogData"),Ds=new f.OlP("mat-mdc-dialog-default-options"),Ps=new f.OlP("mat-mdc-dialog-scroll-strategy"),$s={provide:Ps,deps:[Ki],useFactory:function _s(de){return()=>de.scrollStrategies.block()}};let zs=0,oo=(()=>{class de{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const x=this._parentDialog;return x?x._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(x,G,he,Ue,ft,Pt,nn,Tn,kn,bi){this._overlay=x,this._defaultOptions=he,this._parentDialog=Ue,this._dialogRefConstructor=nn,this._dialogContainerType=Tn,this._dialogDataToken=kn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new le.x,this._afterOpenedAtThisLevel=new le.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=ro,this.afterAllClosed=(0,Dr.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ci.O)(void 0))),this._scrollStrategy=Pt,this._dialog=G.get(Ui)}open(x,G){let he;(G={...this._defaultOptions||new ro,...G}).id=G.id||`${this._idPrefix}${zs++}`,G.scrollStrategy=G.scrollStrategy||this._scrollStrategy();const Ue=this._dialog.open(x,{...G,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:G},{provide:io,useValue:G}]},templateContext:()=>({dialogRef:he}),providers:(ft,Pt,nn)=>(he=new this._dialogRefConstructor(ft,G,nn),he.updatePosition(G?.position),[{provide:this._dialogContainerType,useValue:nn},{provide:this._dialogDataToken,useValue:Pt.data},{provide:this._dialogRefConstructor,useValue:he}])});return he.componentInstance=Ue.componentInstance,this.openDialogs.push(he),this.afterOpened.next(he),he.afterClosed().subscribe(()=>{const ft=this.openDialogs.indexOf(he);ft>-1&&(this.openDialogs.splice(ft,1),this.openDialogs.length||this._getAfterAllClosed().next())}),he}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(x){return this.openDialogs.find(G=>G.id===x)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(x){let G=x.length;for(;G--;)x[G].close()}}return de.\u0275fac=function(x){f.$Z()},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac}),de})(),cs=(()=>{class de extends oo{constructor(x,G,he,Ue,ft,Pt,nn,Tn){super(x,G,Ue,Pt,nn,ft,Io,us,so,Tn),this._idPrefix="mat-mdc-dialog-"}}return de.\u0275fac=function(x){return new(x||de)(f.LFG(Ki),f.LFG(f.zs3),f.LFG(wn.Ye,8),f.LFG(Ds,8),f.LFG(Ps),f.LFG(de,12),f.LFG(ns),f.LFG(f.QbO,8))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac}),de})(),ks=(()=>{class de{constructor(x,G,he){this.dialogRef=x,this._elementRef=G,this._dialog=he,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function Wr(de,k){let x=de.nativeElement.parentElement;for(;x&&!x.classList.contains("mat-mdc-dialog-container");)x=x.parentElement;return x?k.find(G=>G.id===x.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(x){const G=x._matDialogClose||x._matDialogCloseResult;G&&(this.dialogResult=G.currentValue)}_onButtonClick(x){hr(this.dialogRef,0===x.screenX&&0===x.screenY?"keyboard":"mouse",this.dialogResult)}}return de.\u0275fac=function(x){return new(x||de)(f.Y36(Io,8),f.Y36(f.SBq),f.Y36(cs))},de.\u0275dir=f.lG2({type:de,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(x,G){1&x&&f.NdJ("click",function(Ue){return G._onButtonClick(Ue)}),2&x&&f.uIk("aria-label",G.ariaLabel||null)("type",G.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[f.TTD]}),de})(),Ts=(()=>{class de{}return de.\u0275fac=function(x){return new(x||de)},de.\u0275mod=f.oAB({type:de}),de.\u0275inj=f.cJS({providers:[cs,$s],imports:[Ms,cr,$e,gs.BQ,gs.BQ]}),de})()},9549:(bn,ot,B)=>{B.d(ot,{TO:()=>st,lN:()=>lr});var p=B(1571),f=B(6895),Ne=(B(7340),B(9643)),Pe=B(3238);let Xt=0;const tt=new p.OlP("MatError");let st=(()=>{class xt{constructor(Rt,zt){this.id="mat-mdc-error-"+Xt++,Rt||zt.nativeElement.setAttribute("aria-live","polite")}}return xt.\u0275fac=function(Rt){return new(Rt||xt)(p.$8M("aria-live"),p.Y36(p.SBq))},xt.\u0275dir=p.lG2({type:xt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Rt,zt){2&Rt&&p.Ikx("id",zt.id)},inputs:{id:"id"},features:[p._Bn([{provide:tt,useExisting:xt}])]}),xt})(),lr=(()=>{class xt{}return xt.\u0275fac=function(Rt){return new(Rt||xt)},xt.\u0275mod=p.oAB({type:xt}),xt.\u0275inj=p.cJS({imports:[Pe.BQ,f.ez,Ne.Q8,Pe.BQ]}),xt})()},1481:(bn,ot,B)=>{B.d(ot,{Dx:()=>Rt,H7:()=>Ve,b2:()=>Wn,q6:()=>Di,se:()=>Xt});var p=B(6895),f=B(1571);class le extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ne extends le{static makeCurrent(){(0,p.HT)(new Ne)}onAndCancel(Re,me,ie){return Re.addEventListener(me,ie,!1),()=>{Re.removeEventListener(me,ie,!1)}}dispatchEvent(Re,me){Re.dispatchEvent(me)}remove(Re){Re.parentNode&&Re.parentNode.removeChild(Re)}createElement(Re,me){return(me=me||this.getDefaultDocument()).createElement(Re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Re){return Re.nodeType===Node.ELEMENT_NODE}isShadowRoot(Re){return Re instanceof DocumentFragment}getGlobalEventTarget(Re,me){return"window"===me?window:"document"===me?Re:"body"===me?Re.body:null}getBaseHref(Re){const me=function _e(){return Pe=Pe||document.querySelector("base"),Pe?Pe.getAttribute("href"):null}();return null==me?null:function Ae(Be){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",Be);const Re=Ie.pathname;return"/"===Re.charAt(0)?Re:`/${Re}`}(me)}resetBaseElement(){Pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(Re){return(0,p.Mx)(document.cookie,Re)}}let Ie,Pe=null;const Ge=new f.OlP("TRANSITION_ID"),Se=[{provide:f.ip1,useFactory:function ce(Be,Re,me){return()=>{me.get(f.CZH).donePromise.then(()=>{const ie=(0,p.q)(),te=Re.querySelectorAll(`style[ng-transition="${Be}"]`);for(let re=0;re<te.length;re++)ie.remove(te[re])})}},deps:[Ge,p.K0,f.zs3],multi:!0}];let Dt=(()=>{class Be{build(){return new XMLHttpRequest}}return Be.\u0275fac=function(me){return new(me||Be)},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const gt=new f.OlP("EventManagerPlugins");let Lt=(()=>{class Be{constructor(me,ie){this._zone=ie,this._eventNameToPlugin=new Map,me.forEach(te=>{te.manager=this}),this._plugins=me.slice().reverse()}addEventListener(me,ie,te){return this._findPluginFor(ie).addEventListener(me,ie,te)}addGlobalEventListener(me,ie,te){return this._findPluginFor(ie).addGlobalEventListener(me,ie,te)}getZone(){return this._zone}_findPluginFor(me){const ie=this._eventNameToPlugin.get(me);if(ie)return ie;const te=this._plugins;for(let re=0;re<te.length;re++){const $e=te[re];if($e.supports(me))return this._eventNameToPlugin.set(me,$e),$e}throw new Error(`No event manager plugin found for event ${me}`)}}return Be.\u0275fac=function(me){return new(me||Be)(f.LFG(gt),f.LFG(f.R0b))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac}),Be})();class _t{constructor(Re){this._doc=Re}addGlobalEventListener(Re,me,ie){const te=(0,p.q)().getGlobalEventTarget(this._doc,Re);if(!te)throw new Error(`Unsupported event target ${te} for event ${me}`);return this.addEventListener(te,me,ie)}}let Ht=(()=>{class Be{constructor(){this.usageCount=new Map}addStyles(me){for(const ie of me)1===this.changeUsageCount(ie,1)&&this.onStyleAdded(ie)}removeStyles(me){for(const ie of me)0===this.changeUsageCount(ie,-1)&&this.onStyleRemoved(ie)}onStyleRemoved(me){}onStyleAdded(me){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(me,ie){const te=this.usageCount;let re=te.get(me)??0;return re+=ie,re>0?te.set(me,re):te.delete(me),re}ngOnDestroy(){for(const me of this.getAllStyles())this.onStyleRemoved(me);this.usageCount.clear()}}return Be.\u0275fac=function(me){return new(me||Be)},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),Qt=(()=>{class Be extends Ht{constructor(me){super(),this.doc=me,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(me){for(const ie of this.hostNodes)this.addStyleToHost(ie,me)}onStyleRemoved(me){const ie=this.styleRef;ie.get(me)?.forEach(re=>re.remove()),ie.delete(me)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(me){this.hostNodes.add(me);for(const ie of this.getAllStyles())this.addStyleToHost(me,ie)}removeHost(me){this.hostNodes.delete(me)}addStyleToHost(me,ie){const te=this.doc.createElement("style");te.textContent=ie,me.appendChild(te);const re=this.styleRef.get(ie);re?re.push(te):this.styleRef.set(ie,[te])}resetHostNodes(){const me=this.hostNodes;me.clear(),me.add(this.doc.head)}}return Be.\u0275fac=function(me){return new(me||Be)(f.LFG(p.K0))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const gn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pn=/%COMP%/g,rt=new f.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Zt(Be,Re){return Re.flat(100).map(me=>me.replace(Pn,Be))}function wt(Be){return Re=>{if("__ngUnwrap__"===Re)return Be;!1===Be(Re)&&(Re.preventDefault(),Re.returnValue=!1)}}let Xt=(()=>{class Be{constructor(me,ie,te,re){this.eventManager=me,this.sharedStylesHost=ie,this.appId=te,this.removeStylesOnCompDestory=re,this.rendererByCompId=new Map,this.defaultRenderer=new tt(me)}createRenderer(me,ie){if(!me||!ie)return this.defaultRenderer;const te=this.getOrCreateRenderer(me,ie);return te instanceof pn?te.applyToHost(me):te instanceof Vt&&te.applyStyles(),te}getOrCreateRenderer(me,ie){const te=this.rendererByCompId;let re=te.get(ie.id);if(!re){const $e=this.eventManager,ze=this.sharedStylesHost,nt=this.removeStylesOnCompDestory;switch(ie.encapsulation){case f.ifc.Emulated:re=new pn($e,ze,ie,this.appId,nt);break;case f.ifc.ShadowDom:return new Wt($e,ze,me,ie);default:re=new Vt($e,ze,ie,nt)}re.onDestroy=()=>te.delete(ie.id),te.set(ie.id,re)}return re}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Be.\u0275fac=function(me){return new(me||Be)(f.LFG(Lt),f.LFG(Qt),f.LFG(f.AFp),f.LFG(rt))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac}),Be})();class tt{constructor(Re){this.eventManager=Re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Re,me){return me?document.createElementNS(gn[me]||me,Re):document.createElement(Re)}createComment(Re){return document.createComment(Re)}createText(Re){return document.createTextNode(Re)}appendChild(Re,me){(St(Re)?Re.content:Re).appendChild(me)}insertBefore(Re,me,ie){Re&&(St(Re)?Re.content:Re).insertBefore(me,ie)}removeChild(Re,me){Re&&Re.removeChild(me)}selectRootElement(Re,me){let ie="string"==typeof Re?document.querySelector(Re):Re;if(!ie)throw new Error(`The selector "${Re}" did not match any elements`);return me||(ie.textContent=""),ie}parentNode(Re){return Re.parentNode}nextSibling(Re){return Re.nextSibling}setAttribute(Re,me,ie,te){if(te){me=te+":"+me;const re=gn[te];re?Re.setAttributeNS(re,me,ie):Re.setAttribute(me,ie)}else Re.setAttribute(me,ie)}removeAttribute(Re,me,ie){if(ie){const te=gn[ie];te?Re.removeAttributeNS(te,me):Re.removeAttribute(`${ie}:${me}`)}else Re.removeAttribute(me)}addClass(Re,me){Re.classList.add(me)}removeClass(Re,me){Re.classList.remove(me)}setStyle(Re,me,ie,te){te&(f.JOm.DashCase|f.JOm.Important)?Re.style.setProperty(me,ie,te&f.JOm.Important?"important":""):Re.style[me]=ie}removeStyle(Re,me,ie){ie&f.JOm.DashCase?Re.style.removeProperty(me):Re.style[me]=""}setProperty(Re,me,ie){Re[me]=ie}setValue(Re,me){Re.nodeValue=me}listen(Re,me,ie){return"string"==typeof Re?this.eventManager.addGlobalEventListener(Re,me,wt(ie)):this.eventManager.addEventListener(Re,me,wt(ie))}}function St(Be){return"TEMPLATE"===Be.tagName&&void 0!==Be.content}class Wt extends tt{constructor(Re,me,ie,te){super(Re),this.sharedStylesHost=me,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const re=Zt(te.id,te.styles);for(const $e of re){const ze=document.createElement("style");ze.textContent=$e,this.shadowRoot.appendChild(ze)}}nodeOrShadowRoot(Re){return Re===this.hostEl?this.shadowRoot:Re}appendChild(Re,me){return super.appendChild(this.nodeOrShadowRoot(Re),me)}insertBefore(Re,me,ie){return super.insertBefore(this.nodeOrShadowRoot(Re),me,ie)}removeChild(Re,me){return super.removeChild(this.nodeOrShadowRoot(Re),me)}parentNode(Re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Re)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vt extends tt{constructor(Re,me,ie,te,re=ie.id){super(Re),this.sharedStylesHost=me,this.removeStylesOnCompDestory=te,this.rendererUsageCount=0,this.styles=Zt(re,ie.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class pn extends Vt{constructor(Re,me,ie,te,re){const $e=te+"-"+ie.id;super(Re,me,ie,re,$e),this.contentAttr=function lt(Be){return"_ngcontent-%COMP%".replace(Pn,Be)}($e),this.hostAttr=function $t(Be){return"_nghost-%COMP%".replace(Pn,Be)}($e)}applyToHost(Re){this.applyStyles(),this.setAttribute(Re,this.hostAttr,"")}createElement(Re,me){const ie=super.createElement(Re,me);return super.setAttribute(ie,this.contentAttr,""),ie}}let ht=(()=>{class Be extends _t{constructor(me){super(me)}supports(me){return!0}addEventListener(me,ie,te){return me.addEventListener(ie,te,!1),()=>this.removeEventListener(me,ie,te)}removeEventListener(me,ie,te){return me.removeEventListener(ie,te)}}return Be.\u0275fac=function(me){return new(me||Be)(f.LFG(p.K0))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const jt=["alt","control","meta","shift"],We={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},et={alt:Be=>Be.altKey,control:Be=>Be.ctrlKey,meta:Be=>Be.metaKey,shift:Be=>Be.shiftKey};let Tt=(()=>{class Be extends _t{constructor(me){super(me)}supports(me){return null!=Be.parseEventName(me)}addEventListener(me,ie,te){const re=Be.parseEventName(ie),$e=Be.eventCallback(re.fullKey,te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(me,re.domEventName,$e))}static parseEventName(me){const ie=me.toLowerCase().split("."),te=ie.shift();if(0===ie.length||"keydown"!==te&&"keyup"!==te)return null;const re=Be._normalizeKey(ie.pop());let $e="",ze=ie.indexOf("code");if(ze>-1&&(ie.splice(ze,1),$e="code."),jt.forEach(Bt=>{const mn=ie.indexOf(Bt);mn>-1&&(ie.splice(mn,1),$e+=Bt+".")}),$e+=re,0!=ie.length||0===re.length)return null;const nt={};return nt.domEventName=te,nt.fullKey=$e,nt}static matchEventFullKeyCode(me,ie){let te=We[me.key]||me.key,re="";return ie.indexOf("code.")>-1&&(te=me.code,re="code."),!(null==te||!te)&&(te=te.toLowerCase()," "===te?te="space":"."===te&&(te="dot"),jt.forEach($e=>{$e!==te&&(0,et[$e])(me)&&(re+=$e+".")}),re+=te,re===ie)}static eventCallback(me,ie,te){return re=>{Be.matchEventFullKeyCode(re,me)&&te.runGuarded(()=>ie(re))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return Be.\u0275fac=function(me){return new(me||Be)(f.LFG(p.K0))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const Di=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:p.bD},{provide:f.g9A,useValue:function Bn(){Ne.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function Qn(){return(0,f.RDi)(document),document},deps:[]}]),Jn=new f.OlP(""),di=[{provide:f.rWj,useClass:class Ze{addToWindow(Re){f.dqk.getAngularTestability=(ie,te=!0)=>{const re=Re.findTestabilityInTree(ie,te);if(null==re)throw new Error("Could not find testability for element.");return re},f.dqk.getAllAngularTestabilities=()=>Re.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>Re.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(ie=>{const te=f.dqk.getAllAngularTestabilities();let re=te.length,$e=!1;const ze=function(nt){$e=$e||nt,re--,0==re&&ie($e)};te.forEach(function(nt){nt.whenStable(ze)})})}findTestabilityInTree(Re,me,ie){return null==me?null:Re.getTestability(me)??(ie?(0,p.q)().isShadowRoot(me)?this.findTestabilityInTree(Re,me.host,!0):this.findTestabilityInTree(Re,me.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],gi=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function ci(){return new f.qLn},deps:[]},{provide:gt,useClass:ht,multi:!0,deps:[p.K0,f.R0b,f.Lbi]},{provide:gt,useClass:Tt,multi:!0,deps:[p.K0]},{provide:Xt,useClass:Xt,deps:[Lt,Qt,f.AFp,rt]},{provide:f.FYo,useExisting:Xt},{provide:Ht,useExisting:Qt},{provide:Qt,useClass:Qt,deps:[p.K0]},{provide:Lt,useClass:Lt,deps:[gt,f.R0b]},{provide:p.JF,useClass:Dt,deps:[]},[]];let Wn=(()=>{class Be{constructor(me){}static withServerTransition(me){return{ngModule:Be,providers:[{provide:f.AFp,useValue:me.appId},{provide:Ge,useExisting:f.AFp},Se]}}}return Be.\u0275fac=function(me){return new(me||Be)(f.LFG(Jn,12))},Be.\u0275mod=f.oAB({type:Be}),Be.\u0275inj=f.cJS({providers:[...gi,...di],imports:[p.ez,f.hGG]}),Be})(),Rt=(()=>{class Be{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}}return Be.\u0275fac=function(me){return new(me||Be)(f.LFG(p.K0))},Be.\u0275prov=f.Yz7({token:Be,factory:function(me){let ie=null;return ie=me?new me:function yn(){return new Rt((0,f.LFG)(p.K0))}(),ie},providedIn:"root"}),Be})();typeof window<"u"&&window;let Ve=(()=>{class Be{}return Be.\u0275fac=function(me){return new(me||Be)},Be.\u0275prov=f.Yz7({token:Be,factory:function(me){let ie=null;return ie=me?new(me||Be):f.LFG(Qe),ie},providedIn:"root"}),Be})(),Qe=(()=>{class Be extends Ve{constructor(me){super(),this._doc=me}sanitize(me,ie){if(null==ie)return null;switch(me){case f.q3G.NONE:return ie;case f.q3G.HTML:return(0,f.qzn)(ie,"HTML")?(0,f.z3N)(ie):(0,f.EiD)(this._doc,String(ie)).toString();case f.q3G.STYLE:return(0,f.qzn)(ie,"Style")?(0,f.z3N)(ie):ie;case f.q3G.SCRIPT:if((0,f.qzn)(ie,"Script"))return(0,f.z3N)(ie);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.qzn)(ie,"URL")?(0,f.z3N)(ie):(0,f.mCW)(String(ie));case f.q3G.RESOURCE_URL:if((0,f.qzn)(ie,"ResourceURL"))return(0,f.z3N)(ie);throw new Error(`unsafe value used in a resource URL context (see ${f.JZr})`);default:throw new Error(`Unexpected SecurityContext ${me} (see ${f.JZr})`)}}bypassSecurityTrustHtml(me){return(0,f.JVY)(me)}bypassSecurityTrustStyle(me){return(0,f.L6k)(me)}bypassSecurityTrustScript(me){return(0,f.eBb)(me)}bypassSecurityTrustUrl(me){return(0,f.LAX)(me)}bypassSecurityTrustResourceUrl(me){return(0,f.pB0)(me)}}return Be.\u0275fac=function(me){return new(me||Be)(f.LFG(p.K0))},Be.\u0275prov=f.Yz7({token:Be,factory:function(me){let ie=null;return ie=me?new me:function dt(Be){return new Qe(Be.get(p.K0))}(f.LFG(f.zs3)),ie},providedIn:"root"}),Be})()},2786:(bn,ot,B)=>{B.d(ot,{gz:()=>Ms,m2:()=>On,wm:()=>Fo,F0:()=>Zr,rH:()=>Br,Od:()=>ps,Bz:()=>wa,lC:()=>Lr});var p=B(1571),f=B(8996),le=B(9646),Ne=B(1135);const _e=(0,B(3888).d)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"});var Ie=B(9841),Ae=B(7272),Ge=B(9770),ce=B(9635),Se=B(9751),Ze=B(576);function Dt(w,C){const y=(0,Ze.m)(w)?w:()=>w,O=j=>j.error(y());return new Se.y(C?j=>C.schedule(O,0,j):O)}var gt=B(515),Lt=B(727),_t=B(4482),Ht=B(5403);function Qt(){return(0,_t.e)((w,C)=>{let y=null;w._refCount++;const O=(0,Ht.x)(C,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(y=null);const j=w._connection,J=y;y=null,j&&(!J||j===J)&&j.unsubscribe(),C.unsubscribe()});w.subscribe(O),O.closed||(y=w.connect())})}class gn extends Se.y{constructor(C,y){super(),this.source=C,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,_t.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new Lt.w0;const y=this.getSubject();C.add(this.source.subscribe((0,Ht.x)(y,void 0,()=>{this._teardown(),y.complete()},O=>{this._teardown(),y.error(O)},()=>this._teardown()))),C.closed&&(this._connection=null,C=Lt.w0.EMPTY)}return C}refCount(){return Qt()(this)}}var Pn=B(7579),Me=B(6895),Ce=B(4004),Oe=B(8421);function ct(w,C){return(0,_t.e)((y,O)=>{let j=null,J=0,oe=!1;const Ye=()=>oe&&!j&&O.complete();y.subscribe((0,Ht.x)(O,kt=>{j?.unsubscribe();let fn=0;const Sn=J++;(0,Oe.Xf)(w(kt,Sn)).subscribe(j=(0,Ht.x)(O,Mi=>O.next(C?C(kt,Mi,Sn,fn++):Mi),()=>{j=null,Ye()}))},()=>{oe=!0,Ye()}))})}var Nt=B(5698),rt=B(8675),lt=B(9300),$t=B(5577);function Zt(w){return(0,_t.e)((C,y)=>{let O=!1;C.subscribe((0,Ht.x)(y,j=>{O=!0,y.next(j)},()=>{O||y.next(w),y.complete()}))})}function wt(w=Xt){return(0,_t.e)((C,y)=>{let O=!1;C.subscribe((0,Ht.x)(y,j=>{O=!0,y.next(j)},()=>O?y.complete():y.error(w())))})}function Xt(){return new _e}var tt=B(4671);function st(w,C){const y=arguments.length>=2;return O=>O.pipe(w?(0,lt.h)((j,J)=>w(j,J,O)):tt.y,(0,Nt.q)(1),y?Zt(C):wt(()=>new _e))}var pt=B(4351),St=B(8505);function Wt(w){return(0,_t.e)((C,y)=>{let J,O=null,j=!1;O=C.subscribe((0,Ht.x)(y,void 0,void 0,oe=>{J=(0,Oe.Xf)(w(oe,Wt(w)(C))),O?(O.unsubscribe(),O=null,J.subscribe(y)):j=!0})),j&&(O.unsubscribe(),O=null,J.subscribe(y))})}function pn(w,C){return(0,_t.e)(function Vt(w,C,y,O,j){return(J,oe)=>{let Ye=y,kt=C,fn=0;J.subscribe((0,Ht.x)(oe,Sn=>{const Mi=fn++;kt=Ye?w(kt,Sn,Mi):(Ye=!0,Sn),O&&oe.next(kt)},j&&(()=>{Ye&&oe.next(kt),oe.complete()})))}}(w,C,arguments.length>=2,!0))}function ht(w){return w<=0?()=>gt.E:(0,_t.e)((C,y)=>{let O=[];C.subscribe((0,Ht.x)(y,j=>{O.push(j),w<O.length&&O.shift()},()=>{for(const j of O)y.next(j);y.complete()},void 0,()=>{O=null}))})}function jt(w,C){const y=arguments.length>=2;return O=>O.pipe(w?(0,lt.h)((j,J)=>w(j,J,O)):tt.y,ht(1),y?Zt(C):wt(()=>new _e))}function Tt(w){return(0,_t.e)((C,y)=>{try{C.subscribe(y)}finally{y.add(w)}})}var un=B(8189),fi=B(1481);const an="primary",dn=Symbol("RouteTitle");class Un{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const y=this.params[C];return Array.isArray(y)?y[0]:y}return null}getAll(C){if(this.has(C)){const y=this.params[C];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Bn(w){return new Un(w)}function ci(w,C,y){const O=y.path.split("/");if(O.length>w.length||"full"===y.pathMatch&&(C.hasChildren()||O.length<w.length))return null;const j={};for(let J=0;J<O.length;J++){const oe=O[J],Ye=w[J];if(oe.startsWith(":"))j[oe.substring(1)]=Ye;else if(oe!==Ye.path)return null}return{consumed:w.slice(0,O.length),posParams:j}}function wn(w,C){const y=w?Object.keys(w):void 0,O=C?Object.keys(C):void 0;if(!y||!O||y.length!=O.length)return!1;let j;for(let J=0;J<y.length;J++)if(j=y[J],!Di(w[j],C[j]))return!1;return!0}function Di(w,C){if(Array.isArray(w)&&Array.isArray(C)){if(w.length!==C.length)return!1;const y=[...w].sort(),O=[...C].sort();return y.every((j,J)=>O[J]===j)}return w===C}function Jn(w){return Array.prototype.concat.apply([],w)}function di(w){return w.length>0?w[w.length-1]:null}function Wn(w,C){for(const y in w)w.hasOwnProperty(y)&&C(w[y],y)}function Ti(w){return(0,p.CqO)(w)?w:(0,p.QGY)(w)?(0,f.D)(Promise.resolve(w)):(0,le.of)(w)}const lr=!1,xt={exact:function Jt(w,C,y){if(!oi(w.segments,C.segments)||!Oi(w.segments,C.segments,y)||w.numberOfChildren!==C.numberOfChildren)return!1;for(const O in C.children)if(!w.children[O]||!Jt(w.children[O],C.children[O],y))return!1;return!0},subset:Gn},yn={exact:function zt(w,C){return wn(w,C)},subset:function ti(w,C){return Object.keys(C).length<=Object.keys(w).length&&Object.keys(C).every(y=>Di(w[y],C[y]))},ignored:()=>!0};function Rt(w,C,y){return xt[y.paths](w.root,C.root,y.matrixParams)&&yn[y.queryParams](w.queryParams,C.queryParams)&&!("exact"===y.fragment&&w.fragment!==C.fragment)}function Gn(w,C,y){return Fi(w,C,C.segments,y)}function Fi(w,C,y,O){if(w.segments.length>y.length){const j=w.segments.slice(0,y.length);return!(!oi(j,y)||C.hasChildren()||!Oi(j,y,O))}if(w.segments.length===y.length){if(!oi(w.segments,y)||!Oi(w.segments,y,O))return!1;for(const j in C.children)if(!w.children[j]||!Gn(w.children[j],C.children[j],O))return!1;return!0}{const j=y.slice(0,w.segments.length),J=y.slice(w.segments.length);return!!(oi(w.segments,j)&&Oi(w.segments,j,O)&&w.children[an])&&Fi(w.children[an],C,J,O)}}function Oi(w,C,y){return C.every((O,j)=>yn[y](w[j].parameters,O.parameters))}class Ii{constructor(C=new xn([],{}),y={},O=null){this.root=C,this.queryParams=y,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bn(this.queryParams)),this._queryParamMap}toString(){return ve.serialize(this)}}class xn{constructor(C,y){this.segments=C,this.children=y,this.parent=null,Wn(y,(O,j)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ge(this)}}class si{constructor(C,y){this.path=C,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Bn(this.parameters)),this._parameterMap}toString(){return dt(this)}}function oi(w,C){return w.length===C.length&&w.every((y,O)=>y.path===C[O].path)}let Ut=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:function(){return new De},providedIn:"root"}),w})();class De{parse(C){const y=new $e(C);return new Ii(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(C){const y=`/${fe(C.root,!0)}`,O=function ln(w){const C=Object.keys(w).map(y=>{const O=w[y];return Array.isArray(O)?O.map(j=>`${at(y)}=${at(j)}`).join("&"):`${at(y)}=${at(O)}`}).filter(y=>!!y);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${y}${O}${"string"==typeof C.fragment?`#${function Mt(w){return encodeURI(w)}(C.fragment)}`:""}`}}const ve=new De;function ge(w){return w.segments.map(C=>dt(C)).join("/")}function fe(w,C){if(!w.hasChildren())return ge(w);if(C){const y=w.children[an]?fe(w.children[an],!1):"",O=[];return Wn(w.children,(j,J)=>{J!==an&&O.push(`${J}:${fe(j,!1)}`)}),O.length>0?`${y}(${O.join("//")})`:y}{const y=function Ar(w,C){let y=[];return Wn(w.children,(O,j)=>{j===an&&(y=y.concat(C(O,j)))}),Wn(w.children,(O,j)=>{j!==an&&(y=y.concat(C(O,j)))}),y}(w,(O,j)=>j===an?[fe(w.children[an],!1)]:[`${j}:${fe(O,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[an]?`${ge(w)}/${y[0]}`:`${ge(w)}/(${y.join("//")})`}}function Te(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function at(w){return Te(w).replace(/%3B/gi,";")}function we(w){return Te(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function be(w){return decodeURIComponent(w)}function Ve(w){return be(w.replace(/\+/g,"%20"))}function dt(w){return`${we(w.path)}${function Qe(w){return Object.keys(w).map(C=>`;${we(C)}=${we(w[C])}`).join("")}(w.parameters)}`}const Be=/^[^\/()?;=#]+/;function Re(w){const C=w.match(Be);return C?C[0]:""}const me=/^[^=?&#]+/,te=/^[^&#]+/;class $e{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xn([],{}):new xn([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(C.length>0||Object.keys(y).length>0)&&(O[an]=new xn(C,y)),O}parseSegment(){const C=Re(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new p.vHH(4009,lr);return this.capture(C),new si(be(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const y=Re(this.remaining);if(!y)return;this.capture(y);let O="";if(this.consumeOptional("=")){const j=Re(this.remaining);j&&(O=j,this.capture(O))}C[be(y)]=be(O)}parseQueryParam(C){const y=function ie(w){const C=w.match(me);return C?C[0]:""}(this.remaining);if(!y)return;this.capture(y);let O="";if(this.consumeOptional("=")){const oe=function re(w){const C=w.match(te);return C?C[0]:""}(this.remaining);oe&&(O=oe,this.capture(O))}const j=Ve(y),J=Ve(O);if(C.hasOwnProperty(j)){let oe=C[j];Array.isArray(oe)||(oe=[oe],C[j]=oe),oe.push(J)}else C[j]=J}parseParens(C){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Re(this.remaining),j=this.remaining[O.length];if("/"!==j&&")"!==j&&";"!==j)throw new p.vHH(4010,lr);let J;O.indexOf(":")>-1?(J=O.slice(0,O.indexOf(":")),this.capture(J),this.capture(":")):C&&(J=an);const oe=this.parseChildren();y[J]=1===Object.keys(oe).length?oe[an]:new xn([],oe),this.consumeOptional("//")}return y}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new p.vHH(4011,lr)}}function ze(w){return w.segments.length>0?new xn([],{[an]:w}):w}function nt(w){const C={};for(const O of Object.keys(w.children)){const J=nt(w.children[O]);(J.segments.length>0||J.hasChildren())&&(C[O]=J)}return function Bt(w){if(1===w.numberOfChildren&&w.children[an]){const C=w.children[an];return new xn(w.segments.concat(C.segments),C.children)}return w}(new xn(w.segments,C))}function mn(w){return w instanceof Ii}const ni=!1;function Ls(w,C,y,O,j){if(0===y.length)return Ji(C.root,C.root,C.root,O,j);const J=function _i(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new as(!0,0,w);let C=0,y=!1;const O=w.reduce((j,J,oe)=>{if("object"==typeof J&&null!=J){if(J.outlets){const Ye={};return Wn(J.outlets,(kt,fn)=>{Ye[fn]="string"==typeof kt?kt.split("/"):kt}),[...j,{outlets:Ye}]}if(J.segmentPath)return[...j,J.segmentPath]}return"string"!=typeof J?[...j,J]:0===oe?(J.split("/").forEach((Ye,kt)=>{0==kt&&"."===Ye||(0==kt&&""===Ye?y=!0:".."===Ye?C++:""!=Ye&&j.push(Ye))}),j):[...j,J]},[]);return new as(y,C,O)}(y);return J.toRoot()?Ji(C.root,C.root,new xn([],{}),O,j):function oe(kt){const fn=function Jr(w,C,y,O){if(w.isAbsolute)return new wi(C.root,!0,0);if(-1===O)return new wi(y,y===C.root,0);return function xi(w,C,y){let O=w,j=C,J=y;for(;J>j;){if(J-=j,O=O.parent,!O)throw new p.vHH(4005,ni&&"Invalid number of '../'");j=O.segments.length}return new wi(O,!1,j-J)}(y,O+(mr(w.commands[0])?0:1),w.numberOfDoubleDots)}(J,C,w.snapshot?._urlSegment,kt),Sn=fn.processChildren?Ri(fn.segmentGroup,fn.index,J.commands):ns(fn.segmentGroup,fn.index,J.commands);return Ji(C.root,fn.segmentGroup,Sn,O,j)}(w.snapshot?._lastPathIndex)}function mr(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function zr(w){return"object"==typeof w&&null!=w&&w.outlets}function Ji(w,C,y,O,j){let oe,J={};O&&Wn(O,(kt,fn)=>{J[fn]=Array.isArray(kt)?kt.map(Sn=>`${Sn}`):`${kt}`}),oe=w===C?y:os(w,C,y);const Ye=ze(nt(oe));return new Ii(Ye,J,j)}function os(w,C,y){const O={};return Wn(w.children,(j,J)=>{O[J]=j===C?y:os(j,C,y)}),new xn(w.segments,O)}class as{constructor(C,y,O){if(this.isAbsolute=C,this.numberOfDoubleDots=y,this.commands=O,C&&O.length>0&&mr(O[0]))throw new p.vHH(4003,ni&&"Root segment cannot have matrix parameters");const j=O.find(zr);if(j&&j!==di(O))throw new p.vHH(4004,ni&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wi{constructor(C,y,O){this.segmentGroup=C,this.processChildren=y,this.index=O}}function ns(w,C,y){if(w||(w=new xn([],{})),0===w.segments.length&&w.hasChildren())return Ri(w,C,y);const O=function yr(w,C,y){let O=0,j=C;const J={match:!1,pathIndex:0,commandIndex:0};for(;j<w.segments.length;){if(O>=y.length)return J;const oe=w.segments[j],Ye=y[O];if(zr(Ye))break;const kt=`${Ye}`,fn=O<y.length-1?y[O+1]:null;if(j>0&&void 0===kt)break;if(kt&&fn&&"object"==typeof fn&&void 0===fn.outlets){if(!Ot(kt,fn,oe))return J;O+=2}else{if(!Ot(kt,{},oe))return J;O++}j++}return{match:!0,pathIndex:j,commandIndex:O}}(w,C,y),j=y.slice(O.commandIndex);if(O.match&&O.pathIndex<w.segments.length){const J=new xn(w.segments.slice(0,O.pathIndex),{});return J.children[an]=new xn(w.segments.slice(O.pathIndex),w.children),Ri(J,0,j)}return O.match&&0===j.length?new xn(w.segments,{}):O.match&&!w.hasChildren()?Fe(w,C,y):O.match?Ri(w,0,j):Fe(w,C,y)}function Ri(w,C,y){if(0===y.length)return new xn(w.segments,{});{const O=function ms(w){return zr(w[0])?w[0].outlets:{[an]:w}}(y),j={};return!O[an]&&w.children[an]&&1===w.numberOfChildren&&0===w.children[an].segments.length?Ri(w.children[an],C,y):(Wn(O,(J,oe)=>{"string"==typeof J&&(J=[J]),null!==J&&(j[oe]=ns(w.children[oe],C,J))}),Wn(w.children,(J,oe)=>{void 0===O[oe]&&(j[oe]=J)}),new xn(w.segments,j))}}function Fe(w,C,y){const O=w.segments.slice(0,C);let j=0;for(;j<y.length;){const J=y[j];if(zr(J)){const kt=He(J.outlets);return new xn(O,kt)}if(0===j&&mr(y[0])){O.push(new si(w.segments[C].path,Xe(y[0]))),j++;continue}const oe=zr(J)?J.outlets[an]:`${J}`,Ye=j<y.length-1?y[j+1]:null;oe&&Ye&&mr(Ye)?(O.push(new si(oe,Xe(Ye))),j+=2):(O.push(new si(oe,{})),j++)}return new xn(O,{})}function He(w){const C={};return Wn(w,(y,O)=>{"string"==typeof y&&(y=[y]),null!==y&&(C[O]=Fe(new xn([],{}),0,y))}),C}function Xe(w){const C={};return Wn(w,(y,O)=>C[O]=`${y}`),C}function Ot(w,C,y){return w==y.path&&wn(C,y.parameters)}const Yt="imperative";class cn{constructor(C,y){this.id=C,this.url=y}}class Xn extends cn{constructor(C,y,O="imperative",j=null){super(C,y),this.type=0,this.navigationTrigger=O,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class On extends cn{constructor(C,y,O){super(C,y),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pi extends cn{constructor(C,y,O,j){super(C,y),this.reason=O,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gr extends cn{constructor(C,y,O,j){super(C,y),this.reason=O,this.code=j,this.type=16}}class Yn extends cn{constructor(C,y,O,j){super(C,y),this.error=O,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ki extends cn{constructor(C,y,O,j){super(C,y),this.urlAfterRedirects=O,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs extends cn{constructor(C,y,O,j){super(C,y),this.urlAfterRedirects=O,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eo extends cn{constructor(C,y,O,j,J){super(C,y),this.urlAfterRedirects=O,this.state=j,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mo extends cn{constructor(C,y,O,j){super(C,y),this.urlAfterRedirects=O,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr extends cn{constructor(C,y,O,j){super(C,y),this.urlAfterRedirects=O,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class to{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ur{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cr{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fr{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cr{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Si{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(C,y,O){this.routerEvent=C,this.position=y,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Bs=(()=>{class w{createUrlTree(y,O,j,J,oe,Ye){return Ls(y||O.root,j,J,oe,Ye)}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac}),w})(),Us=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:function(C){return Bs.\u0275fac(C)},providedIn:"root"}),w})();class vr{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const y=this.pathFromRoot(C);return y.length>1?y[y.length-2]:null}children(C){const y=Hs(C,this._root);return y?y.children.map(O=>O.value):[]}firstChild(C){const y=Hs(C,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(C){const y=ji(C,this._root);return y.length<2?[]:y[y.length-2].children.map(j=>j.value).filter(j=>j!==C)}pathFromRoot(C){return ji(C,this._root).map(y=>y.value)}}function Hs(w,C){if(w===C.value)return C;for(const y of C.children){const O=Hs(w,y);if(O)return O}return null}function ji(w,C){if(w===C.value)return[C];for(const y of C.children){const O=ji(w,y);if(O.length)return O.unshift(C),O}return[]}class ir{constructor(C,y){this.value=C,this.children=y}toString(){return`TreeNode(${this.value})`}}function Mr(w){const C={};return w&&w.children.forEach(y=>C[y.value.outlet]=y),C}class ws extends vr{constructor(C,y){super(C),this.snapshot=y,go(this,C)}toString(){return this.snapshot.toString()}}function Ui(w,C){const y=function ur(w,C){const oe=new js([],{},{},"",{},an,C,null,w.root,-1,{});return new ro("",new ir(oe,[]))}(w,C),O=new Ne.X([new si("",{})]),j=new Ne.X({}),J=new Ne.X({}),oe=new Ne.X({}),Ye=new Ne.X(""),kt=new Ms(O,j,oe,Ye,J,an,C,y.root);return kt.snapshot=y.root,new ws(new ir(kt,[]),y)}class Ms{constructor(C,y,O,j,J,oe,Ye,kt){this.url=C,this.params=y,this.queryParams=O,this.fragment=j,this.data=J,this.outlet=oe,this.component=Ye,this.title=this.data?.pipe((0,Ce.U)(fn=>fn[dn]))??(0,le.of)(void 0),this._futureSnapshot=kt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ce.U)(C=>Bn(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ce.U)(C=>Bn(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gs(w,C="emptyOnly"){const y=w.pathFromRoot;let O=0;if("always"!==C)for(O=y.length-1;O>=1;){const j=y[O],J=y[O-1];if(j.routeConfig&&""===j.routeConfig.path)O--;else{if(J.component)break;O--}}return function dr(w){return w.reduce((C,y)=>({params:{...C.params,...y.params},data:{...C.data,...y.data},resolve:{...y.data,...C.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(O))}class js{get title(){return this.data?.[dn]}constructor(C,y,O,j,J,oe,Ye,kt,fn,Sn,Mi){this.url=C,this.params=y,this.queryParams=O,this.fragment=j,this.data=J,this.outlet=oe,this.component=Ye,this.routeConfig=kt,this._urlSegment=fn,this._lastPathIndex=Sn,this._resolve=Mi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ro extends vr{constructor(C,y){super(y),this.url=C,go(this,y)}toString(){return Os(this._root)}}function go(w,C){C.value._routerState=w,C.children.forEach(y=>go(w,y))}function Os(w){const C=w.children.length>0?` { ${w.children.map(Os).join(", ")} } `:"";return`${w.value}${C}`}function Cs(w){if(w.snapshot){const C=w.snapshot,y=w._futureSnapshot;w.snapshot=y,wn(C.queryParams,y.queryParams)||w.queryParams.next(y.queryParams),C.fragment!==y.fragment&&w.fragment.next(y.fragment),wn(C.params,y.params)||w.params.next(y.params),function Qn(w,C){if(w.length!==C.length)return!1;for(let y=0;y<w.length;++y)if(!wn(w[y],C[y]))return!1;return!0}(C.url,y.url)||w.url.next(y.url),wn(C.data,y.data)||w.data.next(y.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function Rs(w,C){const y=wn(w.params,C.params)&&function pr(w,C){return oi(w,C)&&w.every((y,O)=>wn(y.parameters,C[O].parameters))}(w.url,C.url);return y&&!(!w.parent!=!C.parent)&&(!w.parent||Rs(w.parent,C.parent))}function Xs(w,C,y){if(y&&w.shouldReuseRoute(C.value,y.value.snapshot)){const O=y.value;O._futureSnapshot=C.value;const j=function Do(w,C,y){return C.children.map(O=>{for(const j of y.children)if(w.shouldReuseRoute(O.value,j.value.snapshot))return Xs(w,O,j);return Xs(w,O)})}(w,C,y);return new ir(O,j)}{if(w.shouldAttach(C.value)){const J=w.retrieve(C.value);if(null!==J){const oe=J.route;return oe.value._futureSnapshot=C.value,oe.children=C.children.map(Ye=>Xs(w,Ye)),oe}}const O=function To(w){return new Ms(new Ne.X(w.url),new Ne.X(w.params),new Ne.X(w.queryParams),new Ne.X(w.fragment),new Ne.X(w.data),w.outlet,w.component,w)}(C.value),j=C.children.map(J=>Xs(w,J));return new ir(O,j)}}const us="ngNavigationCancelingError";function Io(w,C){const{redirectTo:y,navigationBehaviorOptions:O}=mn(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,j=hr(!1,0,C);return j.url=y,j.navigationBehaviorOptions=O,j}function hr(w,C,y){const O=new Error("NavigationCancelingError: "+(w||""));return O[us]=!0,O.cancellationCode=C,y&&(O.url=y),O}function so(w){return Ds(w)&&mn(w.url)}function Ds(w){return w&&w[us]}class Ps{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _s,this.attachRef=null}}let _s=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(y,O){const j=this.getOrCreateContext(y);j.outlet=O,this.contexts.set(y,j)}onChildOutletDestroyed(y){const O=this.getContext(y);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let O=this.getContext(y);return O||(O=new Ps,this.contexts.set(y,O)),O}getContext(y){return this.contexts.get(y)||null}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const $s=!1;let Lr=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=an,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(_s),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(y){if(y.name){const{firstChange:O,previousValue:j}=y.name;if(O)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,$s);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,$s);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,$s);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,O){this.activated=y,this._activatedRoute=O,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,O){if(this.isActivated)throw new p.vHH(4013,$s);this._activatedRoute=y;const j=this.location,oe=y.snapshot.component,Ye=this.parentContexts.getOrCreateContext(this.name).children,kt=new zs(y,Ye,j.injector);if(O&&function oo(w){return!!w.resolveComponentFactory}(O)){const fn=O.resolveComponentFactory(oe);this.activated=j.createComponent(fn,j.length,kt)}else this.activated=j.createComponent(oe,{index:j.length,injector:kt,environmentInjector:O??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275dir=p.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),w})();class zs{constructor(C,y,O){this.route=C,this.childContexts=y,this.parent=O}get(C,y){return C===Ms?this.route:C===_s?this.childContexts:this.parent.get(C,y)}}let cs=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275cmp=p.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(y,O){1&y&&p._UZ(0,"router-outlet")},dependencies:[Lr],encapsulation:2}),w})();function Po(w,C){return w.providers&&!w._injector&&(w._injector=(0,p.MMx)(w.providers,C,`Route: ${w.path}`)),w._injector??C}function de(w){const C=w.children&&w.children.map(de),y=C?{...w,children:C}:{...w};return!y.component&&!y.loadComponent&&(C||y.loadChildren)&&y.outlet&&y.outlet!==an&&(y.component=cs),y}function k(w){return w.outlet||an}function x(w,C){const y=w.filter(O=>k(O)===C);return y.push(...w.filter(O=>k(O)!==C)),y}function G(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let C=w.parent;C;C=C.parent){const y=C.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Ue{constructor(C,y,O,j){this.routeReuseStrategy=C,this.futureState=y,this.currState=O,this.forwardEvent=j}activate(C){const y=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,O,C),Cs(this.futureState.root),this.activateChildRoutes(y,O,C)}deactivateChildRoutes(C,y,O){const j=Mr(y);C.children.forEach(J=>{const oe=J.value.outlet;this.deactivateRoutes(J,j[oe],O),delete j[oe]}),Wn(j,(J,oe)=>{this.deactivateRouteAndItsChildren(J,O)})}deactivateRoutes(C,y,O){const j=C.value,J=y?y.value:null;if(j===J)if(j.component){const oe=O.getContext(j.outlet);oe&&this.deactivateChildRoutes(C,y,oe.children)}else this.deactivateChildRoutes(C,y,O);else J&&this.deactivateRouteAndItsChildren(y,O)}deactivateRouteAndItsChildren(C,y){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,y):this.deactivateRouteAndOutlet(C,y)}detachAndStoreRouteSubtree(C,y){const O=y.getContext(C.value.outlet),j=O&&C.value.component?O.children:y,J=Mr(C);for(const oe of Object.keys(J))this.deactivateRouteAndItsChildren(J[oe],j);if(O&&O.outlet){const oe=O.outlet.detach(),Ye=O.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:oe,route:C,contexts:Ye})}}deactivateRouteAndOutlet(C,y){const O=y.getContext(C.value.outlet),j=O&&C.value.component?O.children:y,J=Mr(C);for(const oe of Object.keys(J))this.deactivateRouteAndItsChildren(J[oe],j);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(C,y,O){const j=Mr(y);C.children.forEach(J=>{this.activateRoutes(J,j[J.value.outlet],O),this.forwardEvent(new Si(J.value.snapshot))}),C.children.length&&this.forwardEvent(new Fr(C.value.snapshot))}activateRoutes(C,y,O){const j=C.value,J=y?y.value:null;if(Cs(j),j===J)if(j.component){const oe=O.getOrCreateContext(j.outlet);this.activateChildRoutes(C,y,oe.children)}else this.activateChildRoutes(C,y,O);else if(j.component){const oe=O.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Ye=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),oe.children.onOutletReAttached(Ye.contexts),oe.attachRef=Ye.componentRef,oe.route=Ye.route.value,oe.outlet&&oe.outlet.attach(Ye.componentRef,Ye.route.value),Cs(Ye.route.value),this.activateChildRoutes(C,null,oe.children)}else{const Ye=G(j.snapshot),kt=Ye?.get(p._Vd)??null;oe.attachRef=null,oe.route=j,oe.resolver=kt,oe.injector=Ye,oe.outlet&&oe.outlet.activateWith(j,oe.injector),this.activateChildRoutes(C,null,oe.children)}}else this.activateChildRoutes(C,null,O)}}class ft{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class Pt{constructor(C,y){this.component=C,this.route=y}}function nn(w,C,y){const O=w._root;return bi(O,C?C._root:null,y,[O.value])}function kn(w,C){const y=Symbol(),O=C.get(w,y);return O===y?"function"!=typeof w||(0,p.Z0I)(w)?C.get(w):w:O}function bi(w,C,y,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const J=Mr(C);return w.children.forEach(oe=>{(function or(w,C,y,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const J=w.value,oe=C?C.value:null,Ye=y?y.getContext(w.value.outlet):null;if(oe&&J.routeConfig===oe.routeConfig){const kt=function Tr(w,C,y){if("function"==typeof y)return y(w,C);switch(y){case"pathParamsChange":return!oi(w.url,C.url);case"pathParamsOrQueryParamsChange":return!oi(w.url,C.url)||!wn(w.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rs(w,C)||!wn(w.queryParams,C.queryParams);default:return!Rs(w,C)}}(oe,J,J.routeConfig.runGuardsAndResolvers);kt?j.canActivateChecks.push(new ft(O)):(J.data=oe.data,J._resolvedData=oe._resolvedData),bi(w,C,J.component?Ye?Ye.children:null:y,O,j),kt&&Ye&&Ye.outlet&&Ye.outlet.isActivated&&j.canDeactivateChecks.push(new Pt(Ye.outlet.component,oe))}else oe&&Ir(C,Ye,j),j.canActivateChecks.push(new ft(O)),bi(w,null,J.component?Ye?Ye.children:null:y,O,j)})(oe,J[oe.value.outlet],y,O.concat([oe.value]),j),delete J[oe.value.outlet]}),Wn(J,(oe,Ye)=>Ir(oe,y.getContext(Ye),j)),j}function Ir(w,C,y){const O=Mr(w),j=w.value;Wn(O,(J,oe)=>{Ir(J,j.component?C?C.children.getContext(oe):null:C,y)}),y.canDeactivateChecks.push(new Pt(j.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,j))}function Fn(w){return"function"==typeof w}function X(w){return w instanceof _e||"EmptyError"===w?.name}const je=Symbol("INITIAL_VALUE");function Ct(){return ct(w=>(0,Ie.a)(w.map(C=>C.pipe((0,Nt.q)(1),(0,rt.O)(je)))).pipe((0,Ce.U)(C=>{for(const y of C)if(!0!==y){if(y===je)return je;if(!1===y||y instanceof Ii)return y}return!0}),(0,lt.h)(C=>C!==je),(0,Nt.q)(1)))}function Ns(w){return(0,ce.z)((0,St.b)(C=>{if(mn(C))throw Io(0,C)}),(0,Ce.U)(C=>!0===C))}const rr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zi(w,C,y,O,j){const J=yi(w,C,y);return J.matched?function Pi(w,C,y,O){const j=C.canMatch;if(!j||0===j.length)return(0,le.of)(!0);const J=j.map(oe=>{const Ye=kn(oe,w);return Ti(function m(w){return w&&Fn(w.canMatch)}(Ye)?Ye.canMatch(C,y):w.runInContext(()=>Ye(C,y)))});return(0,le.of)(J).pipe(Ct(),Ns())}(O=Po(C,O),C,y).pipe((0,Ce.U)(oe=>!0===oe?J:{...rr})):(0,le.of)(J)}function yi(w,C,y){if(""===C.path)return"full"===C.pathMatch&&(w.hasChildren()||y.length>0)?{...rr}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const j=(C.matcher||ci)(y,w,C);if(!j)return{...rr};const J={};Wn(j.posParams,(Ye,kt)=>{J[kt]=Ye.path});const oe=j.consumed.length>0?{...J,...j.consumed[j.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:j.consumed,remainingSegments:y.slice(j.consumed.length),parameters:oe,positionalParamSegments:j.posParams??{}}}function Gi(w,C,y,O){if(y.length>0&&function na(w,C,y){return y.some(O=>ko(w,C,O)&&k(O)!==an)}(w,y,O)){const J=new xn(C,function xo(w,C,y,O){const j={};j[an]=O,O._sourceSegment=w,O._segmentIndexShift=C.length;for(const J of y)if(""===J.path&&k(J)!==an){const oe=new xn([],{});oe._sourceSegment=w,oe._segmentIndexShift=C.length,j[k(J)]=oe}return j}(w,C,O,new xn(y,w.children)));return J._sourceSegment=w,J._segmentIndexShift=C.length,{segmentGroup:J,slicedSegments:[]}}if(0===y.length&&function ao(w,C,y){return y.some(O=>ko(w,C,O))}(w,y,O)){const J=new xn(w.segments,function Gs(w,C,y,O,j){const J={};for(const oe of O)if(ko(w,y,oe)&&!j[k(oe)]){const Ye=new xn([],{});Ye._sourceSegment=w,Ye._segmentIndexShift=C.length,J[k(oe)]=Ye}return{...j,...J}}(w,C,y,O,w.children));return J._sourceSegment=w,J._segmentIndexShift=C.length,{segmentGroup:J,slicedSegments:y}}const j=new xn(w.segments,w.children);return j._sourceSegment=w,j._segmentIndexShift=C.length,{segmentGroup:j,slicedSegments:y}}function ko(w,C,y){return(!(w.hasChildren()||C.length>0)||"full"!==y.pathMatch)&&""===y.path}function Wo(w,C,y,O){return!!(k(w)===O||O!==an&&ko(C,y,w))&&("**"===w.path||yi(C,w,y).matched)}function Pa(w,C,y){return 0===C.length&&!w.children[y]}const da=!1;class la{constructor(C){this.segmentGroup=C||null}}class ha{constructor(C){this.urlTree=C}}function ia(w){return Dt(new la(w))}function hs(w){return Dt(new ha(w))}class Za{constructor(C,y,O,j,J){this.injector=C,this.configLoader=y,this.urlSerializer=O,this.urlTree=j,this.config=J,this.allowRedirects=!0}apply(){const C=Gi(this.urlTree.root,[],[],this.config).segmentGroup,y=new xn(C.segments,C.children);return this.expandSegmentGroup(this.injector,this.config,y,an).pipe((0,Ce.U)(J=>this.createUrlTree(nt(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wt(J=>{if(J instanceof ha)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof la?this.noMatchError(J):J}))}match(C){return this.expandSegmentGroup(this.injector,this.config,C.root,an).pipe((0,Ce.U)(j=>this.createUrlTree(nt(j),C.queryParams,C.fragment))).pipe(Wt(j=>{throw j instanceof la?this.noMatchError(j):j}))}noMatchError(C){return new p.vHH(4002,da)}createUrlTree(C,y,O){const j=ze(C);return new Ii(j,y,O)}expandSegmentGroup(C,y,O,j){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(C,y,O).pipe((0,Ce.U)(J=>new xn([],J))):this.expandSegment(C,O,y,O.segments,j,!0)}expandChildren(C,y,O){const j=[];for(const J of Object.keys(O.children))"primary"===J?j.unshift(J):j.push(J);return(0,f.D)(j).pipe((0,pt.b)(J=>{const oe=O.children[J],Ye=x(y,J);return this.expandSegmentGroup(C,Ye,oe,J).pipe((0,Ce.U)(kt=>({segment:kt,outlet:J})))}),pn((J,oe)=>(J[oe.outlet]=oe.segment,J),{}),jt())}expandSegment(C,y,O,j,J,oe){return(0,f.D)(O).pipe((0,pt.b)(Ye=>this.expandSegmentAgainstRoute(C,y,O,Ye,j,J,oe).pipe(Wt(fn=>{if(fn instanceof la)return(0,le.of)(null);throw fn}))),st(Ye=>!!Ye),Wt((Ye,kt)=>{if(X(Ye))return Pa(y,j,J)?(0,le.of)(new xn([],{})):ia(y);throw Ye}))}expandSegmentAgainstRoute(C,y,O,j,J,oe,Ye){return Wo(j,y,J,oe)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(C,y,j,J,oe):Ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,y,O,j,J,oe):ia(y):ia(y)}expandSegmentAgainstRouteUsingRedirect(C,y,O,j,J,oe){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,O,j,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(C,y,O,j,J,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,y,O,j){const J=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?hs(J):this.lineralizeSegments(O,J).pipe((0,$t.z)(oe=>{const Ye=new xn(oe,{});return this.expandSegment(C,Ye,y,oe,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,y,O,j,J,oe){const{matched:Ye,consumedSegments:kt,remainingSegments:fn,positionalParamSegments:Sn}=yi(y,j,J);if(!Ye)return ia(y);const Mi=this.applyRedirectCommands(kt,j.redirectTo,Sn);return j.redirectTo.startsWith("/")?hs(Mi):this.lineralizeSegments(j,Mi).pipe((0,$t.z)(tr=>this.expandSegment(C,y,O,tr.concat(fn),oe,!1)))}matchSegmentAgainstRoute(C,y,O,j,J){return"**"===O.path?(C=Po(O,C),O.loadChildren?(O._loadedRoutes?(0,le.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):this.configLoader.loadChildren(C,O)).pipe((0,Ce.U)(Ye=>(O._loadedRoutes=Ye.routes,O._loadedInjector=Ye.injector,new xn(j,{})))):(0,le.of)(new xn(j,{}))):Zi(y,O,j,C).pipe(ct(({matched:oe,consumedSegments:Ye,remainingSegments:kt})=>oe?this.getChildConfig(C=O._injector??C,O,j).pipe((0,$t.z)(Sn=>{const Mi=Sn.injector??C,tr=Sn.routes,{segmentGroup:Ks,slicedSegments:bo}=Gi(y,Ye,kt,tr),$r=new xn(Ks.segments,Ks.children);if(0===bo.length&&$r.hasChildren())return this.expandChildren(Mi,tr,$r).pipe((0,Ce.U)(Da=>new xn(Ye,Da)));if(0===tr.length&&0===bo.length)return(0,le.of)(new xn(Ye,{}));const Fs=k(O)===J;return this.expandSegment(Mi,$r,tr,bo,Fs?an:J,!0).pipe((0,Ce.U)(ma=>new xn(Ye.concat(ma.segments),ma.children)))})):ia(y)))}getChildConfig(C,y,O){return y.children?(0,le.of)({routes:y.children,injector:C}):y.loadChildren?void 0!==y._loadedRoutes?(0,le.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function jr(w,C,y,O){const j=C.canLoad;if(void 0===j||0===j.length)return(0,le.of)(!0);const J=j.map(oe=>{const Ye=kn(oe,w);return Ti(function Go(w){return w&&Fn(w.canLoad)}(Ye)?Ye.canLoad(C,y):w.runInContext(()=>Ye(C,y)))});return(0,le.of)(J).pipe(Ct(),Ns())}(C,y,O).pipe((0,$t.z)(j=>j?this.configLoader.loadChildren(C,y).pipe((0,St.b)(J=>{y._loadedRoutes=J.routes,y._loadedInjector=J.injector})):function No(w){return Dt(hr(da,3))}())):(0,le.of)({routes:[],injector:C})}lineralizeSegments(C,y){let O=[],j=y.root;for(;;){if(O=O.concat(j.segments),0===j.numberOfChildren)return(0,le.of)(O);if(j.numberOfChildren>1||!j.children[an])return C.redirectTo,Dt(new p.vHH(4e3,da));j=j.children[an]}}applyRedirectCommands(C,y,O){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),C,O)}applyRedirectCreateUrlTree(C,y,O,j){const J=this.createSegmentGroup(C,y.root,O,j);return new Ii(J,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(C,y){const O={};return Wn(C,(j,J)=>{if("string"==typeof j&&j.startsWith(":")){const Ye=j.substring(1);O[J]=y[Ye]}else O[J]=j}),O}createSegmentGroup(C,y,O,j){const J=this.createSegments(C,y.segments,O,j);let oe={};return Wn(y.children,(Ye,kt)=>{oe[kt]=this.createSegmentGroup(C,Ye,O,j)}),new xn(J,oe)}createSegments(C,y,O,j){return y.map(J=>J.path.startsWith(":")?this.findPosParam(C,J,j):this.findOrReturn(J,O))}findPosParam(C,y,O){const j=O[y.path.substring(1)];if(!j)throw new p.vHH(4001,da);return j}findOrReturn(C,y){let O=0;for(const j of y){if(j.path===C.path)return y.splice(O),j;O++}return C}}class Li{}class zn{constructor(C,y,O,j,J,oe,Ye){this.injector=C,this.rootComponentType=y,this.config=O,this.urlTree=j,this.url=J,this.paramsInheritanceStrategy=oe,this.urlSerializer=Ye}recognize(){const C=Gi(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,an).pipe((0,Ce.U)(y=>{if(null===y)return null;const O=new js([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new ir(O,y),J=new ro(this.url,j);return this.inheritParamsAndData(J._root),J}))}inheritParamsAndData(C){const y=C.value,O=gs(y,this.paramsInheritanceStrategy);y.params=Object.freeze(O.params),y.data=Object.freeze(O.data),C.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(C,y,O,j){return 0===O.segments.length&&O.hasChildren()?this.processChildren(C,y,O):this.processSegment(C,y,O,O.segments,j)}processChildren(C,y,O){return(0,f.D)(Object.keys(O.children)).pipe((0,pt.b)(j=>{const J=O.children[j],oe=x(y,j);return this.processSegmentGroup(C,oe,J,j)}),pn((j,J)=>j&&J?(j.push(...J),j):null),function We(w,C=!1){return(0,_t.e)((y,O)=>{let j=0;y.subscribe((0,Ht.x)(O,J=>{const oe=w(J,j++);(oe||C)&&O.next(J),!oe&&O.complete()}))})}(j=>null!==j),Zt(null),jt(),(0,Ce.U)(j=>{if(null===j)return null;const J=T(j);return function ka(w){w.sort((C,y)=>C.value.outlet===an?-1:y.value.outlet===an?1:C.value.outlet.localeCompare(y.value.outlet))}(J),J}))}processSegment(C,y,O,j,J){return(0,f.D)(y).pipe((0,pt.b)(oe=>this.processSegmentAgainstRoute(oe._injector??C,oe,O,j,J)),st(oe=>!!oe),Wt(oe=>{if(X(oe))return Pa(O,j,J)?(0,le.of)([]):(0,le.of)(null);throw oe}))}processSegmentAgainstRoute(C,y,O,j,J){if(y.redirectTo||!Wo(y,O,j,J))return(0,le.of)(null);let oe;if("**"===y.path){const Ye=j.length>0?di(j).parameters:{},kt=se(O)+j.length,fn=new js(j,Ye,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,It(y),k(y),y.component??y._loadedComponent??null,y,F(O),kt,qt(y));oe=(0,le.of)({snapshot:fn,consumedSegments:[],remainingSegments:[]})}else oe=Zi(O,y,j,C).pipe((0,Ce.U)(({matched:Ye,consumedSegments:kt,remainingSegments:fn,parameters:Sn})=>{if(!Ye)return null;const Mi=se(O)+kt.length;return{snapshot:new js(kt,Sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,It(y),k(y),y.component??y._loadedComponent??null,y,F(O),Mi,qt(y)),consumedSegments:kt,remainingSegments:fn}}));return oe.pipe(ct(Ye=>{if(null===Ye)return(0,le.of)(null);const{snapshot:kt,consumedSegments:fn,remainingSegments:Sn}=Ye;C=y._injector??C;const Mi=y._loadedInjector??C,tr=function In(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(y),{segmentGroup:Ks,slicedSegments:bo}=Gi(O,fn,Sn,tr.filter(Fs=>void 0===Fs.redirectTo));if(0===bo.length&&Ks.hasChildren())return this.processChildren(Mi,tr,Ks).pipe((0,Ce.U)(Fs=>null===Fs?null:[new ir(kt,Fs)]));if(0===tr.length&&0===bo.length)return(0,le.of)([new ir(kt,[])]);const $r=k(y)===J;return this.processSegment(Mi,tr,Ks,bo,$r?an:J).pipe((0,Ce.U)(Fs=>null===Fs?null:[new ir(kt,Fs)]))}))}}function At(w){const C=w.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function T(w){const C=[],y=new Set;for(const O of w){if(!At(O)){C.push(O);continue}const j=C.find(J=>O.value.routeConfig===J.value.routeConfig);void 0!==j?(j.children.push(...O.children),y.add(j)):C.push(O)}for(const O of y){const j=T(O.children);C.push(new ir(O.value,j))}return C.filter(O=>!y.has(O))}function F(w){let C=w;for(;C._sourceSegment;)C=C._sourceSegment;return C}function se(w){let C=w,y=C._segmentIndexShift??0;for(;C._sourceSegment;)C=C._sourceSegment,y+=C._segmentIndexShift??0;return y-1}function It(w){return w.data||{}}function qt(w){return w.resolve||{}}function Rn(w){return"string"==typeof w.title||null===w.title}function Rr(w){return ct(C=>{const y=w(C);return y?(0,f.D)(y).pipe((0,Ce.U)(()=>C)):(0,le.of)(C)})}const H=new p.OlP("ROUTES");let v=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,le.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const O=Ti(y.loadComponent()).pipe((0,Ce.U)(P),(0,St.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=J}),Tt(()=>{this.componentLoaders.delete(y)})),j=new gn(O,()=>new Pn.x).pipe(Qt());return this.componentLoaders.set(y,j),j}loadChildren(y,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,le.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const J=this.loadModuleFactoryOrRoutes(O.loadChildren).pipe((0,Ce.U)(Ye=>{this.onLoadEndListener&&this.onLoadEndListener(O);let kt,fn,Sn=!1;Array.isArray(Ye)?fn=Ye:(kt=Ye.create(y).injector,fn=Jn(kt.get(H,[],p.XFs.Self|p.XFs.Optional)));return{routes:fn.map(de),injector:kt}}),Tt(()=>{this.childrenLoaders.delete(O)})),oe=new gn(J,()=>new Pn.x).pipe(Qt());return this.childrenLoaders.set(O,oe),oe}loadModuleFactoryOrRoutes(y){return Ti(y()).pipe((0,Ce.U)(P),(0,$t.z)(O=>O instanceof p.YKP||Array.isArray(O)?(0,le.of)(O):(0,f.D)(this.compiler.compileModuleAsync(O))))}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function P(w){return function b(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let ue=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Pn.x,this.configLoader=(0,p.f3M)(v),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Ut),this.rootContexts=(0,p.f3M)(_s),this.navigationId=0,this.afterPreactivation=()=>(0,le.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new Ur(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new to(j))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:O})}setupNavigations(y){return this.transitions=new Ne.X({id:0,targetPageId:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yt,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,lt.h)(O=>0!==O.id),(0,Ce.U)(O=>({...O,extractedUrl:y.urlHandlingStrategy.extract(O.rawUrl)})),ct(O=>{let j=!1,J=!1;return(0,le.of)(O).pipe((0,St.b)(oe=>{this.currentNavigation={id:oe.id,initialUrl:oe.rawUrl,extractedUrl:oe.extractedUrl,trigger:oe.source,extras:oe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ct(oe=>{const Ye=y.browserUrlTree.toString(),kt=!y.navigated||oe.extractedUrl.toString()!==Ye||Ye!==y.currentUrlTree.toString();if(!kt&&"reload"!==(oe.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Sn="";return this.events.next(new gr(oe.id,y.serializeUrl(O.rawUrl),Sn,0)),y.rawUrlTree=oe.rawUrl,oe.resolve(null),gt.E}if(y.urlHandlingStrategy.shouldProcessUrl(oe.rawUrl))return ye(oe.source)&&(y.browserUrlTree=oe.extractedUrl),(0,le.of)(oe).pipe(ct(Sn=>{const Mi=this.transitions?.getValue();return this.events.next(new Xn(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),Sn.source,Sn.restoredState)),Mi!==this.transitions?.getValue()?gt.E:Promise.resolve(Sn)}),function on(w,C,y,O){return ct(j=>function fa(w,C,y,O,j){return new Za(w,C,y,O,j).apply()}(w,C,y,j.extractedUrl,O).pipe((0,Ce.U)(J=>({...j,urlAfterRedirects:J}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,y.config),(0,St.b)(Sn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Sn.urlAfterRedirects},O.urlAfterRedirects=Sn.urlAfterRedirects}),function Hn(w,C,y,O,j){return(0,$t.z)(J=>function rn(w,C,y,O,j,J,oe="emptyOnly"){return new zn(w,C,y,O,j,oe,J).recognize().pipe(ct(Ye=>null===Ye?function qo(w){return new Se.y(C=>C.error(w))}(new Li):(0,le.of)(Ye)))}(w,C,y,J.urlAfterRedirects,O.serialize(J.urlAfterRedirects),O,j).pipe((0,Ce.U)(oe=>({...J,targetSnapshot:oe}))))}(this.environmentInjector,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,St.b)(Sn=>{if(O.targetSnapshot=Sn.targetSnapshot,"eager"===y.urlUpdateStrategy){if(!Sn.extras.skipLocationChange){const tr=y.urlHandlingStrategy.merge(Sn.urlAfterRedirects,Sn.rawUrl);y.setBrowserUrl(tr,Sn)}y.browserUrlTree=Sn.urlAfterRedirects}const Mi=new Ki(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(Mi)}));if(kt&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:Sn,extractedUrl:Mi,source:tr,restoredState:Ks,extras:bo}=oe,$r=new Xn(Sn,this.urlSerializer.serialize(Mi),tr,Ks);this.events.next($r);const Fs=Ui(Mi,this.rootComponentType).snapshot;return O={...oe,targetSnapshot:Fs,urlAfterRedirects:Mi,extras:{...bo,skipLocationChange:!1,replaceUrl:!1}},(0,le.of)(O)}{const Sn="";return this.events.next(new gr(oe.id,y.serializeUrl(O.extractedUrl),Sn,1)),y.rawUrlTree=oe.rawUrl,oe.resolve(null),gt.E}}),(0,St.b)(oe=>{const Ye=new Vs(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot);this.events.next(Ye)}),(0,Ce.U)(oe=>O={...oe,guards:nn(oe.targetSnapshot,oe.currentSnapshot,this.rootContexts)}),function en(w,C){return(0,$t.z)(y=>{const{targetSnapshot:O,currentSnapshot:j,guards:{canActivateChecks:J,canDeactivateChecks:oe}}=y;return 0===oe.length&&0===J.length?(0,le.of)({...y,guardsResult:!0}):function En(w,C,y,O){return(0,f.D)(w).pipe((0,$t.z)(j=>function Hr(w,C,y,O,j){const J=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,le.of)(!0);const oe=J.map(Ye=>{const kt=G(C)??j,fn=kn(Ye,kt);return Ti(function V(w){return w&&Fn(w.canDeactivate)}(fn)?fn.canDeactivate(w,C,y,O):kt.runInContext(()=>fn(w,C,y,O))).pipe(st())});return(0,le.of)(oe).pipe(Ct())}(j.component,j.route,y,C,O)),st(j=>!0!==j,!0))}(oe,O,j,w).pipe((0,$t.z)(Ye=>Ye&&function yo(w){return"boolean"==typeof w}(Ye)?function An(w,C,y,O){return(0,f.D)(C).pipe((0,pt.b)(j=>(0,Ae.z)(function qn(w,C){return null!==w&&C&&C(new cr(w)),(0,le.of)(!0)}(j.route.parent,O),function ii(w,C){return null!==w&&C&&C(new Cr(w)),(0,le.of)(!0)}(j.route,O),function zi(w,C,y){const O=C[C.length-1],J=C.slice(0,C.length-1).reverse().map(oe=>function Tn(w){const C=w.routeConfig?w.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:w,guards:C}:null}(oe)).filter(oe=>null!==oe).map(oe=>(0,Ge.P)(()=>{const Ye=oe.guards.map(kt=>{const fn=G(oe.node)??y,Sn=kn(kt,fn);return Ti(function U(w){return w&&Fn(w.canActivateChild)}(Sn)?Sn.canActivateChild(O,w):fn.runInContext(()=>Sn(O,w))).pipe(st())});return(0,le.of)(Ye).pipe(Ct())}));return(0,le.of)(J).pipe(Ct())}(w,j.path,y),function ar(w,C,y){const O=C.routeConfig?C.routeConfig.canActivate:null;if(!O||0===O.length)return(0,le.of)(!0);const j=O.map(J=>(0,Ge.P)(()=>{const oe=G(C)??y,Ye=kn(J,oe);return Ti(function ta(w){return w&&Fn(w.canActivate)}(Ye)?Ye.canActivate(C,w):oe.runInContext(()=>Ye(C,w))).pipe(st())}));return(0,le.of)(j).pipe(Ct())}(w,j.route,y))),st(j=>!0!==j,!0))}(O,J,w,C):(0,le.of)(Ye)),(0,Ce.U)(Ye=>({...y,guardsResult:Ye})))})}(this.environmentInjector,oe=>this.events.next(oe)),(0,St.b)(oe=>{if(O.guardsResult=oe.guardsResult,mn(oe.guardsResult))throw Io(0,oe.guardsResult);const Ye=new eo(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot,!!oe.guardsResult);this.events.next(Ye)}),(0,lt.h)(oe=>!!oe.guardsResult||(y.restoreHistory(oe),this.cancelNavigationTransition(oe,"",3),!1)),Rr(oe=>{if(oe.guards.canActivateChecks.length)return(0,le.of)(oe).pipe((0,St.b)(Ye=>{const kt=new mo(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),this.urlSerializer.serialize(Ye.urlAfterRedirects),Ye.targetSnapshot);this.events.next(kt)}),ct(Ye=>{let kt=!1;return(0,le.of)(Ye).pipe(function Vi(w,C){return(0,$t.z)(y=>{const{targetSnapshot:O,guards:{canActivateChecks:j}}=y;if(!j.length)return(0,le.of)(y);let J=0;return(0,f.D)(j).pipe((0,pt.b)(oe=>function Wi(w,C,y,O){const j=w.routeConfig,J=w._resolve;return void 0!==j?.title&&!Rn(j)&&(J[dn]=j.title),function fr(w,C,y,O){const j=function $i(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===j.length)return(0,le.of)({});const J={};return(0,f.D)(j).pipe((0,$t.z)(oe=>function Kr(w,C,y,O){const j=G(C)??O,J=kn(w,j);return Ti(J.resolve?J.resolve(C,y):j.runInContext(()=>J(C,y)))}(w[oe],C,y,O).pipe(st(),(0,St.b)(Ye=>{J[oe]=Ye}))),ht(1),function et(w){return(0,Ce.U)(()=>w)}(J),Wt(oe=>X(oe)?gt.E:Dt(oe)))}(J,w,C,O).pipe((0,Ce.U)(oe=>(w._resolvedData=oe,w.data=gs(w,y).resolve,j&&Rn(j)&&(w.data[dn]=j.title),null)))}(oe.route,O,w,C)),(0,St.b)(()=>J++),ht(1),(0,$t.z)(oe=>J===j.length?(0,le.of)(y):gt.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,St.b)({next:()=>kt=!0,complete:()=>{kt||(y.restoreHistory(Ye),this.cancelNavigationTransition(Ye,"",2))}}))}),(0,St.b)(Ye=>{const kt=new Gr(Ye.id,this.urlSerializer.serialize(Ye.extractedUrl),this.urlSerializer.serialize(Ye.urlAfterRedirects),Ye.targetSnapshot);this.events.next(kt)}))}),Rr(oe=>{const Ye=kt=>{const fn=[];kt.routeConfig?.loadComponent&&!kt.routeConfig._loadedComponent&&fn.push(this.configLoader.loadComponent(kt.routeConfig).pipe((0,St.b)(Sn=>{kt.component=Sn}),(0,Ce.U)(()=>{})));for(const Sn of kt.children)fn.push(...Ye(Sn));return fn};return(0,Ie.a)(Ye(oe.targetSnapshot.root)).pipe(Zt(),(0,Nt.q)(1))}),Rr(()=>this.afterPreactivation()),(0,Ce.U)(oe=>{const Ye=function ls(w,C,y){const O=Xs(w,C._root,y?y._root:void 0);return new ws(O,C)}(y.routeReuseStrategy,oe.targetSnapshot,oe.currentRouterState);return O={...oe,targetRouterState:Ye}}),(0,St.b)(oe=>{y.currentUrlTree=oe.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(oe.urlAfterRedirects,oe.rawUrl),y.routerState=oe.targetRouterState,"deferred"===y.urlUpdateStrategy&&(oe.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,oe),y.browserUrlTree=oe.urlAfterRedirects)}),((w,C,y)=>(0,Ce.U)(O=>(new Ue(C,O.targetRouterState,O.currentRouterState,y).activate(w),O)))(this.rootContexts,y.routeReuseStrategy,oe=>this.events.next(oe)),(0,St.b)({next:oe=>{j=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new On(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(oe.targetRouterState.snapshot),oe.resolve(!0)},complete:()=>{j=!0}}),Tt(()=>{j||J||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),Wt(oe=>{if(J=!0,Ds(oe)){so(oe)||(y.navigated=!0,y.restoreHistory(O,!0));const Ye=new pi(O.id,this.urlSerializer.serialize(O.extractedUrl),oe.message,oe.cancellationCode);if(this.events.next(Ye),so(oe)){const kt=y.urlHandlingStrategy.merge(oe.url,y.rawUrlTree),fn={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||ye(O.source)};y.scheduleNavigation(kt,Yt,null,fn,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{y.restoreHistory(O,!0);const Ye=new Yn(O.id,this.urlSerializer.serialize(O.extractedUrl),oe,O.targetSnapshot??void 0);this.events.next(Ye);try{O.resolve(y.errorHandler(oe))}catch(kt){O.reject(kt)}}return gt.E}))}))}cancelNavigationTransition(y,O,j){const J=new pi(y.id,this.urlSerializer.serialize(y.extractedUrl),O,j);this.events.next(J),y.resolve(!1)}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ye(w){return w!==Yt}let Ke=(()=>{class w{buildTitle(y){let O,j=y.root;for(;void 0!==j;)O=this.getResolvedTitleForRoute(j)??O,j=j.children.find(J=>J.outlet===an);return O}getResolvedTitleForRoute(y){return y.data[dn]}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:function(){return(0,p.f3M)(ut)},providedIn:"root"}),w})(),ut=(()=>{class w extends Ke{constructor(y){super(),this.title=y}updateTitle(y){const O=this.buildTitle(y);void 0!==O&&this.title.setTitle(O)}}return w.\u0275fac=function(y){return new(y||w)(p.LFG(fi.Dx))},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Ft=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:function(){return(0,p.f3M)(Mn)},providedIn:"root"}),w})();class Cn{shouldDetach(C){return!1}store(C,y){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,y){return C.routeConfig===y.routeConfig}}let Mn=(()=>{class w extends Cn{}return w.\u0275fac=function(){let C;return function(O){return(C||(C=p.n5z(w)))(O||w)}}(),w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const vi=new p.OlP("",{providedIn:"root",factory:()=>({})});let ri=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:function(){return(0,p.f3M)(mi)},providedIn:"root"}),w})(),mi=(()=>{class w{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,O){return y}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Bi(w){throw w}function is(w,C,y){return C.parse("/")}const fs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(vi,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Bi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||is,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(ri),this.routeReuseStrategy=(0,p.f3M)(Ft),this.urlCreationStrategy=(0,p.f3M)(Us),this.titleStrategy=(0,p.f3M)(Ke),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Jn((0,p.f3M)(H,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(ue),this.urlSerializer=(0,p.f3M)(Ut),this.location=(0,p.f3M)(Me.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ii,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ui(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yt,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const O="popstate"===y.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,O,y.state)},0)}))}navigateToSyncWithBrowser(y,O,j){const J={replaceUrl:!0},oe=j?.navigationId?j:null;if(j){const kt={...j};delete kt.navigationId,delete kt.\u0275routerPageId,0!==Object.keys(kt).length&&(J.state=kt)}const Ye=this.parseUrl(y);this.scheduleNavigation(Ye,O,oe,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(y){this.config=y.map(de),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,O={}){const{relativeTo:j,queryParams:J,fragment:oe,queryParamsHandling:Ye,preserveFragment:kt}=O,fn=kt?this.currentUrlTree.fragment:oe;let Sn=null;switch(Ye){case"merge":Sn={...this.currentUrlTree.queryParams,...J};break;case"preserve":Sn=this.currentUrlTree.queryParams;break;default:Sn=J||null}return null!==Sn&&(Sn=this.removeEmptyProps(Sn)),this.urlCreationStrategy.createUrlTree(j,this.routerState,this.currentUrlTree,y,Sn,fn??null)}navigateByUrl(y,O={skipLocationChange:!1}){const j=mn(y)?y:this.parseUrl(y),J=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(J,Yt,null,O)}navigate(y,O={skipLocationChange:!1}){return function mt(w){for(let C=0;C<w.length;C++){const y=w[C];if(null==y)throw new p.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,O),O)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let O;try{O=this.urlSerializer.parse(y)}catch(j){O=this.malformedUriErrorHandler(j,this.urlSerializer,y)}return O}isActive(y,O){let j;if(j=!0===O?{...fs}:!1===O?{...xr}:O,mn(y))return Rt(this.currentUrlTree,y,j);const J=this.parseUrl(y);return Rt(this.currentUrlTree,J,j)}removeEmptyProps(y){return Object.keys(y).reduce((O,j)=>{const J=y[j];return null!=J&&(O[j]=J),O},{})}scheduleNavigation(y,O,j,J,oe){if(this.disposed)return Promise.resolve(!1);let Ye,kt,fn,Sn;return oe?(Ye=oe.resolve,kt=oe.reject,fn=oe.promise):fn=new Promise((Mi,tr)=>{Ye=Mi,kt=tr}),Sn="computed"===this.canceledNavigationResolution?j&&j.\u0275routerPageId?j.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Sn,source:O,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:J,resolve:Ye,reject:kt,promise:fn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),fn.catch(Mi=>Promise.reject(Mi))}setBrowserUrl(y,O){const j=this.urlSerializer.serialize(y),J={...O.extras.state,...this.generateNgRouterState(O.id,O.targetPageId)};this.location.isCurrentPathEqualTo(j)||O.extras.replaceUrl?this.location.replaceState(j,"",J):this.location.go(j,"",J)}restoreHistory(y,O=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===j?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===j&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(j)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,O){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:O}:{navigationId:y}}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Br=(()=>{class w{constructor(y,O,j,J,oe,Ye){this.router=y,this.route=O,this.tabIndexAttribute=j,this.renderer=J,this.el=oe,this.locationStrategy=Ye,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Pn.x;const kt=oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===kt||"area"===kt,this.isAnchorElement?this.subscription=y.events.subscribe(fn=>{fn instanceof On&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,p.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,p.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,p.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,O,j,J,oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||O||j||J||oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,O){const j=this.renderer,J=this.el.nativeElement;null!==O?j.setAttribute(J,y,O):j.removeAttribute(J,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(y){return new(y||w)(p.Y36(Zr),p.Y36(Ms),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Me.S$))},w.\u0275dir=p.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,O){1&y&&p.NdJ("click",function(J){return O.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&y&&p.uIk("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),w})(),ps=(()=>{class w{get isActive(){return this._isActive}constructor(y,O,j,J,oe){this.router=y,this.element=O,this.renderer=j,this.cdr=J,this.link=oe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.vpe,this.routerEventsSubscription=y.events.subscribe(Ye=>{Ye instanceof On&&this.update()})}ngAfterContentInit(){(0,le.of)(this.links.changes,(0,le.of)(null)).pipe((0,un.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),this.link].filter(O=>!!O).map(O=>O.onChanges);this.linkInputChangesSubscription=(0,f.D)(y).pipe((0,un.J)()).subscribe(O=>{this._isActive!==this.isLinkActive(this.router)(O)&&this.update()})}set routerLinkActive(y){const O=Array.isArray(y)?y:y.split(" ");this.classes=O.filter(j=>!!j)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const y=this.hasActiveLinks();this._isActive!==y&&(this._isActive=y,this.cdr.markForCheck(),this.classes.forEach(O=>{y?this.renderer.addClass(this.element.nativeElement,O):this.renderer.removeClass(this.element.nativeElement,O)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const O=function Is(w){return!!w.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return j=>!!j.urlTree&&y.isActive(j.urlTree,O)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.links.some(y)}}return w.\u0275fac=function(y){return new(y||w)(p.Y36(Zr),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(Br,8))},w.\u0275dir=p.lG2({type:w,selectors:[["","routerLinkActive",""]],contentQueries:function(y,O,j){if(1&y&&p.Suo(j,Br,5),2&y){let J;p.iGM(J=p.CRH())&&(O.links=J)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[p.TTD]}),w})();class Js{}let Fo=(()=>{class w{preload(y,O){return O().pipe(Wt(()=>(0,le.of)(null)))}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),lo=(()=>{class w{constructor(y,O,j,J,oe){this.router=y,this.injector=j,this.preloadingStrategy=J,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,lt.h)(y=>y instanceof On),(0,pt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,O){const j=[];for(const J of O){J.providers&&!J._injector&&(J._injector=(0,p.MMx)(J.providers,y,`Route: ${J.path}`));const oe=J._injector??y,Ye=J._loadedInjector??oe;J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent?j.push(this.preloadConfig(oe,J)):(J.children||J._loadedRoutes)&&j.push(this.processRoutes(Ye,J.children??J._loadedRoutes))}return(0,f.D)(j).pipe((0,un.J)())}preloadConfig(y,O){return this.preloadingStrategy.preload(O,()=>{let j;j=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(y,O):(0,le.of)(null);const J=j.pipe((0,$t.z)(oe=>null===oe?(0,le.of)(void 0):(O._loadedRoutes=oe.routes,O._loadedInjector=oe.injector,this.processRoutes(oe.injector??y,oe.routes))));if(O.loadComponent&&!O._loadedComponent){const oe=this.loader.loadComponent(O);return(0,f.D)([J,oe]).pipe((0,un.J)())}return J})}}return w.\u0275fac=function(y){return new(y||w)(p.LFG(Zr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Js),p.LFG(v))},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Ko=new p.OlP("");let ys=(()=>{class w{constructor(y,O,j,J,oe={}){this.urlSerializer=y,this.transitions=O,this.viewportScroller=j,this.zone=J,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration=oe.scrollPositionRestoration||"disabled",oe.anchorScrolling=oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Xn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof On&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Dr&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dr(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return w.\u0275fac=function(y){p.$Z()},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac}),w})();var Dn=(()=>((Dn=Dn||{})[Dn.COMPLETE=0]="COMPLETE",Dn[Dn.FAILED=1]="FAILED",Dn[Dn.REDIRECTING=2]="REDIRECTING",Dn))();const jn=!1;function vs(w,C){return{\u0275kind:w,\u0275providers:C}}const er=new p.OlP("",{providedIn:"root",factory:()=>!1});function Zo(){const w=(0,p.f3M)(p.zs3);return C=>{const y=w.get(p.z2F);if(C!==y.components[0])return;const O=w.get(Zr),j=w.get(Yr);1===w.get(co)&&O.initialNavigation(),w.get(al,null,p.XFs.Optional)?.setUpPreloading(),w.get(Ko,null,p.XFs.Optional)?.init(),O.resetRootComponentType(y.componentTypes[0]),j.closed||(j.next(),j.unsubscribe())}}const Yr=new p.OlP(jn?"bootstrap done indicator":"",{factory:()=>new Pn.x}),co=new p.OlP(jn?"initial navigation":"",{providedIn:"root",factory:()=>1});function Yo(){let w=[];return w=jn?[{provide:p.Xts,multi:!0,useFactory:()=>{const C=(0,p.f3M)(Zr);return()=>C.events.subscribe(y=>{console.group?.(`Router Event: ${y.constructor.name}`),console.log(function no(w){if(!("type"in w))return`Unknown Router Event: ${w.constructor.name}`;switch(w.type){case 14:return`ActivationEnd(path: '${w.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${w.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${w.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${w.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state}, shouldActivate: ${w.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 2:return`NavigationCancel(id: ${w.id}, url: '${w.url}')`;case 16:return`NavigationSkipped(id: ${w.id}, url: '${w.url}')`;case 1:return`NavigationEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${w.id}, url: '${w.url}', error: ${w.error})`;case 0:return`NavigationStart(id: ${w.id}, url: '${w.url}')`;case 6:return`ResolveEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 5:return`ResolveStart(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 10:return`RouteConfigLoadEnd(path: ${w.route.path})`;case 9:return`RouteConfigLoadStart(path: ${w.route.path})`;case 4:return`RoutesRecognized(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 15:return`Scroll(anchor: '${w.anchor}', position: '${w.position?`${w.position[0]}, ${w.position[1]}`:null}')`}}(y)),console.log(y),console.groupEnd?.()})}}]:[],vs(1,w)}const al=new p.OlP(jn?"router preloader":"");function lc(w){return vs(0,[{provide:al,useExisting:lo},{provide:Js,useExisting:w}])}const ll=!1,Bu=new p.OlP(ll?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Pl=[Me.Ye,{provide:Ut,useClass:De},Zr,_s,{provide:Ms,useFactory:function rs(w){return w.routerState.root},deps:[Zr]},v,ll?{provide:er,useValue:!0}:[]];function Hc(){return new p.PXZ("Router",Zr)}let wa=(()=>{class w{constructor(y){}static forRoot(y,O){return{ngModule:w,providers:[Pl,ll&&O?.enableTracing?Yo().\u0275providers:[],{provide:H,multi:!0,useValue:y},{provide:Bu,useFactory:pa,deps:[[Zr,new p.FiY,new p.tp0]]},{provide:vi,useValue:O||{}},O?.useHash?{provide:Me.S$,useClass:Me.Do}:{provide:Me.S$,useClass:Me.b0},{provide:Ko,useFactory:()=>{const w=(0,p.f3M)(Me.EM),C=(0,p.f3M)(p.R0b),y=(0,p.f3M)(vi),O=(0,p.f3M)(ue),j=(0,p.f3M)(Ut);return y.scrollOffset&&w.setOffset(y.scrollOffset),new ys(j,O,w,C,y)}},O?.preloadingStrategy?lc(O.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Hc},O?.initialNavigation?Ca(O):[],[{provide:sa,useFactory:Zo},{provide:p.tb,multi:!0,useExisting:sa}]]}}static forChild(y){return{ngModule:w,providers:[{provide:H,multi:!0,useValue:y}]}}}return w.\u0275fac=function(y){return new(y||w)(p.LFG(Bu,8))},w.\u0275mod=p.oAB({type:w}),w.\u0275inj=p.cJS({imports:[cs]}),w})();function pa(w){if(ll&&w)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ca(w){return["disabled"===w.initialNavigation?vs(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const C=(0,p.f3M)(Zr);return()=>{C.setUpLocationChangeListener()}}},{provide:co,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?vs(2,[{provide:co,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:C=>{const y=C.get(Me.V_,Promise.resolve());return()=>y.then(()=>new Promise(O=>{const j=C.get(Zr),J=C.get(Yr);(function ui(w,C){w.events.pipe((0,lt.h)(y=>y instanceof On||y instanceof pi||y instanceof Yn||y instanceof gr),(0,Ce.U)(y=>y instanceof On||y instanceof gr?Dn.COMPLETE:y instanceof pi&&(0===y.code||1===y.code)?Dn.REDIRECTING:Dn.FAILED),(0,lt.h)(y=>y!==Dn.REDIRECTING),(0,Nt.q)(1)).subscribe(()=>{C()})})(j,()=>{O(!0)}),C.get(ue).afterPreactivation=()=>(O(!0),J.closed?(0,le.of)(void 0):J),j.initialNavigation()}))}}]).\u0275providers:[]]}const sa=new p.OlP(ll?"Router Initializer":"")},9681:(bn,ot,B)=>{B.d(ot,{C6:()=>wn,Jn:()=>Bn,KN:()=>di,Mq:()=>Qn,Xd:()=>et,ZF:()=>ci,qX:()=>Tt});var p=B(5861),f=B(4859),le=B(1877),Ne=B(2090),Pe=B(8766);class _e{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(ge=>{if(function Ie(De){return"VERSION"===De.getComponent()?.type}(ge)){const fe=ge.getImmediate();return`${fe.library}/${fe.version}`}return null}).filter(ge=>ge).join(" ")}}const Ae="@firebase/app",ce=new le.Yd("@firebase/app"),Wt="[DEFAULT]",Vt={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pn=new Map,ht=new Map;function jt(De,ve){try{De.container.addComponent(ve)}catch(ge){ce.debug(`Component ${ve.name} failed to register with FirebaseApp ${De.name}`,ge)}}function et(De){const ve=De.name;if(ht.has(ve))return ce.debug(`There were multiple attempts to register component ${ve}.`),!1;ht.set(ve,De);for(const ge of pn.values())jt(ge,De);return!0}function Tt(De,ve){const ge=De.container.getProvider("heartbeat").getImmediate({optional:!0});return ge&&ge.triggerHeartbeat(),De.container.getProvider(ve)}const dn=new Ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Un{constructor(ve,ge,fe){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},ge),this._name=ge.name,this._automaticDataCollectionEnabled=ge.automaticDataCollectionEnabled,this._container=fe,this.container.addComponent(new f.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}const Bn="9.19.1";function ci(De,ve={}){let ge=De;"object"!=typeof ve&&(ve={name:ve});const fe=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},ve),Te=fe.name;if("string"!=typeof Te||!Te)throw dn.create("bad-app-name",{appName:String(Te)});if(ge||(ge=(0,Ne.aH)()),!ge)throw dn.create("no-options");const at=pn.get(Te);if(at){if((0,Ne.vZ)(ge,at.options)&&(0,Ne.vZ)(fe,at.config))return at;throw dn.create("duplicate-app",{appName:Te})}const Mt=new f.H0(Te);for(const be of ht.values())Mt.addComponent(be);const we=new Un(ge,fe,Mt);return pn.set(Te,we),we}function Qn(De=Wt){const ve=pn.get(De);if(!ve&&De===Wt)return ci();if(!ve)throw dn.create("no-app",{appName:De});return ve}function wn(){return Array.from(pn.values())}function di(De,ve,ge){var fe;let Te=null!==(fe=Vt[De])&&void 0!==fe?fe:De;ge&&(Te+=`-${ge}`);const at=Te.match(/\s|\//),Mt=ve.match(/\s|\//);if(at||Mt){const we=[`Unable to register library "${Te}" with version "${ve}":`];return at&&we.push(`library name "${Te}" contains illegal characters (whitespace or "/")`),at&&Mt&&we.push("and"),Mt&&we.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void ce.warn(we.join(" "))}et(new f.wA(`${Te}-version`,()=>({library:Te,version:ve}),"VERSION"))}const Ti="firebase-heartbeat-database",lr=1,xt="firebase-heartbeat-store";let yn=null;function Rt(){return yn||(yn=(0,Pe.X3)(Ti,lr,{upgrade:(De,ve)=>{0===ve&&De.createObjectStore(xt)}}).catch(De=>{throw dn.create("idb-open",{originalErrorMessage:De.message})})),yn}function Jt(){return(Jt=(0,p.Z)(function*(De){try{return(yield Rt()).transaction(xt).objectStore(xt).get(Fi(De))}catch(ve){if(ve instanceof Ne.ZR)ce.warn(ve.message);else{const ge=dn.create("idb-get",{originalErrorMessage:ve?.message});ce.warn(ge.message)}}})).apply(this,arguments)}function ti(De,ve){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,p.Z)(function*(De,ve){try{const fe=(yield Rt()).transaction(xt,"readwrite");return yield fe.objectStore(xt).put(ve,Fi(De)),fe.done}catch(ge){if(ge instanceof Ne.ZR)ce.warn(ge.message);else{const fe=dn.create("idb-set",{originalErrorMessage:ge?.message});ce.warn(fe.message)}}})).apply(this,arguments)}function Fi(De){return`${De.name}!${De.options.appId}`}class xn{constructor(ve){this.container=ve,this._heartbeatsCache=null;const ge=this.container.getProvider("app").getImmediate();this._storage=new oi(ge),this._heartbeatsCachePromise=this._storage.read().then(fe=>(this._heartbeatsCache=fe,fe))}triggerHeartbeat(){var ve=this;return(0,p.Z)(function*(){const fe=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Te=si();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==Te&&!ve._heartbeatsCache.heartbeats.some(at=>at.date===Te))return ve._heartbeatsCache.heartbeats.push({date:Te,agent:fe}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(at=>{const Mt=new Date(at.date).valueOf();return Date.now()-Mt<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,p.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const ge=si(),{heartbeatsToSend:fe,unsentEntries:Te}=function pr(De,ve=1024){const ge=[];let fe=De.slice();for(const Te of De){const at=ge.find(Mt=>Mt.agent===Te.agent);if(at){if(at.dates.push(Te.date),Ar(ge)>ve){at.dates.pop();break}}else if(ge.push({agent:Te.agent,dates:[Te.date]}),Ar(ge)>ve){ge.pop();break}fe=fe.slice(1)}return{heartbeatsToSend:ge,unsentEntries:fe}}(ve._heartbeatsCache.heartbeats),at=(0,Ne.L)(JSON.stringify({version:2,heartbeats:fe}));return ve._heartbeatsCache.lastSentHeartbeatDate=ge,Te.length>0?(ve._heartbeatsCache.heartbeats=Te,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),at})()}}function si(){return(new Date).toISOString().substring(0,10)}class oi{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Ne.hl)()&&(0,Ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,p.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function zt(De){return Jt.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var ge=this;return(0,p.Z)(function*(){var fe;if(yield ge._canUseIndexedDBPromise){const at=yield ge.read();return ti(ge.app,{lastSentHeartbeatDate:null!==(fe=ve.lastSentHeartbeatDate)&&void 0!==fe?fe:at.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var ge=this;return(0,p.Z)(function*(){var fe;if(yield ge._canUseIndexedDBPromise){const at=yield ge.read();return ti(ge.app,{lastSentHeartbeatDate:null!==(fe=ve.lastSentHeartbeatDate)&&void 0!==fe?fe:at.lastSentHeartbeatDate,heartbeats:[...at.heartbeats,...ve.heartbeats]})}})()}}function Ar(De){return(0,Ne.L)(JSON.stringify({version:2,heartbeats:De})).length}!function Ut(De){et(new f.wA("platform-logger",ve=>new _e(ve),"PRIVATE")),et(new f.wA("heartbeat",ve=>new xn(ve),"PRIVATE")),di(Ae,"0.9.7",De),di(Ae,"0.9.7","esm2017"),di("fire-js","")}("")},4859:(bn,ot,B)=>{B.d(ot,{H0:()=>Ae,wA:()=>le});var p=B(5861),f=B(2090);class le{constructor(ce,Se,Ze){this.name=ce,this.instanceFactory=Se,this.type=Ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const Ne="[DEFAULT]";class Pe{constructor(ce,Se){this.name=ce,this.container=Se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const Se=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(Se)){const Ze=new f.BH;if(this.instancesDeferred.set(Se,Ze),this.isInitialized(Se)||this.shouldAutoInitialize())try{const Dt=this.getOrInitializeService({instanceIdentifier:Se});Dt&&Ze.resolve(Dt)}catch{}}return this.instancesDeferred.get(Se).promise}getImmediate(ce){var Se;const Ze=this.normalizeInstanceIdentifier(ce?.identifier),Dt=null!==(Se=ce?.optional)&&void 0!==Se&&Se;if(!this.isInitialized(Ze)&&!this.shouldAutoInitialize()){if(Dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ze})}catch(gt){if(Dt)return null;throw gt}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Ie(Ge){return"EAGER"===Ge.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch{}for(const[Se,Ze]of this.instancesDeferred.entries()){const Dt=this.normalizeInstanceIdentifier(Se);try{const gt=this.getOrInitializeService({instanceIdentifier:Dt});Ze.resolve(gt)}catch{}}}}clearInstance(ce=Ne){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,p.Z)(function*(){const Se=Array.from(ce.instances.values());yield Promise.all([...Se.filter(Ze=>"INTERNAL"in Ze).map(Ze=>Ze.INTERNAL.delete()),...Se.filter(Ze=>"_delete"in Ze).map(Ze=>Ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=Ne){return this.instances.has(ce)}getOptions(ce=Ne){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:Se={}}=ce,Ze=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Ze))throw Error(`${this.name}(${Ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Dt=this.getOrInitializeService({instanceIdentifier:Ze,options:Se});for(const[gt,Lt]of this.instancesDeferred.entries())Ze===this.normalizeInstanceIdentifier(gt)&&Lt.resolve(Dt);return Dt}onInit(ce,Se){var Ze;const Dt=this.normalizeInstanceIdentifier(Se),gt=null!==(Ze=this.onInitCallbacks.get(Dt))&&void 0!==Ze?Ze:new Set;gt.add(ce),this.onInitCallbacks.set(Dt,gt);const Lt=this.instances.get(Dt);return Lt&&ce(Lt,Dt),()=>{gt.delete(ce)}}invokeOnInitCallbacks(ce,Se){const Ze=this.onInitCallbacks.get(Se);if(Ze)for(const Dt of Ze)try{Dt(ce,Se)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:Se={}}){let Ze=this.instances.get(ce);if(!Ze&&this.component&&(Ze=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=ce,Ge===Ne?void 0:Ge),options:Se}),this.instances.set(ce,Ze),this.instancesOptions.set(ce,Se),this.invokeOnInitCallbacks(Ze,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Ze)}catch{}var Ge;return Ze||null}normalizeInstanceIdentifier(ce=Ne){return this.component?this.component.multipleInstances?ce:Ne:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const Se=this.getProvider(ce.name);if(Se.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);Se.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const Se=new Pe(ce,this);return this.providers.set(ce,Se),Se}getProviders(){return Array.from(this.providers.values())}}},1877:(bn,ot,B)=>{B.d(ot,{Yd:()=>Ie,in:()=>f});const p=[];var f=(()=>{return(ce=f||(f={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",f;var ce})();const le={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},Ne=f.INFO,Pe={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},_e=(ce,Se,...Ze)=>{if(Se<ce.logLevel)return;const Dt=(new Date).toISOString(),gt=Pe[Se];if(!gt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Se})`);console[gt](`[${Dt}]  ${ce.name}:`,...Ze)};class Ie{constructor(Se){this.name=Se,this._logLevel=Ne,this._logHandler=_e,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(Se){if(!(Se in f))throw new TypeError(`Invalid value "${Se}" assigned to \`logLevel\``);this._logLevel=Se}setLogLevel(Se){this._logLevel="string"==typeof Se?le[Se]:Se}get logHandler(){return this._logHandler}set logHandler(Se){if("function"!=typeof Se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Se}get userLogHandler(){return this._userLogHandler}set userLogHandler(Se){this._userLogHandler=Se}debug(...Se){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...Se),this._logHandler(this,f.DEBUG,...Se)}log(...Se){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...Se),this._logHandler(this,f.VERBOSE,...Se)}info(...Se){this._userLogHandler&&this._userLogHandler(this,f.INFO,...Se),this._logHandler(this,f.INFO,...Se)}warn(...Se){this._userLogHandler&&this._userLogHandler(this,f.WARN,...Se),this._logHandler(this,f.WARN,...Se)}error(...Se){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...Se),this._logHandler(this,f.ERROR,...Se)}}},259:(bn,ot,B)=>{B.d(ot,{C6:()=>p.C6,KN:()=>p.KN,Mq:()=>p.Mq,ZF:()=>p.ZF});var p=B(9681);(0,p.KN)("firebase","9.19.1","app")},8766:(bn,ot,B)=>{B.d(ot,{Lj:()=>Me,X3:()=>Pn});var p=B(5861);const f=(rt,lt)=>lt.some($t=>rt instanceof $t);let le,Ne;const Ie=new WeakMap,Ae=new WeakMap,Ge=new WeakMap,ce=new WeakMap,Se=new WeakMap;let gt={get(rt,lt,$t){if(rt instanceof IDBTransaction){if("done"===lt)return Ae.get(rt);if("objectStoreNames"===lt)return rt.objectStoreNames||Ge.get(rt);if("store"===lt)return $t.objectStoreNames[1]?void 0:$t.objectStore($t.objectStoreNames[0])}return Qt(rt[lt])},set:(rt,lt,$t)=>(rt[lt]=$t,!0),has:(rt,lt)=>rt instanceof IDBTransaction&&("done"===lt||"store"===lt)||lt in rt};function Ht(rt){return"function"==typeof rt?function _t(rt){return rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(rt)?function(...lt){return rt.apply(gn(this),lt),Qt(Ie.get(this))}:function(...lt){return Qt(rt.apply(gn(this),lt))}:function(lt,...$t){const Zt=rt.call(gn(this),lt,...$t);return Ge.set(Zt,lt.sort?lt.sort():[lt]),Qt(Zt)}}(rt):(rt instanceof IDBTransaction&&function Dt(rt){if(Ae.has(rt))return;const lt=new Promise(($t,Zt)=>{const wt=()=>{rt.removeEventListener("complete",Xt),rt.removeEventListener("error",tt),rt.removeEventListener("abort",tt)},Xt=()=>{$t(),wt()},tt=()=>{Zt(rt.error||new DOMException("AbortError","AbortError")),wt()};rt.addEventListener("complete",Xt),rt.addEventListener("error",tt),rt.addEventListener("abort",tt)});Ae.set(rt,lt)}(rt),f(rt,function Pe(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(rt,gt):rt)}function Qt(rt){if(rt instanceof IDBRequest)return function Ze(rt){const lt=new Promise(($t,Zt)=>{const wt=()=>{rt.removeEventListener("success",Xt),rt.removeEventListener("error",tt)},Xt=()=>{$t(Qt(rt.result)),wt()},tt=()=>{Zt(rt.error),wt()};rt.addEventListener("success",Xt),rt.addEventListener("error",tt)});return lt.then($t=>{$t instanceof IDBCursor&&Ie.set($t,rt)}).catch(()=>{}),Se.set(lt,rt),lt}(rt);if(ce.has(rt))return ce.get(rt);const lt=Ht(rt);return lt!==rt&&(ce.set(rt,lt),Se.set(lt,rt)),lt}const gn=rt=>Se.get(rt);function Pn(rt,lt,{blocked:$t,upgrade:Zt,blocking:wt,terminated:Xt}={}){const tt=indexedDB.open(rt,lt),st=Qt(tt);return Zt&&tt.addEventListener("upgradeneeded",pt=>{Zt(Qt(tt.result),pt.oldVersion,pt.newVersion,Qt(tt.transaction))}),$t&&tt.addEventListener("blocked",()=>$t()),st.then(pt=>{Xt&&pt.addEventListener("close",()=>Xt()),wt&&pt.addEventListener("versionchange",()=>wt())}).catch(()=>{}),st}function Me(rt,{blocked:lt}={}){const $t=indexedDB.deleteDatabase(rt);return lt&&$t.addEventListener("blocked",()=>lt()),Qt($t).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],ct=new Map;function Nt(rt,lt){if(!(rt instanceof IDBDatabase)||lt in rt||"string"!=typeof lt)return;if(ct.get(lt))return ct.get(lt);const $t=lt.replace(/FromIndex$/,""),Zt=lt!==$t,wt=Oe.includes($t);if(!($t in(Zt?IDBIndex:IDBObjectStore).prototype)||!wt&&!Ce.includes($t))return;const Xt=function(){var tt=(0,p.Z)(function*(st,...pt){const St=this.transaction(st,wt?"readwrite":"readonly");let Wt=St.store;return Zt&&(Wt=Wt.index(pt.shift())),(yield Promise.all([Wt[$t](...pt),wt&&St.done]))[0]});return function(pt){return tt.apply(this,arguments)}}();return ct.set(lt,Xt),Xt}!function Lt(rt){gt=rt(gt)}(rt=>({...rt,get:(lt,$t,Zt)=>Nt(lt,$t)||rt.get(lt,$t,Zt),has:(lt,$t)=>!!Nt(lt,$t)||rt.has(lt,$t)}))},7185:(bn,ot,B)=>{B.d(ot,{Rh:()=>pt,_W:()=>Xt});var p=B(1571),f=B(7340),le=B(7579),Ne=B(6895),Pe=B(1481);const _e=["toast-component",""];function Ie(ht,jt){if(1&ht){const We=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(We);const Tt=p.oxw();return p.KtG(Tt.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function Ae(ht,jt){if(1&ht&&(p.ynx(0),p._uU(1),p.BQk()),2&ht){const We=p.oxw(2);p.xp6(1),p.hij("[",We.duplicatesCount+1,"]")}}function Ge(ht,jt){if(1&ht&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,Ae,2,1,"ng-container",4),p.qZA()),2&ht){const We=p.oxw();p.Tol(We.options.titleClass),p.uIk("aria-label",We.title),p.xp6(1),p.hij(" ",We.title," "),p.xp6(1),p.Q6J("ngIf",We.duplicatesCount)}}function ce(ht,jt){if(1&ht&&p._UZ(0,"div",7),2&ht){const We=p.oxw();p.Tol(We.options.messageClass),p.Q6J("innerHTML",We.message,p.oJD)}}function Se(ht,jt){if(1&ht&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&ht){const We=p.oxw();p.Tol(We.options.messageClass),p.uIk("aria-label",We.message),p.xp6(1),p.hij(" ",We.message," ")}}function Ze(ht,jt){if(1&ht&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&ht){const We=p.oxw();p.xp6(1),p.Udp("width",We.width+"%")}}class Me{constructor(jt,We){this.component=jt,this.injector=We}attach(jt,We){return this._attachedHost=jt,jt.attach(this,We)}detach(){const jt=this._attachedHost;if(jt)return this._attachedHost=void 0,jt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(jt){this._attachedHost=jt}}class Ce{attach(jt,We){return this._attachedPortal=jt,this.attachComponentPortal(jt,We)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(jt){this._disposeFn=jt}}class Oe{constructor(jt){this._overlayRef=jt,this.duplicatesCount=0,this._afterClosed=new le.x,this._activate=new le.x,this._manualClose=new le.x,this._resetTimeout=new le.x,this._countDuplicate=new le.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(jt,We){jt&&this._resetTimeout.next(),We&&this._countDuplicate.next(++this.duplicatesCount)}}class ct{constructor(jt,We,et,Tt,un,fi){this.toastId=jt,this.config=We,this.message=et,this.title=Tt,this.toastType=un,this.toastRef=fi,this._onTap=new le.x,this._onAction=new le.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(jt){this._onAction.next(jt)}onAction(){return this._onAction.asObservable()}}const rt=new p.OlP("ToastConfig");class lt extends Ce{constructor(jt,We,et){super(),this._hostDomElement=jt,this._componentFactoryResolver=We,this._appRef=et}attachComponentPortal(jt,We){const et=this._componentFactoryResolver.resolveComponentFactory(jt.component);let Tt;return Tt=et.create(jt.injector),this._appRef.attachView(Tt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Tt.hostView),Tt.destroy()}),We?this._hostDomElement.insertBefore(this._getComponentRootNode(Tt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Tt)),Tt}_getComponentRootNode(jt){return jt.hostView.rootNodes[0]}}class $t{constructor(jt){this._portalHost=jt}attach(jt,We=!0){return this._portalHost.attach(jt,We)}detach(){return this._portalHost.detach()}}let Zt=(()=>{class ht{constructor(We){this._document=We}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const We=this._document.createElement("div");We.classList.add("overlay-container"),We.setAttribute("aria-live","polite"),this._document.body.appendChild(We),this._containerElement=We}}return ht.\u0275fac=function(We){return new(We||ht)(p.LFG(Ne.K0))},ht.\u0275prov=p.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),wt=(()=>{class ht{constructor(We,et,Tt,un){this._overlayContainer=We,this._componentFactoryResolver=et,this._appRef=Tt,this._document=un,this._paneElements=new Map}create(We,et){return this._createOverlayRef(this.getPaneElement(We,et))}getPaneElement(We="",et){return this._paneElements.get(et)||this._paneElements.set(et,{}),this._paneElements.get(et)[We]||(this._paneElements.get(et)[We]=this._createPaneElement(We,et)),this._paneElements.get(et)[We]}_createPaneElement(We,et){const Tt=this._document.createElement("div");return Tt.id="toast-container",Tt.classList.add(We),Tt.classList.add("toast-container"),et?et.getContainerElement().appendChild(Tt):this._overlayContainer.getContainerElement().appendChild(Tt),Tt}_createPortalHost(We){return new lt(We,this._componentFactoryResolver,this._appRef)}_createOverlayRef(We){return new $t(this._createPortalHost(We))}}return ht.\u0275fac=function(We){return new(We||ht)(p.LFG(Zt),p.LFG(p._Vd),p.LFG(p.z2F),p.LFG(Ne.K0))},ht.\u0275prov=p.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),Xt=(()=>{class ht{constructor(We,et,Tt,un,fi){this.overlay=et,this._injector=Tt,this.sanitizer=un,this.ngZone=fi,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...We.default,...We.config},We.config.iconClasses&&(this.toastrConfig.iconClasses={...We.default.iconClasses,...We.config.iconClasses})}show(We,et,Tt={},un=""){return this._preBuildNotification(un,We,et,this.applyConfig(Tt))}success(We,et,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",We,et,this.applyConfig(Tt))}error(We,et,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",We,et,this.applyConfig(Tt))}info(We,et,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",We,et,this.applyConfig(Tt))}warning(We,et,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",We,et,this.applyConfig(Tt))}clear(We){for(const et of this.toasts)if(void 0!==We){if(et.toastId===We)return void et.toastRef.manualClose()}else et.toastRef.manualClose()}remove(We){const et=this._findToast(We);if(!et||(et.activeToast.toastRef.close(),this.toasts.splice(et.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Tt=this.toasts[this.currentlyActive].toastRef;Tt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Tt.activate())}return!0}findDuplicate(We="",et="",Tt,un){const{includeTitleDuplicates:fi}=this.toastrConfig;for(const an of this.toasts)if((!fi||fi&&an.title===We)&&an.message===et)return an.toastRef.onDuplicate(Tt,un),an;return null}applyConfig(We={}){return{...this.toastrConfig,...We}}_findToast(We){for(let et=0;et<this.toasts.length;et++)if(this.toasts[et].toastId===We)return{index:et,activeToast:this.toasts[et]};return null}_preBuildNotification(We,et,Tt,un){return un.onActivateTick?this.ngZone.run(()=>this._buildNotification(We,et,Tt,un)):this._buildNotification(We,et,Tt,un)}_buildNotification(We,et,Tt,un){if(!un.toastComponent)throw new Error("toastComponent required");const fi=this.findDuplicate(Tt,et,this.toastrConfig.resetTimeoutOnDuplicate&&un.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Tt||et)&&this.toastrConfig.preventDuplicates&&null!==fi)return fi;this.previousToastMessage=et;let an=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(an=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const dn=this.overlay.create(un.positionClass,this.overlayContainer);this.index=this.index+1;let Un=et;et&&un.enableHtml&&(Un=this.sanitizer.sanitize(p.q3G.HTML,et));const Bn=new Oe(dn),ci=new ct(this.index,un,Un,Tt,We,Bn),wn=p.zs3.create({providers:[{provide:ct,useValue:ci}],parent:this._injector}),Di=new Me(un.toastComponent,wn),Jn=dn.attach(Di,un.newestOnTop);Bn.componentInstance=Jn.instance;const di={toastId:this.index,title:Tt||"",message:et||"",toastRef:Bn,onShown:Bn.afterActivate(),onHidden:Bn.afterClosed(),onTap:ci.onTap(),onAction:ci.onAction(),portal:Jn};return an||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{di.toastRef.activate()})),this.toasts.push(di),di}}return ht.\u0275fac=function(We){return new(We||ht)(p.LFG(rt),p.LFG(wt),p.LFG(p.zs3),p.LFG(Pe.H7),p.LFG(p.R0b))},ht.\u0275prov=p.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})();const st={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class ht{constructor(We,et,Tt){this.toastrService=We,this.toastPackage=et,this.ngZone=Tt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=et.message,this.title=et.title,this.options=et.config,this.originalTimeout=et.config.timeOut,this.toastClasses=`${et.toastType} ${et.config.toastClass}`,this.sub=et.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=et.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=et.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=et.toastRef.countDuplicate().subscribe(un=>{this.duplicatesCount=un})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const We=(new Date).getTime();this.width=(this.hideTime-We)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(We,et){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(We),et)):this.timeout=setTimeout(()=>We(),et)}outsideInterval(We,et){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(We),et)):this.intervalId=setInterval(()=>We(),et)}runInsideAngular(We){this.ngZone?this.ngZone.run(()=>We()):We()}}return ht.\u0275fac=function(We){return new(We||ht)(p.Y36(Xt),p.Y36(ct),p.Y36(p.R0b))},ht.\u0275cmp=p.Xpm({type:ht,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(We,et){1&We&&p.NdJ("click",function(){return et.tapToast()})("mouseenter",function(){return et.stickAround()})("mouseleave",function(){return et.delayedHideToast()}),2&We&&(p.d8E("@flyInOut",et.state),p.Tol(et.toastClasses),p.Udp("display",et.displayStyle))},attrs:_e,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(We,et){1&We&&(p.YNc(0,Ie,3,0,"button",0),p.YNc(1,Ge,3,5,"div",1),p.YNc(2,ce,1,3,"div",2),p.YNc(3,Se,2,4,"div",3),p.YNc(4,Ze,2,2,"div",4)),2&We&&(p.Q6J("ngIf",et.options.closeButton),p.xp6(1),p.Q6J("ngIf",et.title),p.xp6(1),p.Q6J("ngIf",et.message&&et.options.enableHtml),p.xp6(1),p.Q6J("ngIf",et.message&&!et.options.enableHtml),p.xp6(1),p.Q6J("ngIf",et.options.progressBar))},dependencies:[Ne.O5],encapsulation:2,data:{animation:[(0,f.X$)("flyInOut",[(0,f.SB)("inactive",(0,f.oB)({opacity:0})),(0,f.SB)("active",(0,f.oB)({opacity:1})),(0,f.SB)("removed",(0,f.oB)({opacity:0})),(0,f.eR)("inactive => active",(0,f.jt)("{{ easeTime }}ms {{ easing }}")),(0,f.eR)("active => removed",(0,f.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ht})()};let pt=(()=>{class ht{static forRoot(We={}){return{ngModule:ht,providers:[{provide:rt,useValue:{default:st,config:We}}]}}}return ht.\u0275fac=function(We){return new(We||ht)},ht.\u0275mod=p.oAB({type:ht}),ht.\u0275inj=p.cJS({imports:[Ne.ez]}),ht})()},5861:(bn,ot,B)=>{function p(le,Ne,Pe,_e,Ie,Ae,Ge){try{var ce=le[Ae](Ge),Se=ce.value}catch(Ze){return void Pe(Ze)}ce.done?Ne(Se):Promise.resolve(Se).then(_e,Ie)}function f(le){return function(){var Ne=this,Pe=arguments;return new Promise(function(_e,Ie){var Ae=le.apply(Ne,Pe);function Ge(Se){p(Ae,_e,Ie,Ge,ce,"next",Se)}function ce(Se){p(Ae,_e,Ie,Ge,ce,"throw",Se)}Ge(void 0)})}}B.d(ot,{Z:()=>f})}},bn=>{bn(bn.s=7143)}]);