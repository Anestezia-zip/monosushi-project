"use strict";(self.webpackChunkmonosushi=self.webpackChunkmonosushi||[]).push([[713],{1713:(k,l,a)=>{a.r(l),a.d(l,{ProductModule:()=>O});var u=a(6895),s=a(2786),t=a(1571),p=a(1462),g=a(303),m=a(3010);function _(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"ul",6)(1,"li",7)(2,"a",8),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.selectTab("All"))}),t._uU(3,"All"),t.qZA()(),t.TgZ(4,"li",7)(5,"a",8),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.selectTab("Philadelphia"))}),t._uU(6,"Philadelphia "),t.qZA()(),t.TgZ(7,"li",7)(8,"a",8),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.selectTab("California"))}),t._uU(9,"California"),t.qZA()(),t.TgZ(10,"li",7)(11,"a",8),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.selectTab("Baked"))}),t._uU(12,"Baked"),t.qZA()(),t.TgZ(13,"li",7)(14,"a",8),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.selectTab("Branded"))}),t._uU(15,"Branded"),t.qZA()(),t.TgZ(16,"li",7)(17,"a",8),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.selectTab("Maki"))}),t._uU(18,"Maki"),t.qZA()(),t.TgZ(19,"li",7)(20,"a",8),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.selectTab("Premium"))}),t._uU(21,"Premium"),t.qZA()()()}if(2&o){const n=t.oxw();t.xp6(2),t.ekj("active","All"===n.selectedTab),t.xp6(3),t.ekj("active","Philadelphia"===n.selectedTab),t.xp6(3),t.ekj("active","California"===n.selectedTab),t.xp6(3),t.ekj("active","Baked"===n.selectedTab),t.xp6(3),t.ekj("active","Branded"===n.selectedTab),t.xp6(3),t.ekj("active","Maki"===n.selectedTab),t.xp6(3),t.ekj("active","Premium"===n.selectedTab)}}const f=function(o,r){return[o,r]};function h(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"div",9)(1,"div",10),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"div",12)(4,"div",13),t._uU(5),t.qZA(),t.TgZ(6,"div",14)(7,"div",15),t._uU(8),t.qZA(),t.TgZ(9,"div",16),t._uU(10),t.qZA()(),t.TgZ(11,"div",17)(12,"div",18),t._uU(13),t.qZA(),t.TgZ(14,"div",19)(15,"button",20),t.NdJ("click",function(){const c=t.CHM(n).$implicit,d=t.oxw();return t.KtG(d.productCount(c,!1))}),t._UZ(16,"i",21),t.qZA(),t._UZ(17,"input",22),t.TgZ(18,"button",20),t.NdJ("click",function(){const c=t.CHM(n).$implicit,d=t.oxw();return t.KtG(d.productCount(c,!0))}),t._UZ(19,"i",23),t.qZA()(),t.TgZ(20,"button",24),t.NdJ("click",function(){const c=t.CHM(n).$implicit,d=t.oxw();return t.KtG(d.addToBasket(c))}),t._uU(21,"ORDER"),t.qZA()()()()}if(2&o){const n=r.$implicit;t.xp6(1),t.Q6J("routerLink",t.WLB(8,f,"/products/"+n.path,n.id)),t.xp6(1),t.Q6J("src",n.imagePath,t.LSH),t.xp6(2),t.Q6J("routerLink",t.WLB(11,f,"/products/"+n.path,n.id)),t.xp6(1),t.Oqu(n.name),t.xp6(3),t.Oqu(n.ingredients),t.xp6(2),t.Oqu(n.weight),t.xp6(3),t.hij("",n.price*n.count," \u0433\u0440\u043d"),t.xp6(4),t.Q6J("value",n.count)}}let x=(()=>{class o{selectTab(n){this.selectedTab=n}constructor(n,e,i,c){this.productService=n,this.activatedRoute=e,this.router=i,this.orderService=c,this.userProducts=[],this.evenSubscription=this.router.events.subscribe(d=>{d instanceof s.m2&&this.loadProducts()})}ngOnInit(){this.loadProducts(),this.selectedTab="All"}loadProducts(){const n=this.activatedRoute.snapshot.paramMap.get("category");this.productService.getAllByCategory(n).then(e=>{this.userProducts=e,this.currentCategoryName=this.userProducts[0].category.name})}ngOnDestroy(){this.evenSubscription.unsubscribe()}productCount(n,e){e?++n.count:!e&&n.count>1&&--n.count}addToBasket(n){let e=[];if(localStorage.length>0&&localStorage.getItem("basket"))if(e=JSON.parse(localStorage.getItem("basket")),e.some(i=>i.id===n.id)){const i=e.findIndex(c=>c.id===n.id);e[i].count+=n.count}else e.push(n);else e.push(n);localStorage.setItem("basket",JSON.stringify(e)),n.count=1,this.orderService.changeBasket.next(!0)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(p.M),t.Y36(s.gz),t.Y36(s.F0),t.Y36(g.p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product"]],decls:8,vars:5,consts:[[1,"main-line"],[1,"main-title"],["class","products-tabs",4,"ngIf"],[1,"cards-container"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[1,"products-tabs"],[1,"products-item"],[1,"products-link",3,"click"],[1,"card"],[1,"img-wrap",3,"routerLink"],["alt","",3,"src"],[1,"card-content"],[1,"title",3,"routerLink"],[1,"card-description"],[1,"description"],[1,"weight"],[1,"card-footer"],[1,"price"],[1,"amount"],[3,"click"],[1,"fa-solid","fa-minus","fa-lg"],["type","text",1,"amount-input",3,"value"],[1,"fa-solid","fa-plus","fa-lg"],[1,"order-btn",3,"click"]],template:function(n,e){1&n&&(t._UZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2,"Products"),t.qZA(),t.YNc(3,_,22,14,"ul",2),t.TgZ(4,"div",3)(5,"div",4),t.YNc(6,h,22,14,"div",5),t.ALo(7,"sort"),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("ngIf","/products/rolls"===e.router.url),t.xp6(3),t.Q6J("ngForOf",t.xi3(7,2,e.userProducts,e.selectedTab)))},dependencies:[u.sg,u.O5,s.rH,m.U],styles:[".main-line[_ngcontent-%COMP%]{width:180px;height:6px;background-color:#b5d8f7;margin:30px auto 10px;border-radius:6px}.main-title[_ngcontent-%COMP%]{width:170px;font-size:36px;font-weight:700;margin:auto auto 20px}.products-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:46px auto;padding:0;list-style:none}.products-tabs[_ngcontent-%COMP%]   .products-item[_ngcontent-%COMP%]   .products-link[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#000;border:1px solid lightgray;padding:26px 50px;font-weight:700}.products-tabs[_ngcontent-%COMP%]   .products-item[_ngcontent-%COMP%]   .products-link.active[_ngcontent-%COMP%]{border-bottom-color:transparent;border-left-color:transparent;border-top:5px solid #b5d8f7;padding:22px 50px}.cards-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.cards[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;max-width:300px;padding:10px;margin:1px;border-radius:10px;border:1px solid transparent;overflow:hidden;transition:.3s all ease-in-out}.card[_ngcontent-%COMP%]:hover{border:1px solid #b5d8f7;border-radius:6px;transition:.3s all ease-in-out}.card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.02);transition:transform .2s ease-in-out}.card[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{color:#b5d8f7;transition:.2s all ease-in-out}.img-wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:250px;width:100%;overflow:hidden}.img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;object-fit:cover}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;height:calc(100% - 250px);padding:20px}.title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;text-align:center;margin-bottom:10px;transition:.2s ease-in-out}.description[_ngcontent-%COMP%]{font-size:16px;text-align:left;margin-bottom:10px}.card-description[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;font-size:18px}.weight[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;min-width:54px}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;margin-top:10px}.price[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.amount[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:18px;border:1px solid lightgray;padding:12px 6px;border-radius:6px;margin-left:16px}.amount-input[_ngcontent-%COMP%]{font-size:20px;width:20px;border:none}.amount[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;border-radius:6px;border:none;background-color:transparent;color:#000;outline:none;cursor:pointer;margin:0 10px}.amount[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transition:.2s all ease-in-out;background-color:#b5d8f7}.order-btn[_ngcontent-%COMP%]{background-color:#b5d8f7;border-radius:6px;border:2px solid #b5d8f7;padding:10px;font-weight:700;font-size:16px;margin-left:16px;transition:.2s all ease-in-out}.order-btn[_ngcontent-%COMP%]:hover{transition:.2s all ease-in-out;background-color:#fff}@media (max-width: 1318px){.products-tabs[_ngcontent-%COMP%]{display:none}.main-line[_ngcontent-%COMP%]{margin-top:130px}.cards[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}@media (max-width: 703px){.card[_ngcontent-%COMP%]{max-width:480px;margin-top:20px}}"]}),o})();const P=function(){return["/"]},C=function(){return["/products/rolls"]},b=[{path:"",component:x,pathMatch:"full"},{path:":category/:id",component:(()=>{class o{constructor(n,e,i){this.productService=n,this.activatedRoute=e,this.orderService=i}ngOnInit(){this.loadProducts()}loadProducts(){const n=this.activatedRoute.snapshot.paramMap.get("id");this.productService.getOneFirebase(n).subscribe(e=>{this.currentProduct=e})}productCount(n,e){e?++n.count:!e&&n.count>1&&--n.count}addToBasket(n){let e=[];if(localStorage.length>0&&localStorage.getItem("basket"))if(e=JSON.parse(localStorage.getItem("basket")),e.some(i=>i.id===n.id)){const i=e.findIndex(c=>c.id===n.id);e[i].count+=n.count}else e.push(n);else e.push(n);localStorage.setItem("basket",JSON.stringify(e)),n.count=1,this.orderService.changeBasket.next(!0)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(p.M),t.Y36(s.gz),t.Y36(g.p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-info"]],decls:38,vars:11,consts:[[1,"discount-nav"],["routerLinkActive","active",1,"nav-text",3,"routerLink"],[1,"nav-circle"],[1,"nav-text"],[1,"cards-container"],[1,"card"],[1,"img-wrap"],["alt","",3,"src"],[1,"card-content"],[1,"title"],[1,"card-description"],[1,"description"],[1,"weight"],[1,"card-footer"],[1,"price"],[1,"amount"],[3,"click"],[1,"fa-solid","fa-minus","fa-lg"],["type","text",1,"amount-input",3,"value"],[1,"fa-solid","fa-plus","fa-lg"],[1,"order-btn",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"Main"),t.qZA(),t.TgZ(3,"span",2),t._uU(4,"\u2022"),t.qZA(),t.TgZ(5,"span",1),t._uU(6,"Products"),t.qZA(),t.TgZ(7,"span",2),t._uU(8,"\u2022"),t.qZA(),t.TgZ(9,"span",3),t._uU(10),t.qZA()(),t.TgZ(11,"div",4)(12,"div",5)(13,"div",6),t._UZ(14,"img",7),t.qZA(),t.TgZ(15,"div",8)(16,"div",9),t._uU(17),t.qZA(),t.TgZ(18,"div",10)(19,"div",11)(20,"span"),t._uU(21,"Ingredients: "),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"div",12)(24,"span"),t._uU(25,"Weight: "),t.qZA(),t._uU(26),t.qZA()(),t.TgZ(27,"div",13)(28,"div",14),t._uU(29),t.qZA(),t.TgZ(30,"div",15)(31,"button",16),t.NdJ("click",function(){return e.productCount(e.currentProduct,!1)}),t._UZ(32,"i",17),t.qZA(),t._UZ(33,"input",18),t.TgZ(34,"button",16),t.NdJ("click",function(){return e.productCount(e.currentProduct,!0)}),t._UZ(35,"i",19),t.qZA()(),t.TgZ(36,"button",20),t.NdJ("click",function(){return e.addToBasket(e.currentProduct)}),t._uU(37,"ORDER"),t.qZA()()()()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(9,P)),t.xp6(4),t.Q6J("routerLink",t.DdM(10,C)),t.xp6(5),t.Oqu(e.currentProduct.name),t.xp6(4),t.Q6J("src",e.currentProduct.imagePath,t.LSH),t.xp6(3),t.Oqu(e.currentProduct.name),t.xp6(5),t.hij(" ",e.currentProduct.ingredients,""),t.xp6(4),t.hij(" ",e.currentProduct.weight,""),t.xp6(3),t.hij(" ",e.currentProduct.price*e.currentProduct.count," \u0433\u0440\u043d"),t.xp6(4),t.Q6J("value",e.currentProduct.count))},dependencies:[s.rH,s.Od],styles:[".cards-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:100px 30px;margin:40px 18px 18px;border-radius:10px;overflow:hidden;transition:.3s all ease-in-out}.img-wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:250px;width:40%;overflow:hidden}.img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;object-fit:cover}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;height:calc(100% - 250px);padding:10px;margin-left:80px;text-align:left}.title[_ngcontent-%COMP%]{max-width:400px;font-size:38px;font-weight:700;line-height:46px;text-align:left;margin-bottom:40px;transition:.2s ease-in-out}.description[_ngcontent-%COMP%]{text-align:left;margin-bottom:20px}.description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#b5d8f7;font-weight:700;font-size:20px}.card-description[_ngcontent-%COMP%]{font-size:18px}.weight[_ngcontent-%COMP%]{min-width:54px}.weight[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#b5d8f7;font-weight:700;font-size:20px}.card-footer[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:space-around;align-items:center;width:80%;margin-top:40px}.price[_ngcontent-%COMP%]{font-size:20px;font-weight:700;min-width:80px}.amount[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:18px;border:1px solid lightgray;padding:12px 6px;border-radius:6px}.amount-input[_ngcontent-%COMP%]{font-size:20px;width:20px;border:none}.amount[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;border-radius:6px;border:none;background-color:transparent;color:#000;outline:none;cursor:pointer;margin:0 10px}.amount[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transition:.2s all ease-in-out;background-color:#b5d8f7}.order-btn[_ngcontent-%COMP%]{background-color:#b5d8f7;border-radius:6px;border:2px solid #b5d8f7;padding:10px 16px;font-weight:700;font-size:18px;transition:.2s all ease-in-out}.order-btn[_ngcontent-%COMP%]:hover{transition:.2s all ease-in-out;background-color:#fff}.discount-nav[_ngcontent-%COMP%]{margin-top:25px;margin-left:60px}.nav-circle[_ngcontent-%COMP%]{font-size:30px;margin-left:8px;margin-right:8px}.nav-text[_ngcontent-%COMP%]{font-size:16px}"]}),o})()},{path:":category",component:x}];let M=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.Bz.forChild(b),s.Bz]}),o})();var v=a(9424);let O=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,M,v.m]}),o})()}}]);